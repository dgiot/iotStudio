{
    "version": 3,
    "file": "TooltipWrapper.js",
    "sourceRoot": "",
    "sources": [
        "/src/components/TooltipWrapper.tsx"
    ],
    "names": [],
    "mappings": ";AAAA;;;;GAIG;;;;AAEH,6DAA0B;AAC1B,6DAA0B;AAC1B,iDAA8C;AAC9C,uCAAsC;AACtC,mEAAgC;AAChC,kCAAiD;AACjD,mEAAgC;AA6BhC,IAAI,UAAU,GAAoB,IAAI,CAAC;AAEvC;IAAoC,+CAGnC;IAcC,wBAAY,KAA0B;QAAtC,YACE,kBAAM,KAAK,CAAC,SAgBb;QAlBD,aAAO,GAAG,IAAI,CAAC;QAIb,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC3C,KAAI,CAAC,IAAI,GAAG,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACjC,KAAI,CAAC,IAAI,GAAG,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACjC,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC7C,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC7C,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC/C,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC/C,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC7C,KAAI,CAAC,eAAe,GAAG,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACvD,KAAI,CAAC,cAAc,GAAG,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAErD,KAAI,CAAC,KAAK,GAAG;YACX,IAAI,EAAE,KAAK;SACZ,CAAC;;IACJ,CAAC;IAED,6CAAoB,GAApB;QACE,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACzB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACvB,CAAC;IAED,kCAAS,GAAT;QACE,OAAO,IAAA,uBAAW,EAAC,IAAI,CAAC,CAAC;IAC3B,CAAC;IAED,6BAAI,GAAJ;QACE,IAAI,CAAC,QAAQ,CAAC;YACZ,IAAI,EAAE,IAAI;SACX,CAAC,CAAC;IACL,CAAC;IAED,6BAAI,GAAJ;QACE,UAAU,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,OAAO;YACV,IAAI,CAAC,QAAQ,CAAC;gBACZ,IAAI,EAAE,KAAK;aACZ,CAAC,CAAC;IACP,CAAC;IAED,sCAAa,GAAb;QACE,IAAM,KAAK,GAAG,eAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QACvD,OAAO,KAAK,IAAK,KAAa,CAAC,KAAK,CAAC;IACvC,CAAC;IAED,mCAAU,GAAV;QACE,4BAA4B;QAC5B,UAAU;QACV,YAAY;QACZ,kBAAkB;QAElB,6CAA6C;QAC7C,eAAe;QACf,UAAU,IAAI,UAAU,EAAE,CAAC;QAC3B,IAAI,CAAC,IAAI,EAAE,CAAC;IACd,CAAC;IAED,mCAAU,GAAV;QACE,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAClB,IAAA,KAAK,GAAI,IAAI,CAAC,KAAK,MAAd,CAAe;QAE3B,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAClC,IAAI,CAAC,KAAK,GAAG,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAC5C,CAAC;IAED,oCAAW,GAAX,UAAY,CAAM;QACT,IAAA,OAAO,GAAI,IAAI,CAAC,aAAa,EAAE,QAAxB,CAAyB;QACvC,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,OAAO,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC;IACxB,CAAC;IAED,mCAAU,GAAV,UAAW,CAAM;QACR,IAAA,MAAM,GAAI,IAAI,CAAC,aAAa,EAAE,OAAxB,CAAyB;QACtC,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,MAAM,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC;IAED,wCAAe,GAAf,UAAgB,CAAM;QACpB,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,EAAE,aAAa,CAAC,CAAC;IAC7D,CAAC;IAED,uCAAc,GAAd,UAAe,CAAM;QACnB,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,EAAE,WAAW,CAAC,CAAC;IAC3D,CAAC;IAED,2CAAkB,GAAlB,UACE,OAAiB,EACjB,CAAgC,EAChC,aAAqB;QAErB,IAAM,MAAM,GAAG,CAAC,CAAC,aAAa,CAAC;QAC/B,IAAM,OAAO,GACX,CAAC,CAAC,aAAa,IAAK,CAAS,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;QAE3D,IAAI,CAAC,CAAC,OAAO,IAAI,OAAO,KAAK,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;YACjE,OAAO,CAAC,CAAC,CAAC,CAAC;SACZ;IACH,CAAC;IAED,oCAAW,GAAX,UAAY,CAAM;QACT,IAAA,OAAO,GAAI,IAAI,CAAC,aAAa,EAAE,QAAxB,CAAyB;QACvC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;QAC5C,OAAO,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC;IACxB,CAAC;IAED,+BAAM,GAAN;QACQ,IAAA,KAQF,IAAI,CAAC,KAAK,EAPZ,OAAO,aAAA,EACP,QAAQ,cAAA,EACR,SAAS,eAAA,EACT,SAAS,eAAA,EACT,OAAO,aAAA,EACP,SAAS,eAAA,EACT,gBAAgB,sBACJ,CAAC;QAEf,IAAM,KAAK,GAAG,eAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAE5C,IAAI,CAAC,OAAO,EAAE;YACZ,OAAO,KAAK,CAAC;SACd;QAED,IAAM,UAAU,GAAQ;YACtB,GAAG,EAAE,QAAQ;SACd,CAAC;QAEF,IAAM,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;QAEvE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;YAC9B,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC;SACvC;QAED,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;YAC9B,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC;YACrC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC;SACrC;QAED,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;YAC9B,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC;YAC9C,UAAU,CAAC,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC;SAC7C;QAED,OAAO;YACL,KAAK,CAAC,CAAC,CAAC,eAAK,CAAC,YAAY,CAAC,KAAY,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI;YAE3D,8BAAC,iBAAO,IACN,GAAG,EAAC,SAAS,EACb,MAAM,EAAE,IAAI,CAAC,SAAS,EACtB,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EACrB,MAAM,EAAE,IAAI,CAAC,UAAU,EACvB,SAAS,EAAE,SAAS,EACpB,SAAS,EAAE,SAAS,EACpB,SAAS,EAAE,SAAS;gBAEpB,8BAAC,iBAAO,IACN,KAAK,EAAE,OAAO,OAAO,KAAK,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,EAC9D,SAAS,EAAE,gBAAgB,IAE1B,OAAO,IAAK,OAAyB,CAAC,MAAM,CAAC,CAAC,CAAC,CAC9C,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CACf,OAAyB,CAAC,MAAO,EAAE,CACrC,CAAC,CAAC,CAAC,IAAI,CACT,CAAC,CAAC,CAAC,OAAO,IAAK,OAAyB,CAAC,GAAG,CAAC,CAAC,CAAC,CAC7C,OAAyB,CAAC,GAAI,CAChC,CAAC,CAAC,CAAC,CACF,8BAAC,cAAI,IACH,IAAI,EACF,OAAO,OAAO,KAAK,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,IAAI,EAAE,GAE/D,CACH,CACO,CACF;SACX,CAAC;IACJ,CAAC;IA7LM,2BAAY,GAGf;QACF,SAAS,EAAE,KAAK;QAChB,OAAO,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC;QAC3B,SAAS,EAAE,KAAK;QAChB,KAAK,EAAE,GAAG;KACX,CAAC;IAsLJ,qBAAC;CAAA,AAlMD,CAAoC,eAAK,CAAC,SAAS,GAkMlD;AAlMY,wCAAc;AAoM3B,kBAAe,IAAA,iBAAS,EACtB,IAAA,+BAAc,EAAC,cAAc,EAAE;IAC7B,IAAI,EAAE,iBAAiB;CACxB,CAAC,CACH,CAAC",
    "sourcesContent": [
        "/**\n * @file TooltipWrapper\n * @description\n * @author fex\n */\n\nimport React from 'react';\nimport Html from './Html';\nimport {uncontrollable} from 'uncontrollable';\nimport {findDOMNode} from 'react-dom';\nimport Tooltip from './Tooltip';\nimport {ClassNamesFn, themeable} from '../theme';\nimport Overlay from './Overlay';\n\nexport interface TooltipObject {\n  title?: string;\n  content?: string;\n  render?: () => JSX.Element;\n  dom?: JSX.Element;\n}\n\nexport type Trigger = 'hover' | 'click' | 'focus';\n\nexport interface TooltipWrapperProps {\n  classPrefix: string;\n  classnames: ClassNamesFn;\n  placement: 'top' | 'right' | 'bottom' | 'left';\n  tooltip?: string | TooltipObject;\n  container?: React.ReactNode;\n  trigger: Trigger | Array<Trigger>;\n  rootClose: boolean;\n  overlay?: any;\n  delay: number;\n  theme?: string;\n  tooltipClassName?: string;\n}\n\ninterface TooltipWrapperState {\n  show?: boolean;\n}\n\nlet waitToHide: Function | null = null;\n\nexport class TooltipWrapper extends React.Component<\n  TooltipWrapperProps,\n  TooltipWrapperState\n> {\n  static defaultProps: Pick<\n    TooltipWrapperProps,\n    'placement' | 'trigger' | 'rootClose' | 'delay'\n  > = {\n    placement: 'top',\n    trigger: ['hover', 'focus'],\n    rootClose: false,\n    delay: 200\n  };\n\n  target: HTMLElement;\n  timer: ReturnType<typeof setTimeout>;\n  moutned = true;\n  constructor(props: TooltipWrapperProps) {\n    super(props);\n\n    this.getTarget = this.getTarget.bind(this);\n    this.show = this.show.bind(this);\n    this.hide = this.hide.bind(this);\n    this.handleShow = this.handleShow.bind(this);\n    this.handleHide = this.handleHide.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleFocus = this.handleFocus.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n    this.handleMouseOver = this.handleMouseOver.bind(this);\n    this.handleMouseOut = this.handleMouseOut.bind(this);\n\n    this.state = {\n      show: false\n    };\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timer);\n    this.moutned = false;\n  }\n\n  getTarget() {\n    return findDOMNode(this);\n  }\n\n  show() {\n    this.setState({\n      show: true\n    });\n  }\n\n  hide() {\n    waitToHide = null;\n    this.moutned &&\n      this.setState({\n        show: false\n      });\n  }\n\n  getChildProps() {\n    const child = React.Children.only(this.props.children);\n    return child && (child as any).props;\n  }\n\n  handleShow() {\n    // clearTimeout(this.timer);\n    // const {\n    //     delay\n    // } = this.props;\n\n    // this.timer = setTimeout(this.show, delay);\n    // 顺速让即将消失的层消失。\n    waitToHide && waitToHide();\n    this.show();\n  }\n\n  handleHide() {\n    clearTimeout(this.timer);\n    const {delay} = this.props;\n\n    waitToHide = this.hide.bind(this);\n    this.timer = setTimeout(this.hide, delay);\n  }\n\n  handleFocus(e: any) {\n    const {onFocus} = this.getChildProps();\n    this.handleShow();\n    onFocus && onFocus(e);\n  }\n\n  handleBlur(e: any) {\n    const {onBlur} = this.getChildProps();\n    this.handleHide();\n    onBlur && onBlur(e);\n  }\n\n  handleMouseOver(e: any) {\n    this.handleMouseOverOut(this.handleShow, e, 'fromElement');\n  }\n\n  handleMouseOut(e: any) {\n    this.handleMouseOverOut(this.handleHide, e, 'toElement');\n  }\n\n  handleMouseOverOut(\n    handler: Function,\n    e: React.MouseEvent<HTMLElement>,\n    relatedNative: string\n  ) {\n    const target = e.currentTarget;\n    const related: any =\n      e.relatedTarget || (e as any).nativeEvent[relatedNative];\n\n    if ((!related || related !== target) && !target.contains(related)) {\n      handler(e);\n    }\n  }\n\n  handleClick(e: any) {\n    const {onClick} = this.getChildProps();\n    this.state.show ? this.hide() : this.show();\n    onClick && onClick(e);\n  }\n\n  render() {\n    const {\n      tooltip,\n      children,\n      placement,\n      container,\n      trigger,\n      rootClose,\n      tooltipClassName\n    } = this.props;\n\n    const child = React.Children.only(children);\n\n    if (!tooltip) {\n      return child;\n    }\n\n    const childProps: any = {\n      key: 'target'\n    };\n\n    const triggers = Array.isArray(trigger) ? trigger.concat() : [trigger];\n\n    if (~triggers.indexOf('click')) {\n      childProps.onClick = this.handleClick;\n    }\n\n    if (~triggers.indexOf('focus')) {\n      childProps.onFocus = this.handleShow;\n      childProps.onBlur = this.handleHide;\n    }\n\n    if (~triggers.indexOf('hover')) {\n      childProps.onMouseOver = this.handleMouseOver;\n      childProps.onMouseOut = this.handleMouseOut;\n    }\n\n    return [\n      child ? React.cloneElement(child as any, childProps) : null,\n\n      <Overlay\n        key=\"overlay\"\n        target={this.getTarget}\n        show={this.state.show}\n        onHide={this.handleHide}\n        rootClose={rootClose}\n        placement={placement}\n        container={container}\n      >\n        <Tooltip\n          title={typeof tooltip !== 'string' ? tooltip.title : undefined}\n          className={tooltipClassName}\n        >\n          {tooltip && (tooltip as TooltipObject).render ? (\n            this.state.show ? (\n              (tooltip as TooltipObject).render!()\n            ) : null\n          ) : tooltip && (tooltip as TooltipObject).dom ? (\n            (tooltip as TooltipObject).dom!\n          ) : (\n            <Html\n              html={\n                typeof tooltip === 'string' ? tooltip : tooltip.content || ''\n              }\n            />\n          )}\n        </Tooltip>\n      </Overlay>\n    ];\n  }\n}\n\nexport default themeable(\n  uncontrollable(TooltipWrapper, {\n    show: 'onVisibleChange'\n  })\n);\n"
    ]
}