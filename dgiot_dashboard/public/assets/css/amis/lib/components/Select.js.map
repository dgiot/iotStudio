{
    "version": 3,
    "file": "Select.js",
    "sourceRoot": "",
    "sources": [
        "/src/components/Select.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "/**\n * @file Select\n * @description\n * @author fex\n * @date 2017-11-07\n */\n\nimport {uncontrollable} from 'uncontrollable';\nimport React from 'react';\nimport VirtualList from './virtual-list';\nimport Overlay from './Overlay';\nimport PopOver from './PopOver';\nimport Downshift, {ControllerStateAndHelpers} from 'downshift';\nimport {closeIcon, Icon} from './icons';\n// @ts-ignore\nimport {matchSorter} from 'match-sorter';\nimport {\n  noop,\n  isObject,\n  findTree,\n  autobind,\n  ucFirst,\n  normalizeNodePath\n} from '../utils/helper';\nimport find from 'lodash/find';\nimport isPlainObject from 'lodash/isPlainObject';\nimport union from 'lodash/union';\nimport {highlight} from '../renderers/Form/Options';\nimport {findDOMNode} from 'react-dom';\nimport {ClassNamesFn, themeable, ThemeProps} from '../theme';\nimport Checkbox from './Checkbox';\nimport Input from './Input';\nimport {Api} from '../types';\nimport {LocaleProps, localeable} from '../locale';\nimport Spinner from './Spinner';\nimport {Option, Options} from '../Schema';\nimport {RemoteOptionsProps, withRemoteConfig} from './WithRemoteConfig';\n\nexport {Option, Options};\n\nexport interface OptionProps {\n  className?: string;\n  multi?: boolean;\n  multiple?: boolean;\n  valueField?: string;\n  labelField?: string;\n  simpleValue?: boolean; // 默认onChange 出去是整个 option 节点，如果配置了 simpleValue 就只包含值。\n  options: Options;\n  loading?: boolean;\n  joinValues?: boolean;\n  extractValue?: boolean;\n  delimiter?: string;\n  clearable?: boolean;\n  resetValue: any;\n  placeholder?: string;\n  disabled?: boolean;\n  creatable?: boolean;\n  pathSeparator?: string;\n  onAdd?: (\n    idx?: number | Array<number>,\n    value?: any,\n    skipForm?: boolean\n  ) => void;\n  editable?: boolean;\n  onEdit?: (value: Option, origin?: Option, skipForm?: boolean) => void;\n  removable?: boolean;\n  onDelete?: (value: Option) => void;\n}\n\nexport type OptionValue = string | number | null | undefined | Option;\n\nexport function value2array(\n  value: OptionValue | Array<OptionValue>,\n  props: Pick<\n    OptionProps,\n    | 'multi'\n    | 'multiple'\n    | 'delimiter'\n    | 'valueField'\n    | 'labelField'\n    | 'options'\n    | 'pathSeparator'\n  >,\n  enableNodePath: boolean = false\n): Array<Option> {\n  if (enableNodePath) {\n    value = normalizeNodePath(\n      value,\n      enableNodePath,\n      props.labelField,\n      props.valueField,\n      props.pathSeparator,\n      props.delimiter\n    ).nodeValueArray;\n  }\n\n  if (props.multi || props.multiple) {\n    if (typeof value === 'string') {\n      value = value.split(props.delimiter || ',');\n    }\n\n    if (!Array.isArray(value)) {\n      if (value === null || value === undefined) {\n        return [];\n      }\n\n      value = [value];\n    }\n\n    return value\n      .map((value: any) => expandValue(value, props.options, props.valueField))\n      .filter((item: any) => item) as Array<Option>;\n  } else if (Array.isArray(value)) {\n    value = value[0];\n  }\n\n  let expandedValue = expandValue(\n    value as OptionValue,\n    props.options,\n    props.valueField\n  );\n  return expandedValue ? [expandedValue] : [];\n}\n\nexport function expandValue(\n  value: OptionValue,\n  options: Options,\n  valueField = 'value'\n): Option | null {\n  const valueType = typeof value;\n\n  if (\n    valueType !== 'string' &&\n    valueType !== 'number' &&\n    valueType !== 'boolean' &&\n    valueType !== 'object'\n  ) {\n    return value as Option;\n  }\n\n  if (!options) {\n    return null;\n  }\n\n  if (\n    valueType === 'object' &&\n    value &&\n    value.hasOwnProperty(valueField || 'value')\n  ) {\n    value = (value as Option)[valueField || 'value'] ?? '';\n  }\n\n  return findTree(\n    options,\n    optionValueCompare(value, valueField || 'value')\n  ) as Option;\n}\n\nexport function matchOptionValue(\n  a: OptionValue,\n  b: Option,\n  valueField: string = 'value'\n) {\n  return isObject(a)\n    ? a === b[valueField || 'value']\n    : String(b[valueField || 'value']) === String(a);\n}\n\nexport function optionValueCompare(\n  a: OptionValue,\n  valueField: string = 'value'\n) {\n  return (b: Option) => matchOptionValue(a, b, valueField);\n}\n\nexport function normalizeOptions(\n  options: string | {[propName: string]: string} | Array<string> | Options,\n  share: {\n    values: Array<any>;\n    options: Array<any>;\n  } = {\n    values: [],\n    options: []\n  }\n): Options {\n  if (typeof options === 'string') {\n    return options.split(',').map(item => {\n      const idx = share.values.indexOf(item);\n      if (~idx) {\n        return share.options[idx];\n      }\n\n      const option = {\n        label: item,\n        value: item\n      };\n\n      share.values.push(option.value);\n      share.options.push(option);\n\n      return option;\n    });\n  } else if (\n    Array.isArray(options as Array<string>) &&\n    typeof (options as Array<string>)[0] === 'string'\n  ) {\n    return (options as Array<string>).map(item => {\n      const idx = share.values.indexOf(item);\n      if (~idx) {\n        return share.options[idx];\n      }\n\n      const option = {\n        label: item,\n        value: item\n      };\n\n      share.values.push(option.value);\n      share.options.push(option);\n\n      return option;\n    });\n  } else if (Array.isArray(options as Options)) {\n    return (options as Options).map(item => {\n      const value = item && item.value;\n\n      const idx =\n        value !== undefined && !item.children\n          ? share.values.indexOf(value)\n          : -1;\n\n      if (~idx) {\n        return share.options[idx];\n      }\n\n      const option = {\n        ...item,\n        value\n      };\n\n      if (typeof option.children !== 'undefined') {\n        option.children = normalizeOptions(option.children, share);\n      } else if (value !== undefined) {\n        share.values.push(value);\n        share.options.push(option);\n      }\n\n      return option;\n    });\n  } else if (isPlainObject(options)) {\n    return Object.keys(options).map(key => {\n      const idx = share.values.indexOf(key);\n      if (~idx) {\n        return share.options[idx];\n      }\n\n      const option = {\n        label: (options as {[propName: string]: string})[key] as string,\n        value: key\n      };\n\n      share.values.push(option.value);\n      share.options.push(option);\n\n      return option;\n    });\n  }\n\n  return [];\n}\n\nconst DownshiftChangeTypes = Downshift.stateChangeTypes;\n\ninterface SelectProps extends OptionProps, ThemeProps, LocaleProps {\n  className?: string;\n  popoverClassName?: string;\n  creatable: boolean;\n  createBtnLabel: string;\n  multiple: boolean;\n  valuesNoWrap?: boolean;\n  valueField: string;\n  labelField: string;\n  renderMenu?: (\n    item: Option,\n    states: {\n      index: number;\n      multiple?: boolean;\n      checkAll?: boolean;\n      checked: boolean;\n      onChange: () => void;\n      inputValue?: string;\n      searchable?: boolean;\n    }\n  ) => JSX.Element;\n  searchable?: boolean;\n  options: Array<Option>;\n  value: any;\n  loadOptions?: Function;\n  searchPromptText: string;\n  loadingPlaceholder: string;\n  spinnerClassName?: string;\n  noResultsText: string;\n  clearable: boolean;\n  clearAllText: string;\n  clearValueText: string;\n  placeholder: string;\n  inline: boolean;\n  disabled: boolean;\n  popOverContainer?: any;\n  overlayPlacement?: string;\n  onChange: (value: void | string | Option | Array<Option>) => void;\n  onFocus?: Function;\n  onBlur?: Function;\n  checkAll?: boolean;\n  checkAllLabel?: string;\n  checkAllBySearch?: boolean;\n  defaultCheckAll?: boolean;\n  simpleValue?: boolean;\n  defaultOpen?: boolean;\n\n  /**\n   * 边框模式，全边框，还是半边框，或者没边框。\n   */\n  borderMode?: 'full' | 'half' | 'none';\n  /**\n   * 是否隐藏已选项\n   */\n  hideSelected?: boolean;\n}\n\ninterface SelectState {\n  itemHeight: number;\n  isOpen: boolean;\n  isFocused: boolean;\n  inputValue: string;\n  highlightedIndex: number;\n  selection: Array<Option>;\n}\n\nexport class Select extends React.Component<SelectProps, SelectState> {\n  static defaultProps = {\n    multiple: false,\n    clearable: true,\n    creatable: false,\n    createBtnLabel: 'Select.createLabel',\n    searchPromptText: 'Select.searchPromptText',\n    loadingPlaceholder: 'loading',\n    noResultsText: 'noResult',\n    clearAllText: 'Select.clearAll',\n    clearValueText: 'Select.clear',\n    placeholder: 'Select.placeholder',\n    valueField: 'value',\n    labelField: 'label',\n    resetValue: '',\n    inline: false,\n    disabled: false,\n    checkAll: false,\n    checkAllLabel: 'Select.checkAll',\n    defaultCheckAll: false,\n    overlayPlacement: 'auto'\n  };\n\n  input: HTMLInputElement;\n  target: HTMLElement;\n  menu: React.RefObject<HTMLDivElement> = React.createRef();\n  constructor(props: SelectProps) {\n    super(props);\n\n    this.open = this.open.bind(this);\n    this.close = this.close.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.focus = this.focus.bind(this);\n    this.inputRef = this.inputRef.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.clearValue = this.clearValue.bind(this);\n    this.clearSearchValue = this.clearSearchValue.bind(this);\n    this.handleStateChange = this.handleStateChange.bind(this);\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n    this.getTarget = this.getTarget.bind(this);\n    this.toggleCheckAll = this.toggleCheckAll.bind(this);\n    this.handleAddClick = this.handleAddClick.bind(this);\n    this.handleEditClick = this.handleEditClick.bind(this);\n    this.handleDeleteClick = this.handleDeleteClick.bind(this);\n\n    this.state = {\n      isOpen: props.defaultOpen || false,\n      isFocused: false,\n      inputValue: '',\n      highlightedIndex: -1,\n      selection: value2array(props.value, props),\n      itemHeight: 35\n    };\n  }\n\n  componentDidMount() {\n    const {loadOptions} = this.props;\n    loadOptions && loadOptions('');\n  }\n\n  componentDidUpdate(prevProps: SelectProps) {\n    const props = this.props;\n    let fn: () => void = noop;\n\n    if (\n      JSON.stringify(props.value) !== JSON.stringify(prevProps.value) ||\n      JSON.stringify(props.options) !== JSON.stringify(prevProps.options)\n    ) {\n      const selection: Array<Option> = value2array(props.value, props);\n      this.setState(\n        {\n          selection: selection\n        },\n        fn\n      );\n    }\n  }\n\n  open() {\n    this.props.disabled ||\n      this.setState(\n        {\n          isOpen: true,\n          highlightedIndex: -1\n        },\n        () => setTimeout(this.focus, 500)\n      );\n  }\n\n  close() {\n    this.setState({\n      isOpen: false\n    });\n  }\n\n  toggle(e?: React.MouseEvent<HTMLDivElement>) {\n    if (\n      e &&\n      this.menu.current &&\n      this.menu.current.contains(e.target as HTMLElement)\n    ) {\n      return;\n    }\n\n    this.props.disabled ||\n      this.setState(\n        {\n          isOpen: !this.state.isOpen,\n          highlightedIndex: -1\n        },\n        this.state.isOpen ? undefined : () => setTimeout(this.focus, 500)\n      );\n  }\n\n  onFocus(e: any) {\n    this.props.disabled ||\n      this.state.isOpen ||\n      this.setState(\n        {\n          isFocused: true\n        },\n        this.focus\n      );\n\n    this.props.onFocus && this.props.onFocus(e);\n  }\n\n  onBlur(e: any) {\n    this.setState({\n      isFocused: false\n    });\n\n    this.props.onBlur && this.props.onBlur(e);\n  }\n\n  focus() {\n    this.input\n      ? this.input.focus()\n      : this.getTarget() && this.getTarget().focus();\n  }\n\n  blur() {\n    this.input\n      ? this.input.blur()\n      : this.getTarget() && this.getTarget().blur();\n  }\n\n  getTarget() {\n    if (!this.target) {\n      this.target = findDOMNode(this) as HTMLElement;\n    }\n    return this.target as HTMLElement;\n  }\n\n  inputRef(ref: HTMLInputElement) {\n    this.input = ref;\n  }\n\n  toggleCheckAll() {\n    const {\n      options,\n      onChange,\n      simpleValue,\n      checkAllBySearch,\n      labelField,\n      valueField\n    } = this.props;\n    const inputValue = this.state.inputValue;\n    let {selection} = this.state;\n    let filtedOptions: Array<Option> =\n      inputValue && checkAllBySearch\n        ? matchSorter(options, inputValue, {\n            keys: [labelField || 'label', valueField || 'value']\n          })\n        : options.concat();\n    const optionsValues = filtedOptions.map(option => option.value);\n    const selectionValues = selection.map(select => select.value);\n    const checkedAll = optionsValues.every(\n      option => selectionValues.indexOf(option) > -1\n    );\n\n    selection = checkedAll ? [] : filtedOptions;\n    onChange(simpleValue ? selection.map(item => item.value) : selection);\n  }\n\n  removeItem(index: number, e?: React.MouseEvent<HTMLElement>) {\n    const {onChange, simpleValue, disabled} = this.props;\n    if (disabled) {\n      return;\n    }\n    let {selection: value} = this.state;\n\n    e && e.stopPropagation();\n    value = Array.isArray(value) ? value.concat() : [value];\n    value.splice(index, 1);\n\n    onChange(simpleValue ? value.map(item => item.value) : value);\n  }\n\n  handleInputChange(evt: React.ChangeEvent<HTMLInputElement>) {\n    const {loadOptions} = this.props;\n    this.setState(\n      {\n        inputValue: evt.currentTarget.value\n      },\n      () => loadOptions && loadOptions(this.state.inputValue)\n    );\n  }\n\n  handleChange(selectItem: any) {\n    const {onChange, multiple, simpleValue, valueField} = this.props;\n    let {selection} = this.state;\n\n    if (multiple) {\n      const selectionValues = selection.map(item => item[valueField]);\n      selection = selection.concat();\n      const idx = selectionValues.indexOf(selectItem[valueField]);\n      if (~idx) {\n        selection.splice(idx, 1);\n      } else {\n        selection.push(selectItem);\n      }\n      onChange(\n        simpleValue ? selection.map(item => item[valueField]) : selection\n      );\n    } else {\n      onChange(simpleValue ? selectItem[valueField] : selectItem);\n    }\n  }\n\n  handleStateChange(changes: any) {\n    const {multiple, checkAll} = this.props;\n    let update: any = {};\n\n    switch (changes.type) {\n      case DownshiftChangeTypes.keyDownEnter:\n      case DownshiftChangeTypes.clickItem:\n        update = {\n          ...update,\n          isOpen: multiple ? true : false,\n          isFocused: multiple && checkAll ? true : false\n        };\n        break;\n      case DownshiftChangeTypes.controlledPropUpdatedSelectedItem:\n        break;\n      case DownshiftChangeTypes.changeInput:\n        update.highlightedIndex = 0;\n        break;\n      case DownshiftChangeTypes.keyDownArrowDown:\n      case DownshiftChangeTypes.keyDownArrowUp:\n      case DownshiftChangeTypes.itemMouseEnter:\n        update = {\n          ...update,\n          ...changes\n        };\n        break;\n    }\n\n    if (Object.keys(update).length) {\n      this.setState(update);\n    }\n  }\n\n  handleKeyPress(e: React.KeyboardEvent) {\n    if (this.props.multiple && e.key === ' ') {\n      this.toggle();\n      e.preventDefault();\n    }\n  }\n\n  clearValue(e: React.MouseEvent<any>) {\n    const onChange = this.props.onChange;\n    e.preventDefault();\n    e.stopPropagation();\n    onChange(this.props.resetValue);\n  }\n\n  clearSearchValue() {\n    const {loadOptions} = this.props;\n    this.setState(\n      {\n        inputValue: ''\n      },\n      () => loadOptions?.('')\n    );\n  }\n\n  handleAddClick() {\n    const {onAdd} = this.props;\n    onAdd && onAdd();\n  }\n\n  handleEditClick(e: Event, item: any) {\n    const {onEdit} = this.props;\n    e.preventDefault();\n    e.stopPropagation();\n    onEdit && onEdit(item);\n  }\n\n  handleDeleteClick(e: Event, item: any) {\n    const {onDelete} = this.props;\n    e.preventDefault();\n    e.stopPropagation();\n    onDelete && onDelete(item);\n  }\n\n  @autobind\n  menuItemRef(ref: any) {\n    ref && this.setState({itemHeight: ref.offsetHeight});\n  }\n\n  renderValue({inputValue, isOpen}: ControllerStateAndHelpers<any>) {\n    const {\n      multiple,\n      valuesNoWrap,\n      placeholder,\n      classPrefix: ns,\n      labelField,\n      disabled,\n      translate: __\n    } = this.props;\n\n    const selection = this.state.selection;\n    // console.log('selection', selection);\n\n    if (!selection.length) {\n      return (\n        <div key=\"placeholder\" className={`${ns}Select-placeholder`}>\n          {__(placeholder)}\n        </div>\n      );\n    }\n\n    return selection.map((item, index) => {\n      if (!multiple) {\n        return (\n          <div className={`${ns}Select-value`} key={index}>\n            {`${item[labelField || 'label']}`}\n          </div>\n        );\n      }\n\n      return valuesNoWrap ? (\n        `${item[labelField || 'label']}${\n          index === selection.length - 1 ? '' : ' + '\n        }`\n      ) : (\n        <div className={`${ns}Select-value`} key={index}>\n          <span\n            className={`${ns}Select-valueIcon ${\n              disabled || item.disabled ? 'is-disabled' : ''\n            }`}\n            onClick={this.removeItem.bind(this, index)}\n          >\n            ×\n          </span>\n          <span className={`${ns}Select-valueLabel`}>\n            {`${item[labelField || 'label']}`}\n          </span>\n        </div>\n      );\n    });\n  }\n\n  renderOuter({\n    selectedItem,\n    getItemProps,\n    highlightedIndex,\n    inputValue,\n    isOpen,\n    getToggleButtonProps,\n    getInputProps\n  }: ControllerStateAndHelpers<any>) {\n    const {\n      popOverContainer,\n      options,\n      valueField,\n      labelField,\n      noResultsText,\n      loadOptions,\n      creatable,\n      multiple,\n      valuesNoWrap,\n      classnames: cx,\n      popoverClassName,\n      checkAll,\n      checkAllLabel,\n      checkAllBySearch,\n      searchable,\n      createBtnLabel,\n      disabled,\n      searchPromptText,\n      editable,\n      removable,\n      overlayPlacement,\n      translate: __,\n      hideSelected,\n      renderMenu\n    } = this.props;\n    const {selection} = this.state;\n\n    let checkedAll = false;\n    let checkedPartial = false;\n    let filtedOptions: Array<Option> = (\n      inputValue && isOpen && !loadOptions\n        ? matchSorter(options, inputValue, {\n            keys: [labelField || 'label', valueField || 'value']\n          })\n        : options.concat()\n    ).filter((option: Option) => !option.hidden && option.visible !== false);\n\n    const selectionValues = selection.map(select => select[valueField]);\n    if (multiple && checkAll) {\n      const optionsValues = (checkAllBySearch ? filtedOptions : options).map(\n        option => option[valueField]\n      );\n\n      checkedAll = optionsValues.every(\n        option => selectionValues.indexOf(option) > -1\n      );\n      checkedPartial = optionsValues.some(\n        option => selectionValues.indexOf(option) > -1\n      );\n    }\n\n    const itemHeight = this.state.itemHeight;\n\n    // 渲染单个选项\n    const renderItem = ({index, style}: {index: number; style?: object}) => {\n      const item = filtedOptions[index];\n      const checked =\n        selectedItem === item || !!~selectionValues.indexOf(item[valueField]);\n      if (hideSelected && checked) {\n        return null;\n      }\n      return (\n        <div\n          {...getItemProps({\n            key:\n              typeof item.value === 'string'\n                ? `${item.label}-${item.value}`\n                : index,\n            index,\n            item,\n            disabled: item.disabled\n          })}\n          style={style}\n          className={cx(`Select-option`, {\n            'is-disabled': item.disabled,\n            'is-highlight': highlightedIndex === index,\n            'is-active': checked\n          })}\n        >\n          {removable ? (\n            <a data-tooltip={__('Select.clear')} data-position=\"left\">\n              <Icon\n                icon=\"minus\"\n                className=\"icon\"\n                onClick={(e: any) => this.handleDeleteClick(e, item)}\n              />\n            </a>\n          ) : null}\n          {editable ? (\n            <a data-tooltip=\"编辑\" data-position=\"left\">\n              <Icon\n                icon=\"pencil\"\n                className=\"icon\"\n                onClick={(e: any) => this.handleEditClick(e, item)}\n              />\n            </a>\n          ) : null}\n\n          {renderMenu ? (\n            checkAll || multiple ? (\n              <Checkbox\n                checked={checked}\n                trueValue={item.value}\n                onChange={() => {\n                  this.handleChange(item);\n                }}\n                disabled={item.disabled}\n              >\n                {renderMenu(item, {\n                  multiple,\n                  checkAll,\n                  checked,\n                  onChange: () => this.handleChange(item),\n                  inputValue: inputValue || '',\n                  searchable,\n                  index\n                })}\n              </Checkbox>\n            ) : (\n              renderMenu(item, {\n                multiple,\n                checkAll,\n                checked,\n                onChange: () => this.handleChange(item),\n                inputValue: inputValue || '',\n                searchable,\n                index\n              })\n            )\n          ) : checkAll || multiple ? (\n            <Checkbox\n              checked={checked}\n              trueValue={item.value}\n              onChange={() => {\n                this.handleChange(item);\n              }}\n              disabled={item.disabled}\n              size=\"sm\"\n            >\n              {item.disabled\n                ? item[labelField]\n                : highlight(\n                    item[labelField],\n                    inputValue as string,\n                    cx('Select-option-hl')\n                  )}\n\n              {item.tip}\n            </Checkbox>\n          ) : (\n            <span>\n              {item.disabled\n                ? item[labelField]\n                : highlight(\n                    item[labelField],\n                    inputValue as string,\n                    cx('Select-option-hl')\n                  )}\n              {item.tip}\n            </span>\n          )}\n        </div>\n      );\n    };\n\n    const menu = (\n      <div\n        ref={this.menu}\n        className={cx('Select-menu', {\n          'Select--longlist': filtedOptions.length && filtedOptions.length > 100\n        })}\n      >\n        {searchable ? (\n          <div\n            className={cx(`Select-input`, {\n              'is-focused': this.state.isFocused\n            })}\n          >\n            <Icon icon=\"search\" className=\"icon\" />\n            <Input\n              {...getInputProps({\n                onFocus: this.onFocus,\n                onBlur: this.onBlur,\n                disabled: disabled,\n                placeholder: __(searchPromptText),\n                onChange: this.handleInputChange,\n                ref: this.inputRef\n              })}\n            />\n            {inputValue?.length ? (\n              <a onClick={this.clearSearchValue} className={cx('Select-clear')}>\n                <Icon icon=\"close\" className=\"icon\" />\n              </a>\n            ) : null}\n          </div>\n        ) : null}\n        {multiple && valuesNoWrap ? (\n          <div className={cx('Select-option')}>\n            已选择({selectionValues.length})\n          </div>\n        ) : null}\n        {multiple && checkAll && filtedOptions.length ? (\n          <div className={cx('Select-option')}>\n            <Checkbox\n              checked={checkedPartial}\n              partial={checkedPartial && !checkedAll}\n              onChange={this.toggleCheckAll}\n              size=\"sm\"\n            >\n              {__(checkAllLabel)}\n            </Checkbox>\n          </div>\n        ) : null}\n\n        <div ref={this.menuItemRef} className={cx('Select-option invisible')}>\n          {multiple ? (\n            <Checkbox size=\"sm\">Placeholder</Checkbox>\n          ) : (\n            <span>Placeholder</span>\n          )}\n        </div>\n\n        {creatable && !disabled ? (\n          <a className={cx('Select-addBtn')} onClick={this.handleAddClick}>\n            <Icon icon=\"plus\" className=\"icon\" />\n            {__(createBtnLabel)}\n          </a>\n        ) : null}\n\n        {filtedOptions.length ? (\n          filtedOptions.length > 100 ? ( // 超过 100 行数据才启用 virtuallist 避免滚动条问题\n            <VirtualList\n              height={\n                filtedOptions.length > 8\n                  ? 266\n                  : filtedOptions.length * itemHeight\n              }\n              itemCount={filtedOptions.length}\n              itemSize={itemHeight}\n              renderItem={renderItem}\n            />\n          ) : (\n            filtedOptions.map((item, index) => {\n              return renderItem({index});\n            })\n          )\n        ) : (\n          <div className={cx('Select-noResult')}>{__(noResultsText)}</div>\n        )}\n      </div>\n    );\n\n    return (\n      <Overlay\n        container={popOverContainer || this.getTarget}\n        target={this.getTarget}\n        placement={overlayPlacement}\n        show\n      >\n        <PopOver\n          overlay\n          className={cx('Select-popover', popoverClassName)}\n          style={{\n            minWidth: this.target ? this.target.offsetWidth : 'auto'\n          }}\n          onHide={this.close}\n        >\n          {menu}\n        </PopOver>\n      </Overlay>\n    );\n  }\n\n  render() {\n    const {\n      classnames: cx,\n      multiple,\n      valuesNoWrap,\n      searchable,\n      inline,\n      className,\n      value,\n      loading,\n      clearable,\n      labelField,\n      disabled,\n      checkAll,\n      borderMode\n    } = this.props;\n\n    const selection = this.state.selection;\n    const inputValue = this.state.inputValue;\n    const resetValue = this.props.resetValue;\n\n    return (\n      <Downshift\n        selectedItem={selection}\n        highlightedIndex={this.state.highlightedIndex}\n        isOpen={this.state.isOpen}\n        inputValue={inputValue}\n        onChange={\n          /*展示 Checkbox 的时候，会出发多次 onChange 原因待查*/ multiple ||\n          checkAll\n            ? noop\n            : this.handleChange\n        }\n        onStateChange={this.handleStateChange}\n        itemToString={item => (item ? `${item[labelField]}` : '')}\n      >\n        {(options: ControllerStateAndHelpers<any>) => {\n          const {isOpen} = options;\n          return (\n            <div\n              tabIndex={disabled ? -1 : 0}\n              onKeyPress={this.handleKeyPress}\n              onClick={this.toggle}\n              onFocus={this.onFocus}\n              onBlur={this.onBlur}\n              className={cx(\n                `Select`,\n                {\n                  [`Select--multi`]: multiple,\n                  [`Select--inline`]: inline,\n                  [`Select--searchable`]: searchable,\n                  'is-opened': isOpen,\n                  'is-focused': this.state.isFocused,\n                  'is-disabled': disabled,\n                  [`Select--border${ucFirst(borderMode)}`]: borderMode\n                },\n                className\n              )}\n            >\n              <div\n                className={cx(`Select-valueWrap`, {\n                  'Select-valuesNoWrap': valuesNoWrap\n                })}\n              >\n                {this.renderValue(options)}\n              </div>\n              {clearable &&\n              !disabled &&\n              (Array.isArray(value) ? value.length : value !== resetValue) ? (\n                <a onClick={this.clearValue} className={cx('Select-clear')}>\n                  <Icon icon=\"close\" className=\"icon\" />\n                </a>\n              ) : null}\n              {loading ? (\n                <Spinner\n                  show\n                  icon=\"reload\"\n                  spinnerClassName={cx('Select-spinner')}\n                />\n              ) : null}\n\n              <span className={cx('Select-arrow')}>\n                <Icon icon=\"caret\" className=\"icon\" />\n              </span>\n              {isOpen ? this.renderOuter(options) : null}\n            </div>\n          );\n        }}\n      </Downshift>\n    );\n  }\n}\n\nconst EnhancedSelect = themeable(\n  localeable(\n    uncontrollable(Select, {\n      value: 'onChange'\n    })\n  )\n);\n\nexport default EnhancedSelect;\nexport const SelectWithRemoteOptions = withRemoteConfig<Array<Options>>({\n  adaptor: data => data.options || data.items || data.rows || data,\n  normalizeConfig: (options: any, origin) => {\n    options = normalizeOptions(options);\n\n    if (Array.isArray(options)) {\n      return options.concat();\n    }\n\n    return origin;\n  }\n})(\n  class extends React.Component<\n    RemoteOptionsProps<Array<Options>> &\n      React.ComponentProps<typeof EnhancedSelect>\n  > {\n    render() {\n      const {loading, config, deferLoad, updateConfig, ...rest} = this.props;\n\n      return (\n        <EnhancedSelect\n          {...rest}\n          options={config || rest.options || []}\n          loading={loading}\n        />\n      );\n    }\n  }\n);\n"
    ]
}