{
    "version": 3,
    "file": "index.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/Table/index.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport {findDOMNode} from 'react-dom';\nimport {Renderer, RendererProps} from '../../factory';\nimport {SchemaNode, Action, Schema} from '../../types';\nimport forEach from 'lodash/forEach';\nimport {filter} from '../../utils/tpl';\nimport DropDownButton from '../DropDownButton';\nimport Checkbox from '../../components/Checkbox';\nimport Button from '../../components/Button';\nimport {TableStore, ITableStore, IColumn, IRow} from '../../store/table';\nimport {\n  anyChanged,\n  getScrollParent,\n  difference,\n  noop,\n  autobind,\n  isArrayChildrenModified,\n  getVariable,\n  removeHTMLTag\n} from '../../utils/helper';\nimport {\n  isPureVariable,\n  resolveVariable,\n  resolveVariableAndFilter\n} from '../../utils/tpl-builtin';\nimport debounce from 'lodash/debounce';\nimport Sortable from 'sortablejs';\nimport {resizeSensor} from '../../utils/resize-sensor';\nimport find from 'lodash/find';\nimport {Icon} from '../../components/icons';\nimport {TableCell} from './TableCell';\nimport {TableRow} from './TableRow';\nimport {HeadCellFilterDropDown} from './HeadCellFilterDropdown';\nimport {HeadCellSearchDropDown} from './HeadCellSearchDropdown';\nimport {TableContent} from './TableContent';\nimport {\n  BaseSchema,\n  SchemaApi,\n  SchemaClassName,\n  SchemaObject,\n  SchemaTokenizeableString,\n  SchemaType\n} from '../../Schema';\nimport {SchemaPopOver} from '../PopOver';\nimport {SchemaQuickEdit} from '../QuickEdit';\nimport {SchemaCopyable} from '../Copyable';\nimport {SchemaRemark} from '../Remark';\nimport {toDataURL, getImageDimensions} from '../../utils/image';\nimport {TableBody} from './TableBody';\nimport {TplSchema} from '../Tpl';\nimport {MappingSchema} from '../Mapping';\nimport {isAlive, getSnapshot} from 'mobx-state-tree';\n\n/**\n * \n */\nexport type TableColumnObject = {\n  /**\n   * \n   */\n  label: string;\n\n  /**\n   * \n   */\n  fixed?: 'left' | 'right' | 'none';\n\n  /**\n   * \n   */\n  name?: string;\n\n  /**\n   * \n   */\n  popOver?: SchemaPopOver;\n\n  /**\n   * \n   */\n  quickEdit?: SchemaQuickEdit;\n\n  /**\n   * \n   */\n  quickEditOnUpdate?: SchemaQuickEdit;\n\n  /**\n   * \n   */\n  copyable?: SchemaCopyable;\n\n  /**\n   * \n   */\n  sortable?: boolean;\n\n  /**\n   * \n   */\n  searchable?: boolean;\n\n  /**\n   * \n   */\n  toggled?: boolean;\n\n  /**\n   * \n   */\n  width?: number | string;\n\n  /**\n   * \n   */\n  align?: 'left' | 'right' | 'center' | 'justify';\n\n  /**\n   * \n   */\n  className?: string;\n\n  /**\n   * \n   */\n  classNameExpr?: string;\n\n  /**\n   * \n   */\n  labelClassName?: string;\n\n  /**\n   * todo\n   */\n  filterable?:\n    | boolean\n    | {\n        source?: string;\n        options?: Array<any>;\n      };\n\n  /**\n   *  footable \n   *  *xssmmdlg footable \n   */\n  breakpoint?: '*' | 'xs' | 'sm' | 'md' | 'lg';\n\n  /**\n   * \n   */\n  remark?: SchemaRemark;\n\n  /**\n   * ,  inputTable \n   */\n  value?: any;\n\n  /**\n   * ,  inputTable \n   */\n  unique?: boolean;\n};\n\nexport type TableColumnWithType = SchemaObject & TableColumnObject;\nexport type TableColumn = TableColumnWithType | TableColumnObject;\n\n/**\n * Table \n * https://baidu.gitee.io/amis/docs/components/table\n */\nexport interface TableSchema extends BaseSchema {\n  /**\n   * \n   */\n  type: 'table' | 'static-table';\n\n  /**\n   * \n   */\n  affixHeader?: boolean;\n\n  /**\n   * \n   */\n  columns?: Array<TableColumn>;\n\n  /**\n   * 5\n   */\n  columnsTogglable?: boolean | 'auto';\n\n  /**\n   * \n   */\n  footable?:\n    | boolean\n    | {\n        expand?: 'first' | 'all' | 'none';\n\n        /**\n         * \n         */\n        accordion?: boolean;\n      };\n\n  /**\n   *  CSS \n   */\n  footerClassName?: SchemaClassName;\n\n  /**\n   *  CSS \n   */\n  headerClassName?: SchemaClassName;\n\n  /**\n   * \n   */\n  placeholder?: string;\n\n  /**\n   * \n   */\n  showFooter?: boolean;\n\n  /**\n   * \n   */\n  showHeader?: boolean;\n\n  /**\n   * \n   */\n  source?: SchemaTokenizeableString;\n\n  /**\n   *  CSS \n   */\n  tableClassName?: SchemaClassName;\n\n  /**\n   * \n   */\n  title?: string;\n\n  /**\n   *  CSS \n   */\n  toolbarClassName?: SchemaClassName;\n\n  /**\n   * \n   */\n  combineNum?: number;\n\n  /**\n   * \n   */\n  combineFromIndex?: number;\n\n  /**\n   * \n   */\n  prefixRow?: Array<SchemaObject>;\n\n  /**\n   * \n   */\n  affixRow?: Array<SchemaObject>;\n\n  /**\n   * \n   */\n  resizable?: boolean;\n\n  /**\n   * \n   */\n  rowClassNameExpr?: string;\n}\n\nexport interface TableProps extends RendererProps {\n  title?: string; // \n  header?: SchemaNode;\n  footer?: SchemaNode;\n  actions?: Action[];\n  className?: string;\n  headerClassName?: string;\n  footerClassName?: string;\n  store: ITableStore;\n  columns?: Array<any>;\n  headingClassName?: string;\n  toolbarClassName?: string;\n  headerToolbarClassName?: string;\n  footerToolbarClassName?: string;\n  tableClassName?: string;\n  source?: string;\n  selectable?: boolean;\n  selected?: Array<any>;\n  maxKeepItemSelectionLength?: number;\n  valueField?: string;\n  draggable?: boolean;\n  columnsTogglable?: boolean | 'auto';\n  affixHeader?: boolean;\n  affixColumns?: boolean;\n  combineNum?: number | string;\n  combineFromIndex?: number;\n  footable?:\n    | boolean\n    | {\n        expand?: 'first' | 'all' | 'none';\n        expandAll?: boolean;\n        accordion?: boolean;\n      };\n  expandConfig?: {\n    expand?: 'first' | 'all' | 'none';\n    expandAll?: boolean;\n    accordion?: boolean;\n  };\n  itemCheckableOn?: string;\n  itemDraggableOn?: string;\n  itemActions?: Array<Action>;\n  onSelect: (\n    selectedItems: Array<object>,\n    unSelectedItems: Array<object>\n  ) => void;\n  onPristineChange?: (data: object, rowIndexe: string) => void;\n  onSave?: (\n    items: Array<object> | object,\n    diff: Array<object> | object,\n    rowIndexes: Array<string> | string,\n    unModifiedItems?: Array<object>,\n    rowOrigins?: Array<object> | object,\n    resetOnFailed?: boolean\n  ) => void;\n  onSaveOrder?: (moved: Array<object>, items: Array<object>) => void;\n  onQuery: (values: object) => void;\n  onImageEnlarge?: (data: any, target: any) => void;\n  buildItemProps?: (item: any, index: number) => any;\n  checkOnItemClick?: boolean;\n  hideCheckToggler?: boolean;\n  rowClassName?: string;\n  rowClassNameExpr?: string;\n  popOverContainer?: any;\n  canAccessSuperData?: boolean;\n  reUseRow?: boolean;\n}\n\ntype ExportExcelToolbar = SchemaNode & {\n  api?: SchemaApi;\n  columns?: string[];\n  filename?: string;\n};\n\n/**\n *  url \n */\nconst getAbsoluteUrl = (function () {\n  let link: HTMLAnchorElement;\n  return function (url: string) {\n    if (!link) link = document.createElement('a');\n    link.href = url;\n    return link.href;\n  };\n})();\n\nexport default class Table extends React.Component<TableProps, object> {\n  static propsList: Array<string> = [\n    'header',\n    'headerToolbarRender',\n    'footer',\n    'footerToolbarRender',\n    'footable',\n    'expandConfig',\n    'placeholder',\n    'tableClassName',\n    'headingClassName',\n    'source',\n    'selectable',\n    'columnsTogglable',\n    'affixHeader',\n    'affixColumns',\n    'headerClassName',\n    'footerClassName',\n    'selected',\n    'multiple',\n    'primaryField',\n    'hideQuickSaveBtn',\n    'itemCheckableOn',\n    'itemDraggableOn',\n    'checkOnItemClick',\n    'hideCheckToggler',\n    'itemAction',\n    'itemActions',\n    'combineNum',\n    'combineFromIndex',\n    'items',\n    'columns',\n    'valueField',\n    'saveImmediately',\n    'rowClassName',\n    'rowClassNameExpr',\n    'popOverContainer',\n    'headerToolbarClassName',\n    'toolbarClassName',\n    'footerToolbarClassName'\n  ];\n  static defaultProps: Partial<TableProps> = {\n    className: '',\n    placeholder: 'placeholder.noData',\n    tableClassName: '',\n    source: '$items',\n    selectable: false,\n    columnsTogglable: 'auto',\n    affixHeader: true,\n    headerClassName: '',\n    footerClassName: '',\n    toolbarClassName: '',\n    headerToolbarClassName: '',\n    footerToolbarClassName: '',\n    primaryField: 'id',\n    itemCheckableOn: '',\n    itemDraggableOn: '',\n    hideCheckToggler: false,\n    canAccessSuperData: false,\n    resizable: true\n  };\n\n  table?: HTMLTableElement;\n  sortable?: Sortable;\n  dragTip?: HTMLElement;\n  affixedTable?: HTMLTableElement;\n  parentNode?: HTMLElement | Window;\n  lastScrollLeft: number = -1;\n  totalWidth: number = 0;\n  totalHeight: number = 0;\n  outterWidth: number = 0;\n  outterHeight: number = 0;\n  unSensor?: Function;\n  updateTableInfoLazy: () => void;\n  widths: {\n    [propName: string]: number;\n  } = {};\n  widths2: {\n    [propName: string]: number;\n  } = {};\n  heights: {\n    [propName: string]: number;\n  } = {};\n  renderedToolbars: Array<string> = [];\n  subForms: any = {};\n\n  constructor(props: TableProps) {\n    super(props);\n\n    this.handleOutterScroll = this.handleOutterScroll.bind(this);\n    this.affixDetect = this.affixDetect.bind(this);\n    this.updateTableInfoLazy = debounce(this.updateTableInfo.bind(this), 250, {\n      trailing: true,\n      leading: true\n    });\n    this.tableRef = this.tableRef.bind(this);\n    this.affixedTableRef = this.affixedTableRef.bind(this);\n    this.handleAction = this.handleAction.bind(this);\n    this.handleCheck = this.handleCheck.bind(this);\n    this.handleCheckAll = this.handleCheckAll.bind(this);\n    this.handleQuickChange = this.handleQuickChange.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n    this.handleSaveOrder = this.handleSaveOrder.bind(this);\n    this.reset = this.reset.bind(this);\n    this.dragTipRef = this.dragTipRef.bind(this);\n    this.getPopOverContainer = this.getPopOverContainer.bind(this);\n    this.renderCell = this.renderCell.bind(this);\n    this.renderHeadCell = this.renderHeadCell.bind(this);\n    this.renderToolbar = this.renderToolbar.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleMouseLeave = this.handleMouseLeave.bind(this);\n    this.subFormRef = this.subFormRef.bind(this);\n\n    const {\n      store,\n      columns,\n      selectable,\n      columnsTogglable,\n      draggable,\n      orderBy,\n      orderDir,\n      multiple,\n      footable,\n      primaryField,\n      itemCheckableOn,\n      itemDraggableOn,\n      hideCheckToggler,\n      combineFromIndex,\n      expandConfig,\n      formItem,\n      keepItemSelectionOnPageChange,\n      maxKeepItemSelectionLength\n    } = props;\n\n    let combineNum = props.combineNum;\n    if (typeof combineNum === 'string') {\n      combineNum = parseInt(\n        resolveVariableAndFilter(combineNum, props.data, '| raw'),\n        10\n      );\n    }\n\n    store.update({\n      selectable,\n      draggable,\n      columns,\n      columnsTogglable,\n      orderBy,\n      orderDir,\n      multiple,\n      footable,\n      expandConfig,\n      primaryField,\n      itemCheckableOn,\n      itemDraggableOn,\n      hideCheckToggler,\n      combineNum,\n      combineFromIndex,\n      keepItemSelectionOnPageChange,\n      maxKeepItemSelectionLength\n    });\n\n    formItem && isAlive(formItem) && formItem.setSubStore(store);\n    Table.syncRows(store, this.props, undefined) && this.syncSelected();\n  }\n\n  static syncRows(\n    store: ITableStore,\n    props: TableProps,\n    prevProps?: TableProps\n  ) {\n    const source = props.source;\n    const value = props.value || props.items;\n    let rows: Array<object> = [];\n    let updateRows = false;\n\n    if (\n      Array.isArray(value) &&\n      (!prevProps || (prevProps.value || prevProps.items) !== value)\n    ) {\n      updateRows = true;\n      rows = value;\n    } else if (typeof source === 'string') {\n      const resolved = resolveVariableAndFilter(source, props.data, '| raw');\n      const prev = prevProps\n        ? resolveVariableAndFilter(source, prevProps.data, '| raw')\n        : null;\n\n      if (prev && prev === resolved) {\n        updateRows = false;\n      } else if (Array.isArray(resolved)) {\n        updateRows = true;\n        rows = resolved;\n      }\n    }\n\n    updateRows && store.initRows(rows, props.getEntryId, props.reUseRow);\n    typeof props.selected !== 'undefined' &&\n      store.updateSelected(props.selected, props.valueField);\n    return updateRows;\n  }\n\n  componentDidMount() {\n    let parent: HTMLElement | Window | null = getScrollParent(\n      findDOMNode(this) as HTMLElement\n    );\n\n    if (!parent || parent === document.body) {\n      parent = window;\n    }\n\n    this.parentNode = parent;\n    this.updateTableInfo();\n\n    const dom = findDOMNode(this) as HTMLElement;\n    if (dom.closest('.modal-body')) {\n      return;\n    }\n\n    this.affixDetect();\n    parent.addEventListener('scroll', this.affixDetect);\n    window.addEventListener('resize', this.affixDetect);\n  }\n\n  componentDidUpdate(prevProps: TableProps) {\n    const props = this.props;\n    const store = props.store;\n\n    if (\n      anyChanged(\n        [\n          'selectable',\n          'columnsTogglable',\n          'draggable',\n          'orderBy',\n          'orderDir',\n          'multiple',\n          'footable',\n          'primaryField',\n          'itemCheckableOn',\n          'itemDraggableOn',\n          'hideCheckToggler',\n          'combineNum',\n          'combineFromIndex',\n          'expandConfig'\n        ],\n        prevProps,\n        props\n      )\n    ) {\n      let combineNum = props.combineNum;\n      if (typeof combineNum === 'string') {\n        combineNum = parseInt(\n          resolveVariableAndFilter(combineNum, props.data, '| raw'),\n          10\n        );\n      }\n      store.update({\n        selectable: props.selectable,\n        columnsTogglable: props.columnsTogglable,\n        draggable: props.draggable,\n        orderBy: props.orderBy,\n        orderDir: props.orderDir,\n        multiple: props.multiple,\n        primaryField: props.primaryField,\n        footable: props.footable,\n        itemCheckableOn: props.itemCheckableOn,\n        itemDraggableOn: props.itemDraggableOn,\n        hideCheckToggler: props.hideCheckToggler,\n        combineNum: combineNum,\n        combineFromIndex: props.combineFromIndex,\n        expandConfig: props.expandConfig\n      });\n    }\n\n    if (prevProps.columns !== props.columns) {\n      store.update({\n        columns: props.columns\n      });\n    }\n\n    if (\n      anyChanged(['source', 'value', 'items'], prevProps, props) ||\n      (!props.value &&\n        !props.items &&\n        (props.data !== prevProps.data ||\n          (typeof props.source === 'string' && isPureVariable(props.source))))\n    ) {\n      Table.syncRows(store, props, prevProps) && this.syncSelected();\n    } else if (isArrayChildrenModified(prevProps.selected!, props.selected!)) {\n      store.updateSelected(props.selected || [], props.valueField);\n      this.syncSelected();\n    }\n\n    this.updateTableInfoLazy();\n  }\n\n  componentWillUnmount() {\n    const {formItem} = this.props;\n\n    const parent = this.parentNode;\n    parent && parent.removeEventListener('scroll', this.affixDetect);\n    window.removeEventListener('resize', this.affixDetect);\n    (this.updateTableInfoLazy as any).cancel();\n    this.unSensor && this.unSensor();\n\n    formItem && isAlive(formItem) && formItem.setSubStore(null);\n  }\n\n  subFormRef(form: any, x: number, y: number) {\n    const {quickEditFormRef} = this.props;\n\n    quickEditFormRef && quickEditFormRef(form, x, y);\n    this.subForms[`${x}-${y}`] = form;\n    form && this.props.store.addForm(form.props.store, y);\n  }\n\n  handleAction(e: React.UIEvent<any>, action: Action, ctx: object) {\n    const {onAction} = this.props;\n\n    // todo\n    onAction(e, action, ctx);\n  }\n\n  handleCheck(item: IRow, value: boolean, shift?: boolean) {\n    const {store} = this.props;\n    if (shift) {\n      store.toggleShift(item);\n    } else {\n      item.toggle();\n    }\n\n    this.syncSelected();\n  }\n\n  handleCheckAll() {\n    const {store} = this.props;\n\n    store.toggleAll();\n    this.syncSelected();\n  }\n\n  handleQuickChange(\n    item: IRow,\n    values: object,\n    saveImmediately?: boolean | any,\n    savePristine?: boolean,\n    resetOnFailed?: boolean\n  ) {\n    if (!isAlive(item)) {\n      return;\n    }\n\n    const {\n      onSave,\n      onPristineChange,\n      saveImmediately: propsSaveImmediately,\n      primaryField\n    } = this.props;\n\n    item.change(values, savePristine);\n\n    //  onSelect \n    item.modified && this.syncSelected();\n\n    if (savePristine) {\n      onPristineChange?.(item.data, item.path);\n      return;\n    } else if (!saveImmediately && !propsSaveImmediately) {\n      return;\n    }\n\n    if (saveImmediately && saveImmediately.api) {\n      this.props.onAction(\n        null,\n        {\n          actionType: 'ajax',\n          api: saveImmediately.api\n        },\n        values\n      );\n      return;\n    }\n\n    if (!onSave) {\n      return;\n    }\n\n    onSave(\n      item.data,\n      difference(item.data, item.pristine, ['id', primaryField]),\n      item.path,\n      undefined,\n      item.pristine,\n      resetOnFailed\n    );\n  }\n\n  async handleSave() {\n    const {store, onSave, primaryField} = this.props;\n\n    if (!onSave || !store.modifiedRows.length) {\n      return;\n    }\n\n    // \n    const subForms: Array<any> = [];\n    Object.keys(this.subForms).forEach(\n      key => this.subForms[key] && subForms.push(this.subForms[key])\n    );\n    if (subForms.length) {\n      const result = await Promise.all(subForms.map(item => item.validate()));\n      if (~result.indexOf(false)) {\n        return;\n      }\n    }\n\n    const rows = store.modifiedRows.map(item => item.data);\n    const rowIndexes = store.modifiedRows.map(item => item.path);\n    const diff = store.modifiedRows.map(item =>\n      difference(item.data, item.pristine, ['id', primaryField])\n    );\n    const unModifiedRows = store.rows\n      .filter(item => !item.modified)\n      .map(item => item.data);\n    onSave(\n      rows,\n      diff,\n      rowIndexes,\n      unModifiedRows,\n      store.modifiedRows.map(item => item.pristine)\n    );\n  }\n\n  handleSaveOrder() {\n    const {store, onSaveOrder} = this.props;\n\n    if (!onSaveOrder || !store.movedRows.length) {\n      return;\n    }\n\n    onSaveOrder(\n      store.movedRows.map(item => item.data),\n      store.rows.map(item => item.getDataWithModifiedChilden())\n    );\n  }\n\n  syncSelected() {\n    const {store, onSelect} = this.props;\n\n    onSelect &&\n      onSelect(\n        store.selectedRows.map(item => item.data),\n        store.unSelectedRows.map(item => item.data)\n      );\n  }\n\n  reset() {\n    const {store} = this.props;\n\n    store.reset();\n\n    const subForms: Array<any> = [];\n    Object.keys(this.subForms).forEach(\n      key => this.subForms[key] && subForms.push(this.subForms[key])\n    );\n    subForms.forEach(item => item.clearErrors());\n  }\n\n  bulkUpdate(value: any, items: Array<object>) {\n    const {store, primaryField} = this.props;\n\n    if (primaryField && value.ids) {\n      const ids = value.ids.split(',');\n      const rows = store.rows.filter(item =>\n        find(ids, (id: any) => id && id == item.data[primaryField])\n      );\n      const newValue = {...value, ids: undefined};\n      rows.forEach(row => row.change(newValue));\n    } else {\n      const rows = store.rows.filter(item => ~items.indexOf(item.pristine));\n      rows.forEach(row => row.change(value));\n    }\n  }\n\n  getSelected() {\n    const {store} = this.props;\n\n    return store.selectedRows.map(item => item.data);\n  }\n\n  affixDetect() {\n    if (!this.props.affixHeader || !this.table) {\n      return;\n    }\n\n    const ns = this.props.classPrefix;\n    const dom = findDOMNode(this) as HTMLElement;\n    const clip = (this.table as HTMLElement).getBoundingClientRect();\n    const offsetY =\n      this.props.affixOffsetTop ?? this.props.env.affixOffsetTop ?? 0;\n    const headingHeight =\n      dom.querySelector(`.${ns}Table-heading`)?.getBoundingClientRect()\n        .height || 0;\n    const headerHeight =\n      dom.querySelector(`.${ns}Table-headToolbar`)?.getBoundingClientRect()\n        .height || 0;\n\n    const affixed =\n      clip.top - headerHeight - headingHeight < offsetY &&\n      clip.top + clip.height - 40 > offsetY;\n    const affixedDom = dom.querySelector(`.${ns}Table-fixedTop`) as HTMLElement;\n\n    affixedDom.style.cssText += `top: ${offsetY}px;width: ${\n      (this.table.parentNode as HTMLElement).offsetWidth\n    }px`;\n    affixed\n      ? affixedDom.classList.add('in')\n      : affixedDom.classList.remove('in');\n    // store.markHeaderAffix(clip.top < offsetY && (clip.top + clip.height - 40) > offsetY);\n  }\n\n  updateTableInfo() {\n    if (!this.table) {\n      return;\n    }\n\n    const table = this.table;\n    const outter = table.parentNode as HTMLElement;\n    const affixHeader = this.props.affixHeader;\n    const ns = this.props.classPrefix;\n\n    // \n    // if (this.totalWidth === table.scrollWidth && this.totalHeight === table.scrollHeight) {\n    //     return;\n    // }\n\n    this.totalWidth = table.scrollWidth;\n    this.totalHeight = table.scrollHeight;\n    this.outterWidth = outter.offsetWidth;\n    this.outterHeight = outter.offsetHeight;\n\n    let widths: {\n      [propName: string]: number;\n    } = (this.widths = {});\n    let widths2: {\n      [propName: string]: number;\n    } = (this.widths2 = {});\n    let heights: {\n      [propName: string]: number;\n    } = (this.heights = {});\n\n    heights.header = table\n      .querySelector('thead>tr:last-child')!\n      .getBoundingClientRect().height;\n    heights.header2 = table\n      .querySelector('thead>tr:first-child')!\n      .getBoundingClientRect().height;\n\n    forEach(\n      table.querySelectorAll('thead>tr:last-child>th'),\n      (item: HTMLElement) => {\n        widths[item.getAttribute('data-index') as string] =\n          item.getBoundingClientRect().width;\n      }\n    );\n\n    forEach(\n      table.querySelectorAll('thead>tr:first-child>th'),\n      (item: HTMLElement) => {\n        widths2[item.getAttribute('data-index') as string] =\n          item.getBoundingClientRect().width;\n      }\n    );\n\n    forEach(\n      table.querySelectorAll('tbody>tr>*:last-child'),\n      (item: HTMLElement, index: number) =>\n        (heights[index] = item.getBoundingClientRect().height)\n    );\n\n    //  react \n    const dom = findDOMNode(this) as HTMLElement;\n\n    forEach(\n      //  footTable \n      dom.querySelectorAll(\n        `.${ns}Table-fixedTop table, .${ns}Table-fixedLeft>table, .${ns}Table-fixedRight>table`\n      ),\n      (table: HTMLTableElement) => {\n        let totalWidth = 0;\n        let totalWidth2 = 0;\n        forEach(\n          table.querySelectorAll('thead>tr:last-child>th'),\n          (item: HTMLElement) => {\n            const width = widths[item.getAttribute('data-index') as string];\n            item.style.cssText += `width: ${width}px; height: ${heights.header}px`;\n            totalWidth += width;\n          }\n        );\n        forEach(\n          table.querySelectorAll('thead>tr:first-child>th'),\n          (item: HTMLElement) => {\n            const width = widths2[item.getAttribute('data-index') as string];\n            item.style.cssText += `width: ${width}px; height: ${heights.header2}px`;\n            totalWidth2 += width;\n          }\n        );\n\n        forEach(table.querySelectorAll('colgroup>col'), (item: HTMLElement) => {\n          const width = widths[item.getAttribute('data-index') as string];\n          item.setAttribute('width', `${width}`);\n        });\n\n        forEach(\n          table.querySelectorAll('tbody>tr'),\n          (item: HTMLElement, index) => {\n            item.style.cssText += `height: ${heights[index]}px`;\n          }\n        );\n\n        table.style.cssText += `width: ${Math.max(\n          totalWidth,\n          totalWidth2\n        )}px;table-layout: auto;`;\n      }\n    );\n\n    if (affixHeader) {\n      (\n        dom.querySelector(\n          `.${ns}Table-fixedTop>.${ns}Table-wrapper`\n        ) as HTMLElement\n      ).style.cssText += `width: ${this.outterWidth}px`;\n    }\n\n    this.lastScrollLeft = -1;\n    this.handleOutterScroll();\n  }\n\n  handleOutterScroll() {\n    const outter = (this.table as HTMLElement).parentNode as HTMLElement;\n    const scrollLeft = outter.scrollLeft;\n\n    if (scrollLeft === this.lastScrollLeft) {\n      return;\n    }\n\n    this.lastScrollLeft = scrollLeft;\n    let leading = scrollLeft === 0;\n    let trailing = Math.ceil(scrollLeft) + this.outterWidth >= this.totalWidth;\n    // console.log(scrollLeft, store.outterWidth, store.totalWidth, (scrollLeft + store.outterWidth) === store.totalWidth);\n    // store.setLeading(leading);\n    // store.setTrailing(trailing);\n\n    const ns = this.props.classPrefix;\n    const dom = findDOMNode(this) as HTMLElement;\n\n    const fixedLeft = dom.querySelectorAll(`.${ns}Table-fixedLeft`);\n    if (fixedLeft && fixedLeft.length) {\n      for (let i = 0, len = fixedLeft.length; i < len; i++) {\n        let node = fixedLeft[i];\n        leading ? node.classList.remove('in') : node.classList.add('in');\n      }\n    }\n\n    const fixedRight = dom.querySelectorAll(`.${ns}Table-fixedRight`);\n    if (fixedRight && fixedRight.length) {\n      for (let i = 0, len = fixedRight.length; i < len; i++) {\n        let node = fixedRight[i];\n        trailing ? node.classList.remove('in') : node.classList.add('in');\n      }\n    }\n    const table = this.affixedTable;\n    if (table) {\n      table.style.cssText += `transform: translateX(-${scrollLeft}px)`;\n    }\n  }\n\n  tableRef(ref: HTMLTableElement) {\n    this.table = ref;\n\n    if (ref) {\n      this.unSensor = resizeSensor(\n        ref.parentNode as HTMLElement,\n        this.updateTableInfoLazy\n      );\n    } else {\n      this.unSensor && this.unSensor();\n      delete this.unSensor;\n    }\n  }\n\n  dragTipRef(ref: any) {\n    if (!this.dragTip && ref) {\n      this.initDragging();\n    } else if (this.dragTip && !ref) {\n      this.destroyDragging();\n    }\n\n    this.dragTip = ref;\n  }\n\n  affixedTableRef(ref: HTMLTableElement) {\n    this.affixedTable = ref;\n  }\n\n  initDragging() {\n    const store = this.props.store;\n    const ns = this.props.classPrefix;\n    this.sortable = new Sortable(\n      (this.table as HTMLElement).querySelector('tbody') as HTMLElement,\n      {\n        group: 'table',\n        animation: 150,\n        handle: `.${ns}Table-dragCell`,\n        ghostClass: 'is-dragging',\n        onEnd: (e: any) => {\n          // \n          if (e.newIndex === e.oldIndex) {\n            return;\n          }\n\n          const parent = e.to as HTMLElement;\n          if (e.oldIndex < parent.childNodes.length - 1) {\n            parent.insertBefore(e.item, parent.childNodes[e.oldIndex]);\n          } else {\n            parent.appendChild(e.item);\n          }\n\n          store.exchange(e.oldIndex, e.newIndex);\n        }\n      }\n    );\n  }\n\n  destroyDragging() {\n    this.sortable && this.sortable.destroy();\n  }\n\n  getPopOverContainer() {\n    return findDOMNode(this);\n  }\n\n  handleMouseMove(e: React.MouseEvent<any>) {\n    const tr: HTMLElement = (e.target as HTMLElement).closest(\n      'tr[data-index]'\n    ) as HTMLElement;\n\n    if (!tr) {\n      return;\n    }\n\n    const {store, affixColumns, itemActions} = this.props;\n\n    if (\n      (affixColumns === false ||\n        (store.leftFixedColumns.length === 0 &&\n          store.rightFixedColumns.length === 0)) &&\n      (!itemActions || !itemActions.filter(item => !item.hiddenOnHover).length)\n    ) {\n      return;\n    }\n\n    const index = parseInt(tr.getAttribute('data-index') as string, 10);\n\n    if (store.hoverIndex === index) {\n      return;\n    }\n    store.rows.forEach((item, key) => item.setIsHover(index === key));\n  }\n\n  handleMouseLeave() {\n    const store = this.props.store;\n\n    if (~store.hoverIndex) {\n      store.rows[store.hoverIndex].setIsHover(false);\n    }\n  }\n\n  draggingTr: HTMLTableRowElement;\n  originIndex: number;\n  draggingSibling: Array<HTMLTableRowElement>;\n\n  @autobind\n  handleDragStart(e: React.DragEvent) {\n    const store = this.props.store;\n    const target = e.currentTarget;\n    const tr = (this.draggingTr = target.closest('tr')!);\n    const id = tr.getAttribute('data-id')!;\n    const tbody = tr.parentNode!;\n    this.originIndex = Array.prototype.indexOf.call(tbody.childNodes, tr);\n\n    tr.classList.add('is-dragging');\n\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/plain', id);\n\n    e.dataTransfer.setDragImage(tr, 0, 0);\n    const item = store.getRowById(id)!;\n    store.collapseAllAtDepth(item.depth);\n\n    let siblings: Array<IRow> = store.rows;\n    if (item.parentId) {\n      const parent = store.getRowById(item.parentId)!;\n      siblings = parent.children as any;\n    }\n    siblings = siblings.filter(sibling => sibling !== item);\n\n    tbody.addEventListener('dragover', this.handleDragOver);\n    tbody.addEventListener('drop', this.handleDrop);\n\n    this.draggingSibling = siblings.map(item => {\n      let tr: HTMLTableRowElement = tbody.querySelector(\n        `tr[data-id=\"${item.id}\"]`\n      ) as HTMLTableRowElement;\n\n      tr.classList.add('is-drop-allowed');\n\n      return tr;\n    });\n    tr.addEventListener('dragend', this.handleDragEnd);\n  }\n\n  @autobind\n  handleDragOver(e: any) {\n    if (!e.target) {\n      return;\n    }\n    e.preventDefault();\n    e.dataTransfer!.dropEffect = 'move';\n\n    const overTr: HTMLElement = (e.target as HTMLElement).closest('tr')!;\n    if (\n      !overTr ||\n      !~overTr.className.indexOf('is-drop-allowed') ||\n      overTr === this.draggingTr\n    ) {\n      return;\n    }\n\n    const tbody = overTr.parentElement!;\n    const dRect = this.draggingTr.getBoundingClientRect();\n    const tRect = overTr.getBoundingClientRect();\n    let ratio = dRect.top < tRect.top ? 0.1 : 0.9;\n\n    const next = (e.clientY - tRect.top) / (tRect.bottom - tRect.top) > ratio;\n    tbody.insertBefore(this.draggingTr, (next && overTr.nextSibling) || overTr);\n  }\n\n  @autobind\n  handleDrop() {\n    const store = this.props.store;\n    const tr = this.draggingTr;\n    const tbody = tr.parentElement!;\n    const index = Array.prototype.indexOf.call(tbody.childNodes, tr);\n    const item: IRow = store.getRowById(tr.getAttribute('data-id')!) as any;\n\n    // destroy\n    this.handleDragEnd();\n\n    store.exchange(this.originIndex, index, item);\n  }\n\n  @autobind\n  handleDragEnd() {\n    const tr = this.draggingTr;\n    const tbody = tr.parentElement!;\n    const index = Array.prototype.indexOf.call(tbody.childNodes, tr);\n    tbody.insertBefore(\n      tr,\n      tbody.childNodes[\n        index < this.originIndex ? this.originIndex + 1 : this.originIndex\n      ]\n    );\n\n    tr.classList.remove('is-dragging');\n    tr.removeEventListener('dragend', this.handleDragEnd);\n    tbody.removeEventListener('dragover', this.handleDragOver);\n    tbody.removeEventListener('drop', this.handleDrop);\n    this.draggingSibling.forEach(item =>\n      item.classList.remove('is-drop-allowed')\n    );\n  }\n\n  @autobind\n  handleImageEnlarge(info: any, target: {rowIndex: number; colIndex: number}) {\n    const onImageEnlarge = this.props.onImageEnlarge;\n\n    // \n    if (Array.isArray(info.list)) {\n      return onImageEnlarge && onImageEnlarge(info, target);\n    }\n\n    // \n    const store = this.props.store;\n    const column = store.columns[target.colIndex].pristine;\n\n    let index = target.rowIndex;\n    const list: Array<any> = [];\n    store.rows.forEach((row, i) => {\n      const src = resolveVariable(column.name, row.data);\n\n      if (!src) {\n        if (i < target.rowIndex) {\n          index--;\n        }\n        return;\n      }\n\n      list.push({\n        src,\n        originalSrc: column.originalSrc\n          ? filter(column.originalSrc, row.data)\n          : src,\n        title: column.enlargeTitle\n          ? filter(column.enlargeTitle, row.data)\n          : column.title\n          ? filter(column.title, row.data)\n          : undefined,\n        caption: column.enlargeCaption\n          ? filter(column.enlargeCaption, row.data)\n          : column.caption\n          ? filter(column.caption, row.data)\n          : undefined\n      });\n    });\n\n    if (list.length > 1) {\n      onImageEnlarge &&\n        onImageEnlarge(\n          {\n            ...info,\n            list,\n            index\n          },\n          target\n        );\n    } else {\n      onImageEnlarge && onImageEnlarge(info, target);\n    }\n  }\n\n  // \n  resizeLine: HTMLElement;\n  resizeLineLeft: number;\n  targetTh: HTMLElement;\n  targetThWidth: number;\n  lineStartX: number;\n\n  // \n  @autobind\n  handleColResizeMouseDown(e: React.MouseEvent<HTMLElement>) {\n    this.lineStartX = e.clientX;\n    const currentTarget = e.currentTarget;\n    this.resizeLine = currentTarget;\n    this.resizeLineLeft = parseInt(\n      getComputedStyle(this.resizeLine).getPropertyValue('left'),\n      10\n    );\n    this.targetTh = this.resizeLine.parentElement! as HTMLElement;\n    this.targetThWidth = this.targetTh.getBoundingClientRect().width;\n    document.addEventListener('mousemove', this.handleColResizeMouseMove);\n    document.addEventListener('mouseup', this.handleColResizeMouseUp);\n  }\n\n  // \n  @autobind\n  handleColResizeMouseMove(e: MouseEvent) {\n    const moveX = e.clientX - this.lineStartX;\n    this.resizeLine.style.left = this.resizeLineLeft + moveX + 'px';\n    this.targetTh.style.width = this.targetThWidth + moveX + 'px';\n  }\n\n  // \n  @autobind\n  handleColResizeMouseUp(e: MouseEvent) {\n    document.removeEventListener('mousemove', this.handleColResizeMouseMove);\n    document.removeEventListener('mouseup', this.handleColResizeMouseUp);\n  }\n\n  renderHeading() {\n    let {\n      title,\n      store,\n      hideQuickSaveBtn,\n      data,\n      classnames: cx,\n      saveImmediately,\n      headingClassName,\n      quickSaveApi,\n      translate: __\n    } = this.props;\n\n    if (\n      title ||\n      (quickSaveApi &&\n        !saveImmediately &&\n        store.modified &&\n        !hideQuickSaveBtn) ||\n      store.moved\n    ) {\n      return (\n        <div className={cx('Table-heading', headingClassName)} key=\"heading\">\n          {!saveImmediately && store.modified && !hideQuickSaveBtn ? (\n            <span>\n              {__('Table.modified', {\n                modified: store.modified\n              })}\n              <button\n                type=\"button\"\n                className={cx('Button Button--xs Button--success m-l-sm')}\n                onClick={this.handleSave}\n              >\n                <Icon icon=\"check\" className=\"icon m-r-xs\" />\n                {__('Form.submit')}\n              </button>\n              <button\n                type=\"button\"\n                className={cx('Button Button--xs Button--danger m-l-sm')}\n                onClick={this.reset}\n              >\n                <Icon icon=\"close\" className=\"icon m-r-xs\" />\n                {__('Table.discard')}\n              </button>\n            </span>\n          ) : store.moved ? (\n            <span>\n              {__('Table.moved', {\n                moved: store.moved\n              })}\n              <button\n                type=\"button\"\n                className={cx('Button Button--xs Button--success m-l-sm')}\n                onClick={this.handleSaveOrder}\n              >\n                <Icon icon=\"check\" className=\"icon m-r-xs\" />\n                {__('Form.submit')}\n              </button>\n              <button\n                type=\"button\"\n                className={cx('Button Button--xs Button--danger m-l-sm')}\n                onClick={this.reset}\n              >\n                <Icon icon=\"close\" className=\"icon m-r-xs\" />\n                {__('Table.discard')}\n              </button>\n            </span>\n          ) : title ? (\n            filter(title, data)\n          ) : (\n            ''\n          )}\n        </div>\n      );\n    }\n\n    return null;\n  }\n\n  renderHeadCell(column: IColumn, props?: any) {\n    const {\n      store,\n      query,\n      onQuery,\n      multiple,\n      env,\n      render,\n      classPrefix: ns,\n      resizable,\n      classnames: cx\n    } = this.props;\n\n    if (column.type === '__checkme') {\n      return (\n        <th {...props} className={cx(column.pristine.className)}>\n          {store.rows.length && multiple ? (\n            <Checkbox\n              classPrefix={ns}\n              partial={!store.allChecked}\n              checked={store.someChecked}\n              disabled={store.disabledHeadCheckbox}\n              onChange={this.handleCheckAll}\n            />\n          ) : (\n            '\\u00A0'\n          )}\n        </th>\n      );\n    } else if (column.type === '__dragme') {\n      return <th {...props} className={cx(column.pristine.className)} />;\n    } else if (column.type === '__expandme') {\n      return (\n        <th {...props} className={cx(column.pristine.className)}>\n          {(store.footable &&\n            (store.footable.expandAll === false || store.footable.accordion)) ||\n          (store.expandConfig &&\n            (store.expandConfig.expandAll === false ||\n              store.expandConfig.accordion)) ? null : (\n            <a\n              className={cx(\n                'Table-expandBtn',\n                store.allExpanded ? 'is-active' : ''\n              )}\n              // data-tooltip=\"/\"\n              // data-position=\"top\"\n              onClick={store.toggleExpandAll}\n            >\n              <Icon icon=\"right-arrow-bold\" className=\"icon\" />\n            </a>\n          )}\n        </th>\n      );\n    }\n\n    let affix = null;\n\n    if (column.searchable && column.name) {\n      affix = (\n        <HeadCellSearchDropDown\n          {...this.props}\n          onQuery={onQuery}\n          name={column.name}\n          searchable={column.searchable}\n          sortable={column.sortable}\n          type={column.type}\n          data={query}\n          orderBy={store.orderBy}\n          orderDir={store.orderDir}\n          popOverContainer={this.getPopOverContainer}\n        />\n      );\n    } else if (column.sortable && column.name) {\n      affix = (\n        <span\n          className={cx('TableCell-sortBtn')}\n          onClick={() => {\n            if (column.name === store.orderBy) {\n              if (store.orderDir === 'desc') {\n                // \n                store.setOrderByInfo('', 'asc');\n              } else {\n                // \n                store.setOrderByInfo(column.name, 'desc');\n              }\n            } else {\n              store.setOrderByInfo(column.name as string, 'asc');\n            }\n\n            onQuery &&\n              onQuery({\n                orderBy: store.orderBy,\n                orderDir: store.orderDir\n              });\n          }}\n        >\n          <i\n            className={cx(\n              'TableCell-sortBtn--down',\n              store.orderBy === column.name && store.orderDir === 'desc'\n                ? 'is-active'\n                : ''\n            )}\n          >\n            <Icon icon=\"sort-desc\" className=\"icon\" />\n          </i>\n          <i\n            className={cx(\n              'TableCell-sortBtn--up',\n              store.orderBy === column.name && store.orderDir === 'asc'\n                ? 'is-active'\n                : ''\n            )}\n          >\n            <Icon icon=\"sort-asc\" className=\"icon\" />\n          </i>\n          <i\n            className={cx(\n              'TableCell-sortBtn--default',\n              store.orderBy === column.name ? '' : 'is-active'\n            )}\n          >\n            <Icon icon=\"sort-default\" className=\"icon\" />\n          </i>\n        </span>\n      );\n    } else if (column.filterable && column.name) {\n      affix = (\n        <HeadCellFilterDropDown\n          {...this.props}\n          onQuery={onQuery}\n          name={column.name}\n          type={column.type}\n          data={query}\n          filterable={column.filterable}\n          popOverContainer={this.getPopOverContainer}\n        />\n      );\n    }\n\n    if (column.pristine.width) {\n      props.style = props.style || {};\n      props.style.width = column.pristine.width;\n    }\n\n    if (column.pristine.align) {\n      props.style = props.style || {};\n      props.style.textAlign = column.pristine.align;\n    }\n\n    const resizeLine = (\n      <div\n        className={cx('Table-content-colDragLine')}\n        key={`resize-${column.index}`}\n        onMouseDown={this.handleColResizeMouseDown}\n      ></div>\n    );\n\n    return (\n      <th\n        {...props}\n        className={cx(props ? (props as any).className : '', {\n          'TableCell--sortable': column.sortable,\n          'TableCell--searchable': column.searchable,\n          'TableCell--filterable': column.filterable,\n          'Table-operationCell': column.type === 'operation'\n        })}\n      >\n        <div\n          className={cx(\n            `${ns}TableCell--title`,\n            column.pristine.className,\n            column.pristine.labelClassName\n          )}\n        >\n          {column.label ? render('tpl', column.label) : null}\n\n          {column.remark\n            ? render('remark', {\n                type: 'remark',\n                tooltip: column.remark,\n                container:\n                  env && env.getModalContainer\n                    ? env.getModalContainer\n                    : undefined\n              })\n            : null}\n        </div>\n\n        {affix}\n        {resizable === false ? null : resizeLine}\n      </th>\n    );\n  }\n\n  renderCell(\n    region: string,\n    column: IColumn,\n    item: IRow,\n    props: any,\n    ignoreDrag = false\n  ) {\n    const {\n      render,\n      store,\n      multiple,\n      classPrefix: ns,\n      classnames: cx,\n      checkOnItemClick,\n      popOverContainer,\n      canAccessSuperData\n    } = this.props;\n\n    if (column.name && item.rowSpans[column.name] === 0) {\n      return null;\n    }\n\n    if (column.type === '__checkme') {\n      return (\n        <td key={props.key} className={cx(column.pristine.className)}>\n          <Checkbox\n            classPrefix={ns}\n            type={multiple ? 'checkbox' : 'radio'}\n            checked={item.checked}\n            disabled={item.checkdisable}\n            onChange={\n              checkOnItemClick ? noop : this.handleCheck.bind(this, item)\n            }\n          />\n        </td>\n      );\n    } else if (column.type === '__dragme') {\n      return (\n        <td key={props.key} className={cx(column.pristine.className)}>\n          {item.draggable ? <Icon icon=\"drag-bar\" className=\"icon\" /> : null}\n        </td>\n      );\n    } else if (column.type === '__expandme') {\n      return (\n        <td key={props.key} className={cx(column.pristine.className)}>\n          {item.depth > 2\n            ? Array.from({length: item.depth - 2}).map((_, index) => (\n                <i key={index} className={cx('Table-divider-' + (index + 1))} />\n              ))\n            : null}\n\n          {item.expandable ? (\n            <a\n              className={cx(\n                'Table-expandBtn',\n                item.expanded ? 'is-active' : ''\n              )}\n              // data-tooltip=\"/\"\n              // data-position=\"top\"\n              onClick={item.toggleExpanded}\n            >\n              <Icon icon=\"right-arrow-bold\" className=\"icon\" />\n            </a>\n          ) : null}\n        </td>\n      );\n    }\n\n    let prefix: React.ReactNode = null;\n\n    if (\n      !ignoreDrag &&\n      column.isPrimary &&\n      store.isNested &&\n      store.draggable &&\n      item.draggable\n    ) {\n      prefix = (\n        <a\n          draggable\n          onDragStart={this.handleDragStart}\n          className={cx('Table-dragBtn')}\n        >\n          <Icon icon=\"drag-bar\" className=\"icon\" />\n        </a>\n      );\n    }\n\n    const subProps: any = {\n      ...props,\n      btnDisabled: store.dragging,\n      data: item.locals,\n      value: column.name\n        ? resolveVariable(\n            column.name,\n            canAccessSuperData ? item.locals : item.data\n          )\n        : column.value,\n      popOverContainer: popOverContainer || this.getPopOverContainer,\n      rowSpan: item.rowSpans[column.name as string],\n      quickEditFormRef: this.subFormRef,\n      prefix,\n      onImageEnlarge: this.handleImageEnlarge,\n      canAccessSuperData\n    };\n    delete subProps.label;\n\n    return render(\n      region,\n      {\n        ...column.pristine,\n        column: column.pristine,\n        type: 'cell'\n      },\n      subProps\n    );\n  }\n\n  renderAffixHeader(tableClassName: string) {\n    const {store, affixHeader, render, classnames: cx} = this.props;\n    const hideHeader = store.filteredColumns.every(column => !column.label);\n    const columnsGroup = store.columnGroup;\n\n    return affixHeader ? (\n      <div\n        className={cx('Table-fixedTop', {\n          'is-fakeHide': hideHeader\n        })}\n      >\n        {this.renderHeader(false)}\n        {this.renderHeading()}\n        <div className={cx('Table-fixedLeft')}>\n          {store.leftFixedColumns.length\n            ? this.renderFixedColumns(\n                store.rows,\n                store.leftFixedColumns,\n                true,\n                tableClassName\n              )\n            : null}\n        </div>\n        <div className={cx('Table-fixedRight')}>\n          {store.rightFixedColumns.length\n            ? this.renderFixedColumns(\n                store.rows,\n                store.rightFixedColumns,\n                true,\n                tableClassName\n              )\n            : null}\n        </div>\n        <div className={cx('Table-wrapper')}>\n          <table ref={this.affixedTableRef} className={tableClassName}>\n            <colgroup>\n              {store.filteredColumns.map(column => (\n                <col key={column.index} data-index={column.index} />\n              ))}\n            </colgroup>\n            <thead>\n              {columnsGroup.length ? (\n                <tr>\n                  {columnsGroup.map((item, index) => (\n                    <th\n                      key={index}\n                      data-index={item.index}\n                      colSpan={item.colSpan}\n                      rowSpan={item.rowSpan}\n                    >\n                      {item.label ? render('tpl', item.label) : null}\n                    </th>\n                  ))}\n                </tr>\n              ) : null}\n              <tr>\n                {store.filteredColumns.map(column =>\n                  columnsGroup.find(group => ~group.has.indexOf(column))\n                    ?.rowSpan === 2\n                    ? null\n                    : this.renderHeadCell(column, {\n                        'key': column.index,\n                        'data-index': column.index\n                      })\n                )}\n              </tr>\n            </thead>\n          </table>\n        </div>\n      </div>\n    ) : null;\n  }\n\n  renderFixedColumns(\n    rows: Array<any>,\n    columns: Array<IColumn>,\n    headerOnly: boolean = false,\n    tableClassName: string = ''\n  ) {\n    const {\n      placeholder,\n      store,\n      classnames: cx,\n      render,\n      data,\n      translate,\n      locale,\n      checkOnItemClick,\n      buildItemProps,\n      rowClassNameExpr,\n      rowClassName,\n      itemAction\n    } = this.props;\n    const hideHeader = store.filteredColumns.every(column => !column.label);\n    const columnsGroup = store.columnGroup;\n    return (\n      <table\n        className={cx(\n          'Table-table',\n          store.combineNum > 0 ? 'Table-table--withCombine' : '',\n          tableClassName\n        )}\n      >\n        <thead>\n          {columnsGroup.length ? (\n            <tr>\n              {columnsGroup.map((item, index) => {\n                const renderColumns = columns.filter(a => ~item.has.indexOf(a));\n\n                return renderColumns.length ? (\n                  <th\n                    key={index}\n                    data-index={item.index}\n                    colSpan={renderColumns.length}\n                    rowSpan={item.rowSpan}\n                  >\n                    {item.label}\n                  </th>\n                ) : null;\n              })}\n            </tr>\n          ) : null}\n          <tr className={hideHeader ? 'fake-hide' : ''}>\n            {columns.map(column =>\n              columnsGroup.find(group => ~group.has.indexOf(column))\n                ?.rowSpan === 2\n                ? null\n                : this.renderHeadCell(column, {\n                    'key': column.index,\n                    'data-index': column.index\n                  })\n            )}\n          </tr>\n        </thead>\n\n        {headerOnly ? null : !rows.length ? (\n          <tbody>\n            <tr className={cx('Table-placeholder')}>\n              <td colSpan={columns.length}>\n                {render(\n                  'placeholder',\n                  translate(placeholder || 'placeholder.noData')\n                )}\n              </td>\n            </tr>\n          </tbody>\n        ) : (\n          <TableBody\n            tableClassName={cx(\n              store.combineNum > 0 ? 'Table-table--withCombine' : '',\n              tableClassName\n            )}\n            itemAction={itemAction}\n            classnames={cx}\n            render={render}\n            renderCell={this.renderCell}\n            onCheck={this.handleCheck}\n            onQuickChange={store.dragging ? undefined : this.handleQuickChange}\n            footable={store.footable}\n            ignoreFootableContent\n            footableColumns={store.footableColumns}\n            checkOnItemClick={checkOnItemClick}\n            buildItemProps={buildItemProps}\n            onAction={this.handleAction}\n            rowClassNameExpr={rowClassNameExpr}\n            rowClassName={rowClassName}\n            columns={columns}\n            rows={rows}\n            locale={locale}\n            translate={translate}\n            rowsProps={{\n              regionPrefix: 'fixed/',\n              renderCell: (\n                region: string,\n                column: IColumn,\n                item: IRow,\n                props: any\n              ) => this.renderCell(region, column, item, props, true)\n            }}\n          />\n        )}\n      </table>\n    );\n  }\n\n  renderToolbar(toolbar: SchemaNode) {\n    const type = (toolbar as Schema).type || (toolbar as string);\n\n    if (type === 'columns-toggler') {\n      this.renderedToolbars.push(type);\n      return this.renderColumnsToggler(toolbar as any);\n    } else if (type === 'drag-toggler') {\n      this.renderedToolbars.push(type);\n      return this.renderDragToggler();\n    } else if (type === 'export-excel') {\n      this.renderedToolbars.push(type);\n      return this.renderExportExcel(toolbar);\n    }\n\n    return void 0;\n  }\n\n  renderColumnsToggler(config?: any) {\n    const {\n      className,\n      store,\n      classPrefix: ns,\n      classnames: cx,\n      ...rest\n    } = this.props;\n    const __ = rest.translate;\n    const env = rest.env;\n\n    const render = this.props.render;\n\n    if (!store.columnsTogglable) {\n      return null;\n    }\n\n    return (\n      <DropDownButton\n        {...rest}\n        tooltip={__('Table.columnsVisibility')}\n        tooltipContainer={\n          env && env.getModalContainer ? env.getModalContainer : undefined\n        }\n        align={config ? config.align : 'left'}\n        isActived={store.hasColumnHidden()}\n        classnames={cx}\n        classPrefix={ns}\n        key=\"columns-toggable\"\n        size=\"sm\"\n        label={<Icon icon=\"columns\" className=\"icon m-r-none\" />}\n      >\n        {store.toggableColumns.map(column => (\n          <li\n            className={cx('DropDown-menuItem')}\n            key={column.index}\n            onClick={column.toggleToggle}\n          >\n            <Checkbox size=\"sm\" classPrefix={ns} checked={column.toggled}>\n              {column.label ? render('tpl', column.label) : null}\n            </Checkbox>\n          </li>\n        ))}\n      </DropDownButton>\n    );\n  }\n\n  renderDragToggler() {\n    const {store, env, draggable, classPrefix: ns, translate: __} = this.props;\n\n    if (!draggable || store.isNested) {\n      return null;\n    }\n\n    return (\n      <Button\n        disabled={!!store.modified}\n        classPrefix={ns}\n        key=\"dragging-toggle\"\n        tooltip={__('Table.startSort')}\n        tooltipContainer={\n          env && env.getModalContainer ? env.getModalContainer : undefined\n        }\n        size=\"sm\"\n        active={store.dragging}\n        onClick={(e: React.MouseEvent<any>) => {\n          e.preventDefault();\n          store.toggleDragging();\n          store.dragging && store.clear();\n        }}\n        iconOnly\n      >\n        <Icon icon=\"exchange\" className=\"icon\" />\n      </Button>\n    );\n  }\n\n  renderExportExcel(toolbar: ExportExcelToolbar) {\n    const {\n      store,\n      env,\n      classPrefix: ns,\n      classnames: cx,\n      translate: __,\n      columns,\n      data\n    } = this.props;\n\n    if (!columns) {\n      return null;\n    }\n\n    return (\n      <Button\n        classPrefix={ns}\n        onClick={() => {\n          import('exceljs').then(async (ExcelJS: any) => {\n            let rows = [];\n            let tmpStore;\n            let filename = 'data';\n            //  api \n            if (typeof toolbar === 'object' && toolbar.api) {\n              const res = await env.fetcher(toolbar.api, data);\n              if (!res.data) {\n                env.notify('warning', __('placeholder.noData'));\n                return;\n              }\n              if (Array.isArray(res.data)) {\n                rows = res.data;\n              } else {\n                rows = res.data.rows || res.data.items;\n              }\n              //  store  store \n              tmpStore = TableStore.create(getSnapshot(store));\n              tmpStore.initRows(rows);\n              rows = tmpStore.rows;\n            } else {\n              rows = store.rows;\n            }\n\n            if (typeof toolbar === 'object' && toolbar.filename) {\n              filename = filter(toolbar.filename, data, '| raw');\n            }\n\n            if (rows.length === 0) {\n              env.notify('warning', __('placeholder.noData'));\n              return;\n            }\n\n            const workbook = new ExcelJS.Workbook();\n            const worksheet = workbook.addWorksheet('sheet', {\n              properties: {defaultColWidth: 15}\n            });\n            worksheet.views = [{state: 'frozen', xSplit: 0, ySplit: 1}];\n\n            const filteredColumns = toolbar.columns\n              ? columns.filter(column => {\n                  const filterColumnsNames = toolbar.columns!;\n                  if (filterColumnsNames.indexOf(column.name) !== -1) {\n                    return true;\n                  }\n                  return false;\n                })\n              : columns;\n\n            const firstRowLabels = filteredColumns.map(column => {\n              return column.label;\n            });\n            const firstRow = worksheet.getRow(1);\n            firstRow.values = firstRowLabels;\n            worksheet.autoFilter = {\n              from: {\n                row: 1,\n                column: 1\n              },\n              to: {\n                row: 1,\n                column: firstRowLabels.length\n              }\n            };\n            //  mapping source \n            const remoteMappingCache: any = {};\n            // \n            let rowIndex = 1;\n            for (const row of rows) {\n              rowIndex += 1;\n              const sheetRow = worksheet.getRow(rowIndex);\n              let columIndex = 0;\n              for (const column of filteredColumns) {\n                columIndex += 1;\n                const name = column.name!;\n                const value = getVariable(row.data, name);\n                if (\n                  typeof value === 'undefined' &&\n                  !(column as TplSchema).tpl\n                ) {\n                  continue;\n                }\n                // \n                if (name in row.rowSpans) {\n                  if (row.rowSpans[name] === 0) {\n                    continue;\n                  } else {\n                    // start row, start column, end row, end column\n                    worksheet.mergeCells(\n                      rowIndex,\n                      columIndex,\n                      rowIndex + row.rowSpans[name] - 1,\n                      columIndex\n                    );\n                  }\n                }\n\n                const type = (column as BaseSchema).type || 'plain';\n                if (type === 'image' && value) {\n                  try {\n                    const imageData = await toDataURL(value);\n                    const imageDimensions = await getImageDimensions(imageData);\n                    let imageWidth = imageDimensions.width;\n                    let imageHeight = imageDimensions.height;\n                    // \n                    const imageMaxSize = 100;\n                    if (imageWidth > imageHeight) {\n                      if (imageWidth > imageMaxSize) {\n                        imageHeight = (imageMaxSize * imageHeight) / imageWidth;\n                        imageWidth = imageMaxSize;\n                      }\n                    } else {\n                      if (imageHeight > imageMaxSize) {\n                        imageWidth = (imageMaxSize * imageWidth) / imageHeight;\n                        imageHeight = imageMaxSize;\n                      }\n                    }\n                    const imageMatch = imageData.match(/data:image\\/(.*);/);\n                    let imageExt = 'png';\n                    if (imageMatch) {\n                      imageExt = imageMatch[1];\n                    }\n                    //  excel  url\n                    if (\n                      imageExt != 'png' &&\n                      imageExt != 'jpeg' &&\n                      imageExt != 'gif'\n                    ) {\n                      sheetRow.getCell(columIndex).value = value;\n                      continue;\n                    }\n                    const imageId = workbook.addImage({\n                      base64: imageData,\n                      extension: imageExt\n                    });\n                    const linkURL = getAbsoluteUrl(value);\n                    worksheet.addImage(imageId, {\n                      //  0 \n                      tl: {col: columIndex - 1, row: rowIndex - 1},\n                      ext: {\n                        width: imageWidth,\n                        height: imageHeight\n                      },\n                      hyperlinks: {\n                        tooltip: linkURL\n                      }\n                    });\n                  } catch (e) {\n                    console.warn(e.stack);\n                  }\n                } else if (type == 'link') {\n                  const linkURL = getAbsoluteUrl(value);\n                  sheetRow.getCell(columIndex).value = {\n                    text: value,\n                    hyperlink: linkURL\n                  };\n                } else if (type === 'mapping') {\n                  //  Mapping.tsx\n                  let map = (column as MappingSchema).map;\n                  const source = (column as MappingSchema).source;\n                  if (source) {\n                    let sourceValue = source;\n                    if (isPureVariable(source)) {\n                      sourceValue = resolveVariableAndFilter(\n                        source as string,\n                        data,\n                        '| raw'\n                      );\n                    }\n\n                    const mapKey = JSON.stringify(source);\n                    if (mapKey in remoteMappingCache) {\n                      map = remoteMappingCache[mapKey];\n                    } else {\n                      const res = await env.fetcher(sourceValue, data);\n                      if (res.data) {\n                        remoteMappingCache[mapKey] = res.data;\n                        map = res.data;\n                      }\n                    }\n                  }\n\n                  if (\n                    typeof value !== 'undefined' &&\n                    map &&\n                    (map[value] ?? map['*'])\n                  ) {\n                    const viewValue =\n                      map[value] ??\n                      (value === true && map['1']\n                        ? map['1']\n                        : value === false && map['0']\n                        ? map['0']\n                        : map['*']); //  value  true  1  false  0\n                    sheetRow.getCell(columIndex).value =\n                      removeHTMLTag(viewValue);\n                  } else {\n                    sheetRow.getCell(columIndex).value = removeHTMLTag(value);\n                  }\n                } else {\n                  if ((column as TplSchema).tpl) {\n                    sheetRow.getCell(columIndex).value = removeHTMLTag(\n                      filter((column as TplSchema).tpl, row.data)\n                    );\n                  } else {\n                    sheetRow.getCell(columIndex).value = value;\n                  }\n                }\n              }\n            }\n\n            const buffer = await workbook.xlsx.writeBuffer();\n\n            if (buffer) {\n              var blob = new Blob([buffer], {\n                type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n              });\n              saveAs(blob, filename + '.xlsx');\n            }\n          });\n        }}\n        size=\"sm\"\n      >\n        {(toolbar as Schema).label || __('CRUD.exportExcel')}\n      </Button>\n    );\n  }\n\n  renderActions(region: string) {\n    let {actions, render, store, classnames: cx, data} = this.props;\n\n    actions = Array.isArray(actions) ? actions.concat() : [];\n\n    if (\n      store.toggable &&\n      region === 'header' &&\n      !~this.renderedToolbars.indexOf('columns-toggler')\n    ) {\n      actions.push({\n        type: 'button',\n        children: this.renderColumnsToggler()\n      });\n    }\n\n    if (\n      store.draggable &&\n      !store.isNested &&\n      region === 'header' &&\n      store.rows.length > 1 &&\n      !~this.renderedToolbars.indexOf('drag-toggler')\n    ) {\n      actions.push({\n        type: 'button',\n        children: this.renderDragToggler()\n      });\n    }\n\n    return Array.isArray(actions) && actions.length ? (\n      <div className={cx('Table-actions')}>\n        {actions.map((action, key) =>\n          render(\n            `action/${key}`,\n            {\n              type: 'button',\n              ...(action as any)\n            },\n            {\n              onAction: this.handleAction,\n              key,\n              btnDisabled: store.dragging,\n              data: store.getData(data)\n            }\n          )\n        )}\n      </div>\n    ) : null;\n  }\n\n  renderHeader(editable?: boolean) {\n    const {\n      header,\n      headerClassName,\n      toolbarClassName,\n      headerToolbarClassName,\n      headerToolbarRender,\n      render,\n      showHeader,\n      store,\n      classnames: cx,\n      data,\n      translate: __\n    } = this.props;\n\n    if (showHeader === false) {\n      return null;\n    }\n\n    const otherProps: any = {};\n    // editable === false && (otherProps.$$editable = false);\n\n    const child = headerToolbarRender\n      ? headerToolbarRender(\n          {\n            ...this.props,\n            selectedItems: store.selectedRows.map(item => item.data),\n            items: store.rows.map(item => item.data),\n            unSelectedItems: store.unSelectedRows.map(item => item.data),\n            ...otherProps\n          },\n          this.renderToolbar\n        )\n      : null;\n    const actions = this.renderActions('header');\n\n    const toolbarNode =\n      actions || child || store.dragging ? (\n        <div\n          className={cx(\n            'Table-toolbar Table-headToolbar',\n            toolbarClassName,\n            headerToolbarClassName\n          )}\n          key=\"header-toolbar\"\n        >\n          {actions}\n          {child}\n          {store.dragging ? (\n            <div className={cx('Table-dragTip')} ref={this.dragTipRef}>\n              {__('Table.dragTip')}\n            </div>\n          ) : null}\n        </div>\n      ) : null;\n    const headerNode =\n      header && (!Array.isArray(header) || header.length) ? (\n        <div className={cx('Table-header', headerClassName)} key=\"header\">\n          {render('header', header, {\n            ...(editable === false ? otherProps : null),\n            data: store.getData(data)\n          })}\n        </div>\n      ) : null;\n\n    return headerNode && toolbarNode\n      ? [headerNode, toolbarNode]\n      : headerNode || toolbarNode || null;\n  }\n\n  renderFooter() {\n    const {\n      footer,\n      toolbarClassName,\n      footerToolbarClassName,\n      footerClassName,\n      footerToolbarRender,\n      render,\n      showFooter,\n      store,\n      data,\n      classnames: cx\n    } = this.props;\n\n    if (showFooter === false) {\n      return null;\n    }\n\n    const child = footerToolbarRender\n      ? footerToolbarRender(\n          {\n            ...this.props,\n            selectedItems: store.selectedRows.map(item => item.data),\n            items: store.rows.map(item => item.data)\n          },\n          this.renderToolbar\n        )\n      : null;\n    const actions = this.renderActions('footer');\n\n    const toolbarNode =\n      actions || child ? (\n        <div\n          className={cx(\n            'Table-toolbar Table-footToolbar',\n            toolbarClassName,\n            footerToolbarClassName\n          )}\n          key=\"footer-toolbar\"\n        >\n          {actions}\n          {child}\n        </div>\n      ) : null;\n    const footerNode =\n      footer && (!Array.isArray(footer) || footer.length) ? (\n        <div className={cx('Table-footer', footerClassName)} key=\"footer\">\n          {render('footer', footer, {\n            data: store.getData(data)\n          })}\n        </div>\n      ) : null;\n    return footerNode && toolbarNode\n      ? [toolbarNode, footerNode]\n      : footerNode || toolbarNode || null;\n  }\n\n  renderItemActions() {\n    const {itemActions, render, store, classnames: cx} = this.props;\n    const finalActions = Array.isArray(itemActions)\n      ? itemActions.filter(action => !action.hiddenOnHover)\n      : [];\n\n    if (!finalActions.length) {\n      return null;\n    }\n    const rowIndex = store.hoverIndex;\n    const heights = this.heights;\n    let height = 40;\n    let top = 0;\n\n    if (heights && heights[rowIndex]) {\n      height = heights[rowIndex];\n      top += heights.header;\n      for (let i = rowIndex - 1; i >= 0; i--) {\n        top += heights[i];\n      }\n    }\n\n    return (\n      <div\n        className={cx('Table-itemActions-wrap')}\n        style={{\n          top,\n          height\n        }}\n      >\n        <div className={cx('Table-itemActions')}>\n          {finalActions.map((action, index) =>\n            render(\n              `itemAction/${index}`,\n              {\n                ...(action as any),\n                isMenuItem: true\n              },\n              {\n                key: index,\n                item: store.rows[rowIndex],\n                data: store.rows[rowIndex].locals,\n                rowIndex\n              }\n            )\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  renderTableContent() {\n    const {\n      classnames: cx,\n      tableClassName,\n      store,\n      placeholder,\n      render,\n      checkOnItemClick,\n      buildItemProps,\n      rowClassNameExpr,\n      rowClassName,\n      prefixRow,\n      locale,\n      affixRow,\n      translate,\n      itemAction\n    } = this.props;\n\n    //  store.rows \n    // \n    store.rows.length;\n\n    return (\n      <TableContent\n        tableClassName={cx(\n          store.combineNum > 0 ? 'Table-table--withCombine' : '',\n          tableClassName\n        )}\n        itemAction={itemAction}\n        classnames={cx}\n        columns={store.filteredColumns}\n        columnsGroup={store.columnGroup}\n        rows={store.rows}\n        placeholder={placeholder}\n        render={render}\n        onMouseMove={this.handleMouseMove}\n        onScroll={this.handleOutterScroll}\n        tableRef={this.tableRef}\n        renderHeadCell={this.renderHeadCell}\n        renderCell={this.renderCell}\n        onCheck={this.handleCheck}\n        onQuickChange={store.dragging ? undefined : this.handleQuickChange}\n        footable={store.footable}\n        footableColumns={store.footableColumns}\n        checkOnItemClick={checkOnItemClick}\n        buildItemProps={buildItemProps}\n        onAction={this.handleAction}\n        rowClassNameExpr={rowClassNameExpr}\n        rowClassName={rowClassName}\n        data={store.data}\n        prefixRow={prefixRow}\n        affixRow={affixRow}\n        locale={locale}\n        translate={translate}\n      />\n    );\n  }\n\n  render() {\n    const {className, store, classnames: cx, affixColumns} = this.props;\n\n    this.renderedToolbars = []; //  toolbar \n    const heading = this.renderHeading();\n    const header = this.renderHeader();\n    const footer = this.renderFooter();\n    const tableClassName = cx(\n      'Table-table',\n      store.combineNum > 0 ? 'Table-table--withCombine' : '',\n      this.props.tableClassName\n    );\n\n    return (\n      <div\n        className={cx('Table', className, {\n          'Table--unsaved': !!store.modified || !!store.moved\n        })}\n      >\n        {header}\n        {heading}\n        <div\n          className={cx('Table-contentWrap')}\n          onMouseLeave={this.handleMouseLeave}\n        >\n          <div\n            className={cx('Table-fixedLeft')}\n            onMouseMove={this.handleMouseMove}\n          >\n            {affixColumns !== false && store.leftFixedColumns.length\n              ? this.renderFixedColumns(\n                  store.rows,\n                  store.leftFixedColumns,\n                  false,\n                  tableClassName\n                )\n              : null}\n          </div>\n          <div\n            className={cx('Table-fixedRight')}\n            onMouseMove={this.handleMouseMove}\n          >\n            {affixColumns !== false && store.rightFixedColumns.length\n              ? this.renderFixedColumns(\n                  store.rows,\n                  store.rightFixedColumns,\n                  false,\n                  tableClassName\n                )\n              : null}\n          </div>\n          {this.renderTableContent()}\n          {~store.hoverIndex ? this.renderItemActions() : null}\n        </div>\n        {this.renderAffixHeader(tableClassName)}\n        {footer}\n      </div>\n    );\n  }\n}\n\n@Renderer({\n  type: 'table',\n  storeType: TableStore.name,\n  name: 'table'\n})\nexport class TableRenderer extends Table {}\n\nexport {TableCell};\n"
    ]
}