/*!
 *  build: 杭州数蛙科技有限公司 
 *  copyright: dgiot-dashboard 
 *  author: h7ml(h7ml@qq.com) 
 *  Time: 2022年08月26日16时00分52秒
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vendors-dgiot-1c3a2c3f"],{"0335":function(n,t,e){e("0f58")},"07d1":function(n,t,e){e("94ce")},"080b":function(n,t){(function(){"use strict";var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),e=function(n){return n.getParam("pagebreak_separator","\x3c!-- pagebreak --\x3e")},r=function(n){return n.getParam("pagebreak_split_block",!1)},o="mce-pagebreak",u=function(n){var e='<img src="'+t.transparentSrc+'" class="'+o+'" data-mce-resize="false" data-mce-placeholder />';return n?"<p>"+e+"</p>":e},i=function(n){var t=e(n),i=function(){return r(n)},a=new RegExp(t.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,(function(n){return"\\"+n})),"gi");n.on("BeforeSetContent",(function(n){n.content=n.content.replace(a,u(i()))})),n.on("PreInit",(function(){n.serializer.addNodeFilter("img",(function(e){var r,u,a=e.length;while(a--)if(r=e[a],u=r.attr("class"),u&&-1!==u.indexOf(o)){var c=r.parent;if(n.schema.getBlockElements()[c.name]&&i()){c.type=3,c.value=t,c.raw=!0,r.remove();continue}r.type=3,r.value=t,r.raw=!0}}))}))},a=function(n){n.addCommand("mcePageBreak",(function(){n.insertContent(u(r(n)))}))},c=function(n){n.on("ResolveName",(function(t){"IMG"===t.target.nodeName&&n.dom.hasClass(t.target,o)&&(t.name="pagebreak")}))},l=function(n){var t=function(){return n.execCommand("mcePageBreak")};n.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:t}),n.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:t})};function f(){n.add("pagebreak",(function(n){a(n),l(n),i(n),c(n)}))}f()})()},"0a9d":function(n,t,e){e("69a4")},"0b16":function(n,t,e){"use strict";var r=e("1985"),o=e("35e8");function u(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=C,t.resolve=T,t.resolveObject=S,t.format=x,t.Url=u;var i=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["<",">",'"',"`"," ","\r","\n","\t"],f=["{","}","|","\\","^","`"].concat(l),s=["'"].concat(f),d=["%","/","?",";","#"].concat(s),m=["/","?","#"],p=255,g=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=e("b383");function C(n,t,e){if(n&&o.isObject(n)&&n instanceof u)return n;var r=new u;return r.parse(n,t,e),r}function x(n){return o.isString(n)&&(n=C(n)),n instanceof u?n.format():u.prototype.format.call(n)}function T(n,t){return C(n,!1,!0).resolve(t)}function S(n,t){return n?C(n,!1,!0).resolveObject(t):t}u.prototype.parse=function(n,t,e){if(!o.isString(n))throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var u=n.indexOf("?"),a=-1!==u&&u<n.indexOf("#")?"?":"#",l=n.split(a),f=/\\/g;l[0]=l[0].replace(f,"/"),n=l.join(a);var C=n;if(C=C.trim(),!e&&1===n.split("#").length){var x=c.exec(C);if(x)return this.path=C,this.href=C,this.pathname=x[1],x[2]?(this.search=x[2],this.query=t?w.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var T=i.exec(C);if(T){T=T[0];var S=T.toLowerCase();this.protocol=S,C=C.substr(T.length)}if(e||T||C.match(/^\/\/[^@\/]+@[^@\/]+/)){var D="//"===C.substr(0,2);!D||T&&b[T]||(C=C.substr(2),this.slashes=!0)}if(!b[T]&&(D||T&&!y[T])){for(var A,R,O=-1,E=0;E<m.length;E++){var k=C.indexOf(m[E]);-1!==k&&(-1===O||k<O)&&(O=k)}R=-1===O?C.lastIndexOf("@"):C.lastIndexOf("@",O),-1!==R&&(A=C.slice(0,R),C=C.slice(R+1),this.auth=decodeURIComponent(A)),O=-1;for(E=0;E<d.length;E++){k=C.indexOf(d[E]);-1!==k&&(-1===O||k<O)&&(O=k)}-1===O&&(O=C.length),this.host=C.slice(0,O),C=C.slice(O),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var F=this.hostname.split(/\./),_=(E=0,F.length);E<_;E++){var B=F[E];if(B&&!B.match(g)){for(var M="",N=0,I=B.length;N<I;N++)B.charCodeAt(N)>127?M+="x":M+=B[N];if(!M.match(g)){var j=F.slice(0,E),L=F.slice(E+1),W=B.match(h);W&&(j.push(W[1]),L.unshift(W[2])),L.length&&(C="/"+L.join(".")+C),this.hostname=j.join(".");break}}}this.hostname.length>p?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname));var z=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+z,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==C[0]&&(C="/"+C))}if(!v[S])for(E=0,_=s.length;E<_;E++){var H=s[E];if(-1!==C.indexOf(H)){var V=encodeURIComponent(H);V===H&&(V=escape(H)),C=C.split(H).join(V)}}var q=C.indexOf("#");-1!==q&&(this.hash=C.substr(q),C=C.slice(0,q));var K=C.indexOf("?");if(-1!==K?(this.search=C.substr(K),this.query=C.substr(K+1),t&&(this.query=w.parse(this.query)),C=C.slice(0,K)):t&&(this.search="",this.query={}),C&&(this.pathname=C),y[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){z=this.pathname||"";var $=this.search||"";this.path=z+$}return this.href=this.format(),this},u.prototype.format=function(){var n=this.auth||"";n&&(n=encodeURIComponent(n),n=n.replace(/%3A/i,":"),n+="@");var t=this.protocol||"",e=this.pathname||"",r=this.hash||"",u=!1,i="";this.host?u=n+this.host:this.hostname&&(u=n+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(u+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(i=w.stringify(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==u?(u="//"+(u||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):u||(u=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),e=e.replace(/[?#]/g,(function(n){return encodeURIComponent(n)})),a=a.replace("#","%23"),t+u+e+a+r},u.prototype.resolve=function(n){return this.resolveObject(C(n,!1,!0)).format()},u.prototype.resolveObject=function(n){if(o.isString(n)){var t=new u;t.parse(n,!1,!0),n=t}for(var e=new u,r=Object.keys(this),i=0;i<r.length;i++){var a=r[i];e[a]=this[a]}if(e.hash=n.hash,""===n.href)return e.href=e.format(),e;if(n.slashes&&!n.protocol){for(var c=Object.keys(n),l=0;l<c.length;l++){var f=c[l];"protocol"!==f&&(e[f]=n[f])}return y[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(n.protocol&&n.protocol!==e.protocol){if(!y[n.protocol]){for(var s=Object.keys(n),d=0;d<s.length;d++){var m=s[d];e[m]=n[m]}return e.href=e.format(),e}if(e.protocol=n.protocol,n.host||b[n.protocol])e.pathname=n.pathname;else{var p=(n.pathname||"").split("/");while(p.length&&!(n.host=p.shift()));n.host||(n.host=""),n.hostname||(n.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),e.pathname=p.join("/")}if(e.search=n.search,e.query=n.query,e.host=n.host||"",e.auth=n.auth,e.hostname=n.hostname||n.host,e.port=n.port,e.pathname||e.search){var g=e.pathname||"",h=e.search||"";e.path=g+h}return e.slashes=e.slashes||n.slashes,e.href=e.format(),e}var v=e.pathname&&"/"===e.pathname.charAt(0),w=n.host||n.pathname&&"/"===n.pathname.charAt(0),C=w||v||e.host&&n.pathname,x=C,T=e.pathname&&e.pathname.split("/")||[],S=(p=n.pathname&&n.pathname.split("/")||[],e.protocol&&!y[e.protocol]);if(S&&(e.hostname="",e.port=null,e.host&&(""===T[0]?T[0]=e.host:T.unshift(e.host)),e.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(""===p[0]?p[0]=n.host:p.unshift(n.host)),n.host=null),C=C&&(""===p[0]||""===T[0])),w)e.host=n.host||""===n.host?n.host:e.host,e.hostname=n.hostname||""===n.hostname?n.hostname:e.hostname,e.search=n.search,e.query=n.query,T=p;else if(p.length)T||(T=[]),T.pop(),T=T.concat(p),e.search=n.search,e.query=n.query;else if(!o.isNullOrUndefined(n.search)){if(S){e.hostname=e.host=T.shift();var D=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@");D&&(e.auth=D.shift(),e.host=e.hostname=D.shift())}return e.search=n.search,e.query=n.query,o.isNull(e.pathname)&&o.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!T.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var A=T.slice(-1)[0],R=(e.host||n.host||T.length>1)&&("."===A||".."===A)||""===A,O=0,E=T.length;E>=0;E--)A=T[E],"."===A?T.splice(E,1):".."===A?(T.splice(E,1),O++):O&&(T.splice(E,1),O--);if(!C&&!x)for(;O--;O)T.unshift("..");!C||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),R&&"/"!==T.join("/").substr(-1)&&T.push("");var k=""===T[0]||T[0]&&"/"===T[0].charAt(0);if(S){e.hostname=e.host=k?"":T.length?T.shift():"";D=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@");D&&(e.auth=D.shift(),e.host=e.hostname=D.shift())}return C=C||e.host&&T.length,C&&!k&&T.unshift(""),T.length?e.pathname=T.join("/"):(e.pathname=null,e.path=null),o.isNull(e.pathname)&&o.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=n.auth||e.auth,e.slashes=e.slashes||n.slashes,e.href=e.format(),e},u.prototype.parseHost=function(){var n=this.host,t=a.exec(n);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),n=n.substr(0,n.length-t.length)),n&&(this.hostname=n)}},"0d68":function(n,t,e){e("030f")},"0efa":function(n,t,e){e("4bdc")},"0f58":function(n,t){(function(){"use strict";var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(n){var t=typeof n;return null===n?"null":"object"===t&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":t},e=function(n){return function(e){return t(e)===n}},r=function(n){return function(t){return typeof t===n}},o=e("string"),u=r("function"),i=function(){},a=function(n){return function(){return n}},c=function(n){return n};function l(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=t.concat(e);return n.apply(null,o)}}var f=a(!1),s=a(!0),d=tinymce.util.Tools.resolve("tinymce.util.Tools"),m=tinymce.util.Tools.resolve("tinymce.util.XHR"),p=function(n){return n.getParam("template_cdate_classes","cdate")},g=function(n){return n.getParam("template_mdate_classes","mdate")},h=function(n){return n.getParam("template_selected_content_classes","selcontent")},v=function(n){return n.getParam("template_preview_replace_values")},b=function(n){return n.getParam("content_style","","string")},y=function(n){return n.getParam("content_css_cors",!1,"boolean")},w=function(n){return n.getParam("template_replace_values")},C=function(n){return n.getParam("templates")},x=function(n){return n.getParam("template_cdate_format",n.translate("%Y-%m-%d"))},T=function(n){return n.getParam("template_mdate_format",n.translate("%Y-%m-%d"))},S=function(n){var t=n.getParam("body_class","","hash");return t[n.id]||""},D=function(n){var t=n.getParam("body_class","","string");return-1===t.indexOf("=")?t:S(n)},A=function(n,t){if(n=""+n,n.length<t)for(var e=0;e<t-n.length;e++)n="0"+n;return n},R=function(n,t,e){void 0===e&&(e=new Date);var r="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),o="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),u="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),i="January February March April May June July August September October November December".split(" ");return t=t.replace("%D","%m/%d/%Y"),t=t.replace("%r","%I:%M:%S %p"),t=t.replace("%Y",""+e.getFullYear()),t=t.replace("%y",""+e.getYear()),t=t.replace("%m",A(e.getMonth()+1,2)),t=t.replace("%d",A(e.getDate(),2)),t=t.replace("%H",""+A(e.getHours(),2)),t=t.replace("%M",""+A(e.getMinutes(),2)),t=t.replace("%S",""+A(e.getSeconds(),2)),t=t.replace("%I",""+((e.getHours()+11)%12+1)),t=t.replace("%p",e.getHours()<12?"AM":"PM"),t=t.replace("%B",""+n.translate(i[e.getMonth()])),t=t.replace("%b",""+n.translate(u[e.getMonth()])),t=t.replace("%A",""+n.translate(o[e.getDay()])),t=t.replace("%a",""+n.translate(r[e.getDay()])),t=t.replace("%%","%"),t},O=function(n,t){return function(){var e=C(n);u(e)?e(t):o(e)?m.send({url:e,success:function(n){t(JSON.parse(n))}}):t(e)}},E=function(n,t){return d.each(t,(function(t,e){u(t)&&(t=t(e)),n=n.replace(new RegExp("\\{\\$"+e+"\\}","g"),t)})),n},k=function(n,t){var e=n.dom,r=w(n);d.each(e.select("*",t),(function(n){d.each(r,(function(t,r){e.hasClass(n,r)&&u(t)&&t(n)}))}))},P=function(n,t){return new RegExp("\\b"+t+"\\b","g").test(n.className)},F=function(n,t,e){var r=n.dom,o=n.selection.getContent();e=E(e,w(n));var u=r.create("div",null,e),i=r.select(".mceTmpl",u);i&&i.length>0&&(u=r.create("div",null),u.appendChild(i[0].cloneNode(!0))),d.each(r.select("*",u),(function(t){P(t,p(n).replace(/\s+/g,"|"))&&(t.innerHTML=R(n,x(n))),P(t,g(n).replace(/\s+/g,"|"))&&(t.innerHTML=R(n,T(n))),P(t,h(n).replace(/\s+/g,"|"))&&(t.innerHTML=o)})),k(n,u),n.execCommand("mceInsertContent",!1,u.innerHTML),n.addVisual()},_=function(){return B},B=function(){var n=function(n){return n()},t=c,e={fold:function(n,t){return n()},isSome:f,isNone:s,getOr:t,getOrThunk:n,getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.")},getOrNull:a(null),getOrUndefined:a(void 0),or:t,orThunk:n,map:_,each:i,bind:_,exists:f,forall:s,filter:function(){return _()},toArray:function(){return[]},toString:a("none()")};return e}(),M=function(n){var t=a(n),e=function(){return o},r=function(t){return t(n)},o={fold:function(t,e){return e(n)},isSome:s,isNone:f,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:e,orThunk:e,map:function(t){return M(t(n))},each:function(t){t(n)},bind:r,exists:r,forall:r,filter:function(t){return t(n)?o:B},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return o},N=function(n){return null===n||void 0===n?B:M(n)},I={some:M,none:_,from:N},j=function(n,t){for(var e=n.length,r=new Array(e),o=0;o<e;o++){var u=n[o];r[o]=t(u,o)}return r},L=function(n,t,e){for(var r=0,o=n.length;r<o;r++){var u=n[r];if(t(u,r))return I.some(u);if(e(u,r))break}return I.none()},W=function(n,t){return L(n,t,f)},z=tinymce.util.Tools.resolve("tinymce.Env"),U=tinymce.util.Tools.resolve("tinymce.util.Promise"),H=Object.hasOwnProperty,V=function(n,t){return q(n,t)?I.from(n[t]):I.none()},q=function(n,t){return H.call(n,t)},K={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},$=function(n){return n.replace(/["'<>&]/g,(function(n){return V(K,n).getOr(n)}))},X=function(n,t){if(-1===t.indexOf("<html>")){var e="",r=b(n),o=y(n)?' crossorigin="anonymous"':"";d.each(n.contentCSS,(function(t){e+='<link type="text/css" rel="stylesheet" href="'+n.documentBaseURI.toAbsolute(t)+'"'+o+">"})),r&&(e+='<style type="text/css">'+r+"</style>");var u=D(n),i=n.dom.encode,a=z.mac?"e.metaKey":"e.ctrlKey && !e.altKey",c='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+a+")) {e.preventDefault();}}}, false);<\/script> ",l=n.getBody().dir,f=l?' dir="'+i(l)+'"':"";t='<!DOCTYPE html><html><head><base href="'+i(n.documentBaseURI.getURI())+'">'+e+c+'</head><body class="'+i(u)+'"'+f+">"+t+"</body></html>"}return E(t,v(n))},G=function(n,t){var e=function(){if(!t||0===t.length){var e=n.translate("No templates defined.");return n.notificationManager.open({text:e,type:"info"}),I.none()}return I.from(d.map(t,(function(n,t){var e=function(n){return void 0!==n.url};return{selected:0===t,text:n.title,value:{url:e(n)?I.from(n.url):I.none(),content:e(n)?I.none():I.from(n.content),description:n.description}}})))},r=function(n){return j(n,(function(n){return{text:n.text,value:n.text}}))},o=function(n,t){return W(n,(function(n){return n.text===t}))},u=function(t){n.windowManager.alert("Could not load the specified template.",(function(){return t.focus("template")}))},i=function(n){return new U((function(t,e){n.value.url.fold((function(){return t(n.value.content.getOr(""))}),(function(n){return m.send({url:n,success:function(n){t(n)},error:function(n){e(n)}})}))}))},a=function(n,t){return function(e,r){if("template"===r.name){var a=e.getData().template;o(n,a).each((function(n){e.block("Loading..."),i(n).then((function(r){t(e,n,r)})).catch((function(){t(e,n,""),e.disable("save"),u(e)}))}))}}},c=function(t){return function(e){var r=e.getData();o(t,r.template).each((function(t){i(t).then((function(t){n.execCommand("mceInsertTemplate",!1,t),e.close()})).catch((function(){e.disable("save"),u(e)}))}))}},l=function(t){var e=r(t),o=function(n,e){return{title:"Insert Template",size:"large",body:{type:"panel",items:n},initialData:e,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:c(t),onChange:a(t,l)}},l=function(t,r,u){var i=X(n,u),a=[{type:"selectbox",name:"template",label:"Templates",items:e},{type:"htmlpanel",html:'<p aria-live="polite">'+$(r.value.description)+"</p>"},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1}],c={template:r.text,preview:i};t.unblock(),t.redial(o(a,c)),t.focus("template")},f=n.windowManager.open(o([],{template:"",preview:""}));f.block("Loading..."),i(t[0]).then((function(n){l(f,t[0],n)})).catch((function(){l(f,t[0],""),f.disable("save"),u(f)}))},f=e();f.each(l)},Y=function(n){return function(t){G(n,t)}},J=function(n){n.addCommand("mceInsertTemplate",l(F,n)),n.addCommand("mceTemplate",O(n,Y(n)))},Z=function(n){n.on("PreProcess",(function(t){var e=n.dom,r=T(n);d.each(e.select("div",t.node),(function(t){e.hasClass(t,"mceTmpl")&&(d.each(e.select("*",t),(function(t){e.hasClass(t,g(n).replace(/\s+/g,"|"))&&(t.innerHTML=R(n,r))})),k(n,t))}))}))},Q=function(n){var t=function(){return n.execCommand("mceTemplate")};n.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onAction:t}),n.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onAction:t})};function nn(){n.add("template",(function(n){Q(n),J(n),Z(n)}))}nn()})()},"13d9":function(n,t){n.exports=function(){var n=document.getSelection();if(!n.rangeCount)return function(){};for(var t=document.activeElement,e=[],r=0;r<n.rangeCount;r++)e.push(n.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return n.removeAllRanges(),function(){"Caret"===n.type&&n.removeAllRanges(),n.rangeCount||e.forEach((function(t){n.addRange(t)})),t&&t.focus()}}},2519:function(n,t){(function(){"use strict";var n=function(n){var t=n,e=function(){return t},r=function(n){t=n};return{get:e,set:r}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(){return e=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e],t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},e.apply(this,arguments)},r=function(n){var t=typeof n;return null===n?"null":"object"===t&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":t},o=function(n){return function(t){return r(t)===n}},u=function(n){return function(t){return typeof t===n}},i=o("string"),a=o("array"),c=u("boolean"),l=u("number"),f=function(){},s=function(n){return function(){return n}},d=function(n){return n},m=s(!1),p=s(!0),g="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",h=s(g),v=function(){return b},b=function(){var n=function(n){return n()},t=d,e={fold:function(n,t){return n()},isSome:m,isNone:p,getOr:t,getOrThunk:n,getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.")},getOrNull:s(null),getOrUndefined:s(void 0),or:t,orThunk:n,map:v,each:f,bind:v,exists:m,forall:p,filter:function(){return v()},toArray:function(){return[]},toString:s("none()")};return e}(),y=function(n){var t=s(n),e=function(){return o},r=function(t){return t(n)},o={fold:function(t,e){return e(n)},isSome:p,isNone:m,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:e,orThunk:e,map:function(t){return y(t(n))},each:function(t){t(n)},bind:r,exists:r,forall:r,filter:function(t){return t(n)?o:b},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return o},w=function(n){return null===n||void 0===n?b:y(n)},C={some:y,none:v,from:w},x=h,T=tinymce.util.Tools.resolve("tinymce.Env"),S=tinymce.util.Tools.resolve("tinymce.util.Tools"),D=Array.prototype.slice,A=Array.prototype.push,R=function(n,t){for(var e=n.length,r=new Array(e),o=0;o<e;o++){var u=n[o];r[o]=t(u,o)}return r},O=function(n,t){for(var e=0,r=n.length;e<r;e++){var o=n[e];t(o,e)}},E=function(n,t){for(var e=n.length-1;e>=0;e--){var r=n[e];t(r,e)}},k=function(n,t){if(0===n.length)return[];for(var e=t(n[0]),r=[],o=[],u=0,i=n.length;u<i;u++){var a=n[u],c=t(a);c!==e&&(r.push(o),o=[]),e=c,o.push(a)}return 0!==o.length&&r.push(o),r},P=function(n,t,e){return O(n,(function(n,r){e=t(e,n,r)})),e},F=function(n){for(var t=[],e=0,r=n.length;e<r;++e){if(!a(n[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+n);A.apply(t,n[e])}return t},_=function(n,t){return F(R(n,t))},B=function(n,t){var e=D.call(n,0);return e.sort(t),e},M=Object.hasOwnProperty,N=function(n,t){return M.call(n,t)};"undefined"!==typeof window?window:Function("return this;")();var I=9,j=11,L=1,W=3,z=function(n){return n.dom.nodeType},U=function(n){return function(t){return z(t)===n}},H=U(W),V=function(n,t,e){if(!(i(e)||c(e)||l(e)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",e,":: Element ",n),new Error("Attribute value was not simple");n.setAttribute(t,e+"")},q=function(n,t,e){V(n.dom,t,e)},K=function(n,t,e){return 0!==(n.compareDocumentPosition(t)&e)},$=function(n,t){return K(n,t,Node.DOCUMENT_POSITION_PRECEDING)},X=function(n,t){var e=t||document,r=e.createElement("div");if(r.innerHTML=n,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",n),new Error("HTML must have a single root node");return J(r.childNodes[0])},G=function(n,t){var e=t||document,r=e.createElement(n);return J(r)},Y=function(n,t){var e=t||document,r=e.createTextNode(n);return J(r)},J=function(n){if(null===n||void 0===n)throw new Error("Node cannot be null or undefined");return{dom:n}},Z=function(n,t,e){return C.from(n.dom.elementFromPoint(t,e)).map(J)},Q={fromHtml:X,fromTag:G,fromText:Y,fromDom:J,fromPoint:Z},nn=function(n){return n.nodeType!==L&&n.nodeType!==I&&n.nodeType!==j||0===n.childElementCount},tn=function(n,t){var e=void 0===t?document:t.dom;return nn(e)?[]:R(e.querySelectorAll(n),Q.fromDom)},en=function(n){return C.from(n.dom.parentNode).map(Q.fromDom)},rn=function(n){return R(n.dom.childNodes,Q.fromDom)},on=function(n,t){return{element:n,offset:t}},un=function(n,t){var e=rn(n);return e.length>0&&t<e.length?on(e[t],0):on(n,t)},an=function(n,t){var e=en(n);e.each((function(e){e.dom.insertBefore(t.dom,n.dom)}))},cn=function(n,t){n.dom.appendChild(t.dom)},ln=function(n,t){an(n,t),cn(t,n)},fn=function(n,t){var e=function(e){if(!n(e))throw new Error("Can only get "+t+" value of a "+t+" node");return r(e).getOr("")},r=function(t){return n(t)?C.from(t.dom.nodeValue):C.none()},o=function(e,r){if(!n(e))throw new Error("Can only set raw "+t+" value of a "+t+" node");e.dom.nodeValue=r};return{get:e,getOption:r,set:o}},sn=fn(H,"text"),dn=function(n){return sn.get(n)},mn=function(n,t){return tn(t,n)},pn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),gn=function(n,t){return n.isBlock(t)||N(n.schema.getShortEndedElements(),t.nodeName)},hn=function(n,t){return"false"===n.getContentEditable(t)},vn=function(n,t){return"true"===n.getContentEditable(t)&&"false"===n.getContentEditableParent(t.parentNode)},bn=function(n,t){return!n.isBlock(t)&&N(n.schema.getWhiteSpaceElements(),t.nodeName)},yn=function(n,t){return gn(n,t)||hn(n,t)||bn(n,t)||vn(n,t)},wn=function(n){return 3===n.nodeType},Cn=function(){return{sOffset:0,fOffset:0,elements:[]}},xn=function(n,t){return un(Q.fromDom(n),t)},Tn=function(n,t,e,r,o,u){void 0===u&&(u=!0);var i=u?t(!1):e;while(i){var a=hn(n,i);if(a||bn(n,i)){var c=a?r.cef(i):r.boundary(i);if(c)break;i=t(!0)}else{if(gn(n,i)){if(r.boundary(i))break}else wn(i)&&r.text(i);if(i===o)break;i=t(!1)}}},Sn=function(n,t,e,r,o){if(!yn(n,e)){var u=n.getParent(r,n.isBlock),i=new pn(e,u),a=o?i.next.bind(i):i.prev.bind(i);Tn(n,a,e,{boundary:p,cef:p,text:function(n){o?t.fOffset+=n.length:t.sOffset+=n.length,t.elements.push(Q.fromDom(n))}})}},Dn=function(n,t,e,r,o,u){void 0===u&&(u=!0);var i=new pn(e,t),a=[],c=Cn();Sn(n,c,e,t,!1);var l=function(){return c.elements.length>0&&(a.push(c),c=Cn()),!1};return Tn(n,i.next.bind(i),e,{boundary:l,cef:function(n){return l(),o&&a.push.apply(a,o.cef(n)),!1},text:function(n){c.elements.push(Q.fromDom(n)),o&&o.text(n,c)}},r,u),r&&Sn(n,c,r,t,!0),l(),a},An=function(n,t){var e=xn(t.startContainer,t.startOffset),r=e.element.dom,o=xn(t.endContainer,t.endOffset),u=o.element.dom;return Dn(n,t.commonAncestorContainer,r,u,{text:function(n,t){n===u?t.fOffset+=n.length-o.offset:n===r&&(t.sOffset+=e.offset)},cef:function(t){var e=_(mn(Q.fromDom(t),"*[contenteditable=true]"),(function(t){var e=t.dom;return Dn(n,e,e)}));return B(e,(function(n,t){return $(n.elements[0].dom,t.elements[0].dom)?1:-1}))}},!1)},Rn=function(n,t){return t.collapsed?[]:An(n,t)},On=function(n,t){var e=n.createRng();return e.selectNode(t),Rn(n,e)},En=function(n,t){return _(t,(function(t){return On(n,t)}))},kn=function(n,t,e,r){void 0===e&&(e=0),void 0===r&&(r=n.length);var o=t.regex;o.lastIndex=e;var u,i=[];while(u=o.exec(n)){var a=u[t.matchIndex],c=u.index+u[0].indexOf(a),l=c+a.length;if(l>r)break;i.push({start:c,finish:l}),o.lastIndex=l}return i},Pn=function(n,t){var e=P(n,(function(n,e){var r=dn(e),o=n.last,u=o+r.length,i=_(t,(function(n,t){return n.start<u&&n.finish>o?[{element:e,start:Math.max(o,n.start)-o,finish:Math.min(u,n.finish)-o,matchId:t}]:[]}));return{results:n.results.concat(i),last:u}}),{results:[],last:0}).results;return k(e,(function(n){return n.matchId}))},Fn=function(n,t){return _(t,(function(t){var e=t.elements,r=R(e,dn).join(""),o=kn(r,n,t.sOffset,r.length-t.fOffset);return Pn(e,o)}))},_n=function(n,t){E(n,(function(n,e){E(n,(function(n){var r=Q.fromDom(t.cloneNode(!1));q(r,"data-mce-index",e);var o=n.element.dom;if(o.length===n.finish&&0===n.start)ln(n.element,r);else{o.length!==n.finish&&o.splitText(n.finish);var u=o.splitText(n.start);ln(Q.fromDom(u),r)}}))}))},Bn=function(n,t,e,r){var o=On(n,e),u=Fn(t,o);return _n(u,r),u.length},Mn=function(n,t,e,r){var o=e.getBookmark(),u=n.select("td[data-mce-selected],th[data-mce-selected]"),i=u.length>0?En(n,u):Rn(n,e.getRng()),a=Fn(t,i);return _n(a,r),e.moveToBookmark(o),a.length},Nn=function(n){var t=n.getAttribute("data-mce-index");return"number"===typeof t?""+t:t},In=function(n,t,e,r){var o=n.dom.create("span",{"data-mce-bogus":1});o.className="mce-match-marker";var u=n.getBody();return Xn(n,t,!1),r?Mn(n.dom,e,n.selection,o):Bn(n.dom,e,u,o)},jn=function(n){var t=n.parentNode;n.firstChild&&t.insertBefore(n.firstChild,n),n.parentNode.removeChild(n)},Ln=function(n,t){var e=[],r=S.toArray(n.getBody().getElementsByTagName("span"));if(r.length)for(var o=0;o<r.length;o++){var u=Nn(r[o]);null!==u&&u.length&&(u===t.toString()&&e.push(r[o]))}return e},Wn=function(n,t,e){var r=t.get(),o=r.index,u=n.dom;e=!1!==e,e?o+1===r.count?o=0:o++:o-1===-1?o=r.count-1:o--,u.removeClass(Ln(n,r.index),"mce-match-marker-selected");var i=Ln(n,o);return i.length?(u.addClass(Ln(n,o),"mce-match-marker-selected"),n.selection.scrollIntoView(i[0]),o):-1},zn=function(n,t){var e=t.parentNode;n.remove(t),n.isEmpty(e)&&n.remove(e)},Un=function(n,t){var e=n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),r="("+e+")";return t?"(?:^|\\s|"+x()+")"+r+"(?=$|\\s|"+x()+")":r},Hn=function(n,t,e,r,o,u){var i=n.selection,a=Un(e,o),c=i.isForward(),l={regex:new RegExp(a,r?"g":"gi"),matchIndex:1},f=In(n,t,l,u);if(T.browser.isSafari()&&i.setRng(i.getRng(),c),f){var s=Wn(n,t,!0);t.set({index:s,count:f,text:e,matchCase:r,wholeWord:o,inSelection:u})}return f},Vn=function(n,t){var r=Wn(n,t,!0);t.set(e(e({},t.get()),{index:r}))},qn=function(n,t){var r=Wn(n,t,!1);t.set(e(e({},t.get()),{index:r}))},Kn=function(n){var t=Nn(n);return null!==t&&t.length>0},$n=function(n,t,r,o,u){var i,a=t.get(),c=a.index,l=c;o=!1!==o;for(var f=n.getBody(),s=S.grep(S.toArray(f.getElementsByTagName("span")),Kn),d=0;d<s.length;d++){var m=Nn(s[d]),p=i=parseInt(m,10);if(u||p===a.index){r.length?(s[d].firstChild.nodeValue=r,jn(s[d])):zn(n.dom,s[d]);while(s[++d]){if(p=parseInt(Nn(s[d]),10),p!==i){d--;break}zn(n.dom,s[d])}o&&l--}else i>c&&s[d].setAttribute("data-mce-index",String(i-1))}return t.set(e(e({},a),{count:u?0:a.count-1,index:l})),o?Vn(n,t):qn(n,t),!u&&t.get().count>0},Xn=function(n,t,r){for(var o,u,i=t.get(),a=S.toArray(n.getBody().getElementsByTagName("span")),c=0;c<a.length;c++){var l=Nn(a[c]);null!==l&&l.length&&(l===i.index.toString()&&(o||(o=a[c].firstChild),u=a[c].firstChild),jn(a[c]))}if(t.set(e(e({},i),{index:-1,count:0,text:""})),o&&u){var f=n.dom.createRng();return f.setStart(o,0),f.setEnd(u,u.data.length),!1!==r&&n.selection.setRng(f),f}},Gn=function(n,t){return t.get().count>1},Yn=function(n,t){return t.get().count>1},Jn=function(n,t){var e=function(e){return Xn(n,t,e)},r=function(e,r,o,u){return void 0===u&&(u=!1),Hn(n,t,e,r,o,u)},o=function(){return Vn(n,t)},u=function(){return qn(n,t)},i=function(e,r,o){return $n(n,t,e,r,o)};return{done:e,find:r,next:o,prev:u,replace:i}},Zn=function(t){var e=n(C.none()),r=function(){return e.get().each(t)},o=function(){r(),e.set(C.none())},u=function(){return e.get().isSome()},i=function(){return e.get()},a=function(n){r(),e.set(C.some(n))};return{clear:o,isSet:u,get:i,set:a}},Qn=function(){var n=Zn(f),t=function(t){return n.get().each(t)};return e(e({},n),{on:t})},nt=function(n,t){var r=Qn();n.undoManager.add();var o=S.trim(n.selection.getContent({format:"text"})),u=function(e){var r=Gn(n,t)?e.enable:e.disable;r("next");var o=Yn(n,t)?e.enable:e.disable;o("prev")},i=function(n){var r=n.getData(),o=t.get();t.set(e(e({},o),{matchCase:r.matchcase,wholeWord:r.wholewords,inSelection:r.inselection}))},a=function(n,t){var e=["replace","replaceall","prev","next"],r=t?n.disable:n.enable;O(e,r)},c=function(t){n.windowManager.alert("Could not find the specified string.",(function(){t.focus("findtext")}))},l=function(n,t){T.browser.isSafari()&&T.deviceType.isTouch()&&("find"===t||"replace"===t||"replaceall"===t)&&n.focus(t)},f=function(e){Xn(n,t,!1),a(e,!0),u(e)},s=function(e){var r=e.getData(),o=t.get();if(r.findtext.length){if(o.text===r.findtext&&o.matchCase===r.matchcase&&o.wholeWord===r.wholewords)Vn(n,t);else{var i=Hn(n,t,r.findtext,r.matchcase,r.wholewords,r.inselection);i<=0&&c(e),a(e,0===i)}u(e)}else f(e)},d=t.get(),m={findtext:o,replacetext:"",wholewords:d.wholeWord,matchcase:d.matchCase,inselection:d.inSelection},p={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace all",disabled:!0}],initialData:m,onChange:function(n,e){"findtext"===e.name&&t.get().count>0&&f(n)},onAction:function(e,r){var o=e.getData();switch(r.name){case"find":s(e);break;case"replace":$n(n,t,o.replacetext)?u(e):f(e);break;case"replaceall":$n(n,t,o.replacetext,!0,!0),f(e);break;case"prev":qn(n,t),u(e);break;case"next":Vn(n,t),u(e);break;case"matchcase":case"wholewords":case"inselection":i(e),f(e);break}l(e,r.name)},onSubmit:function(n){s(n),l(n,"find")},onClose:function(){n.focus(),Xn(n,t),n.undoManager.add()}};r.set(n.windowManager.open(p,{inline:"toolbar"}))},tt=function(n,t){n.addCommand("SearchReplace",(function(){nt(n,t)}))},et=function(n,t){return function(){nt(n,t)}},rt=function(n,t){n.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:et(n,t),icon:"search"}),n.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:et(n,t),icon:"search"}),n.shortcuts.add("Meta+F","",et(n,t))};function ot(){t.add("searchreplace",(function(t){var e=n({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return tt(t,e),rt(t,e),Jn(t,e)}))}ot()})()},"35e8":function(n,t,e){"use strict";n.exports={isString:function(n){return"string"===typeof n},isObject:function(n){return"object"===typeof n&&null!==n},isNull:function(n){return null===n},isNullOrUndefined:function(n){return null==n}}},"365e":function(n,t,e){e("cf08")},"4bdc":function(n,t){(function(){"use strict";var n=function(n){var t=n,e=function(){return t},r=function(n){t=n};return{get:e,set:r}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(n,t){n.fire("VisualBlocks",{state:t})},r=function(n,t,r){var o=n.dom;o.toggleClass(n.getBody(),"mce-visualblocks"),r.set(!r.get()),e(n,r.get())},o=function(n,t,e){n.addCommand("mceVisualBlocks",(function(){r(n,t,e)}))},u=function(n){return n.getParam("visualblocks_default_state",!1,"boolean")},i=function(n,t,e){n.on("PreviewFormats AfterPreviewFormats",(function(t){e.get()&&n.dom.toggleClass(n.getBody(),"mce-visualblocks","afterpreviewformats"===t.type)})),n.on("init",(function(){u(n)&&r(n,t,e)}))},a=function(n,t){return function(e){e.setActive(t.get());var r=function(n){return e.setActive(n.state)};return n.on("VisualBlocks",r),function(){return n.off("VisualBlocks",r)}}},c=function(n,t){var e=function(){return n.execCommand("mceVisualBlocks")};n.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:e,onSetup:a(n,t)}),n.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:e,onSetup:a(n,t)})};function l(){t.add("visualblocks",(function(t,e){var r=n(!1);o(t,e,r),c(t,r),i(t,e,r)}))}l()})()},"4fc2":function(n,t){n.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},"62e5":function(n,t,e){e("2519")},"69a4":function(n,t){(function(){"use strict";var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),e=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(n){return n.getParam("content_style","","string")},o=function(n){return n.getParam("content_css_cors",!1,"boolean")},u=function(n){var t=n.getParam("body_class","","hash");return t[n.id]||""},i=function(n){var t=n.getParam("body_class","","string");return-1===t.indexOf("=")?t:u(n)},a=function(n){var t=n.getParam("body_id","","hash");return t[n.id]||t},c=function(n){var t=n.getParam("body_id","tinymce","string");return-1===t.indexOf("=")?t:a(n)},l=function(n){var u="",a=n.dom.encode,l=r(n);u+='<base href="'+a(n.documentBaseURI.getURI())+'">';var f=o(n)?' crossorigin="anonymous"':"";e.each(n.contentCSS,(function(t){u+='<link type="text/css" rel="stylesheet" href="'+a(n.documentBaseURI.toAbsolute(t))+'"'+f+">"})),l&&(u+='<style type="text/css">'+l+"</style>");var s=c(n),d=i(n),m=t.mac?"e.metaKey":"e.ctrlKey && !e.altKey",p='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+m+")) {e.preventDefault();}}}, false);<\/script> ",g=n.getBody().dir,h=g?' dir="'+a(g)+'"':"",v="<!DOCTYPE html><html><head>"+u+'</head><body id="'+a(s)+'" class="mce-content-body '+a(d)+'"'+h+">"+n.getContent()+p+"</body></html>";return v},f=function(n){var t=l(n),e=n.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:t}});e.focus("close")},s=function(n){n.addCommand("mcePreview",(function(){f(n)}))},d=function(n){var t=function(){return n.execCommand("mcePreview")};n.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:t}),n.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:t})};function m(){n.add("preview",(function(n){s(n),d(n)}))}m()})()},"6fd1":function(n,t){n.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},"7c4f":function(n,t){(function(){"use strict";var n=function(n){var t=n,e=function(){return t},r=function(n){t=n};return{get:e,set:r}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(n){return!!n.hasPlugin("powerpaste",!0)&&("undefined"!==typeof window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0)},r=function(n){return{clipboard:n}},o=function(n){var t=typeof n;return null===n?"null":"object"===t&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":t},u=function(n){return function(t){return o(t)===n}},i=function(n){return function(t){return typeof t===n}},a=u("array"),c=function(n){return null===n||void 0===n},l=function(n){return!c(n)},f=i("function"),s=function(){},d=function(n){return function(){return n}},m=function(n){return n},p=d(!1),g=d(!0),h=function(){return v},v=function(){var n=function(n){return n()},t=m,e={fold:function(n,t){return n()},isSome:p,isNone:g,getOr:t,getOrThunk:n,getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.")},getOrNull:d(null),getOrUndefined:d(void 0),or:t,orThunk:n,map:h,each:s,bind:h,exists:p,forall:g,filter:function(){return h()},toArray:function(){return[]},toString:d("none()")};return e}(),b=function(n){var t=d(n),e=function(){return o},r=function(t){return t(n)},o={fold:function(t,e){return e(n)},isSome:g,isNone:p,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:e,orThunk:e,map:function(t){return b(t(n))},each:function(t){t(n)},bind:r,exists:r,forall:r,filter:function(t){return t(n)?o:v},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return o},y=function(n){return null===n||void 0===n?v:b(n)},w={some:b,none:h,from:y},C=Array.prototype.slice,x=Array.prototype.push,T=function(n,t){for(var e=0,r=n.length;e<r;e++){var o=n[e];if(t(o,e))return!0}return!1},S=function(n,t){for(var e=n.length,r=new Array(e),o=0;o<e;o++){var u=n[o];r[o]=t(u,o)}return r},D=function(n,t){for(var e=0,r=n.length;e<r;e++){var o=n[e];t(o,e)}},A=function(n,t){for(var e=[],r=0,o=n.length;r<o;r++){var u=n[r];t(u,r)&&e.push(u)}return e},R=function(n,t,e){return D(n,(function(n,r){e=t(e,n,r)})),e},O=function(n){for(var t=[],e=0,r=n.length;e<r;++e){if(!a(n[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+n);x.apply(t,n[e])}return t},E=function(n,t){return O(S(n,t))},k=f(Array.from)?Array.from:function(n){return C.call(n)},P=function(){return P=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e],t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},P.apply(this,arguments)},F=function(t){var e=n(w.none()),r=function(){return e.get().each(t)},o=function(){r(),e.set(w.none())},u=function(){return e.get().isSome()},i=function(){return e.get()},a=function(n){r(),e.set(w.some(n))};return{clear:o,isSet:u,get:i,set:a}},_=function(){var n=F(s),t=function(t){return n.get().each(t)};return P(P({},n),{on:t})},B=function(n,t,e){return""===t||n.length>=t.length&&n.substr(e,e+t.length)===t},M=function(n,t){return B(n,t,0)},N=function(n,t){return B(n,t,n.length-t.length)},I=function(n,t){return t<=0?"":new Array(t+1).join(n)},j=tinymce.util.Tools.resolve("tinymce.Env"),L=tinymce.util.Tools.resolve("tinymce.util.Delay"),W=tinymce.util.Tools.resolve("tinymce.util.Promise"),z=tinymce.util.Tools.resolve("tinymce.util.VK"),U=function(n,t,e,r){return n.fire("PastePreProcess",{content:t,internal:e,wordContent:r})},H=function(n,t,e,r){return n.fire("PastePostProcess",{node:t,internal:e,wordContent:r})},V=function(n,t){return n.fire("PastePlainTextToggle",{state:t})},q=function(n,t){return n.fire("paste",{ieFake:t})},K=tinymce.util.Tools.resolve("tinymce.util.Tools"),$=function(n){return n.getParam("paste_block_drop",!1)},X=function(n){return n.getParam("paste_data_images",!1)},G=function(n){return n.getParam("paste_filter_drop",!0)},Y=function(n){return n.getParam("paste_preprocess")},J=function(n){return n.getParam("paste_postprocess")},Z=function(n){return n.getParam("paste_webkit_styles")},Q=function(n){return n.getParam("paste_remove_styles_if_webkit",!0)},nn=function(n){return n.getParam("paste_merge_formats",!0)},tn=function(n){return n.getParam("smart_paste",!0)},en=function(n){return n.getParam("paste_as_text",!1)},rn=function(n){return n.getParam("paste_retain_style_properties")},on=function(n){var t="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return n.getParam("paste_word_valid_elements",t)},un=function(n){return n.getParam("paste_convert_word_fake_lists",!0)},an=function(n){return n.getParam("paste_enable_default_filters",!0)},cn=function(n){return n.getParam("validate")},ln=function(n){return n.getParam("allow_html_data_urls",!1,"boolean")},fn=function(n){return n.getParam("paste_data_images",!1,"boolean")},sn=function(n){return n.getParam("images_dataimg_filter")},dn=function(n){return n.getParam("images_reuse_filename")},mn=function(n){return n.getParam("forced_root_block")},pn=function(n){return n.getParam("forced_root_block_attrs")},gn=function(n){return n.getParam("paste_tab_spaces",4,"number")},hn=function(n){var t="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return K.explode(n.getParam("images_file_types",t,"string"))},vn="x-tinymce/html",bn="\x3c!-- "+vn+" --\x3e",yn=function(n){return bn+n},wn=function(n){return n.replace(bn,"")},Cn=function(n){return-1!==n.indexOf(bn)},xn=d(vn),Tn=Object.hasOwnProperty,Sn=function(n,t){return Tn.call(n,t)},Dn=tinymce.util.Tools.resolve("tinymce.html.Entities"),An=function(n){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(n)},Rn=function(n){return n.replace(/\r?\n/g,"<br>")},On=function(n,t){var e=[],r="<"+n;if("object"===typeof t){for(var o in t)Sn(t,o)&&e.push(o+'="'+Dn.encodeAllRaw(t[o])+'"');e.length&&(r+=" "+e.join(" "))}return r+">"},En=function(n,t,e){var r=n.split(/\n\n/),o=On(t,e),u="</"+t+">",i=K.map(r,(function(n){return n.split(/\n/).join("<br />")})),a=function(n){return o+n+u};return 1===i.length?i[0]:K.map(i,a).join("")},kn=function(n,t,e){return t?En(n,!0===t?"p":t,e):Rn(n)},Pn=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Fn=tinymce.util.Tools.resolve("tinymce.html.Serializer"),_n=" ",Bn=tinymce.util.Tools.resolve("tinymce.html.Node"),Mn=tinymce.util.Tools.resolve("tinymce.html.Schema"),Nn=function(n){return n.constructor===RegExp},In=function(n,t){return K.each(t,(function(t){n=Nn(t)?n.replace(t,""):n.replace(t[0],t[1])})),n},jn=function(n){var t=Mn(),e=Pn({},t),r="",o=t.getShortEndedElements(),u=K.makeMap("script noscript style textarea video audio iframe object"," "),i=t.getBlockElements(),a=function(n){var t=n.name,e=n;if("br"!==t){if("wbr"!==t)if(o[t]&&(r+=" "),u[t])r+=" ";else{if(3===n.type&&(r+=n.value),!n.shortEnded&&(n=n.firstChild))do{a(n)}while(n=n.next);i[t]&&e.next&&(r+="\n","p"===t&&(r+="\n"))}}else r+="\n"};return n=In(n,[/<!\[[^\]]+\]>/g]),a(e.parse(n)),r},Ln=function(n){var t=function(n,t,e){return t||e?_n:" "};return n=In(n,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,t],/<br class="Apple-interchange-newline">/g,/<br>$/i]),n},Wn=function(n){var t=0;return function(){return n+t++}},zn=function(n){var t=n.toLowerCase(),e={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return K.hasOwn(e,t)?"image/"+e[t]:"image/"+t},Un=function(n){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(n)||/class="OutlineElement/.test(n)||/id="?docs\-internal\-guid\-/.test(n)},Hn=function(n){var t=!1,e=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return n=n.replace(/^[\u00a0 ]+/,""),K.each(e,(function(e){if(e.test(n))return t=!0,!1})),t},Vn=function(n){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(n)},qn=function(n){var t,e,r=1,o=function(n){var t="";if(3===n.type)return n.value;if(n=n.firstChild)do{t+=o(n)}while(n=n.next);return t},u=function(n,t){if(3===n.type&&t.test(n.value))return n.value=n.value.replace(t,""),!1;if(n=n.firstChild)do{if(!u(n,t))return!1}while(n=n.next);return!0},i=function(n){if(n._listIgnore)n.remove();else if(n=n.firstChild)do{i(n)}while(n=n.next)},a=function(n,o,a){var c=n._listLevel||r;c!==r&&(c<r?t&&(t=t.parent.parent):(e=t,t=null)),t&&t.name===o?t.append(n):(e=e||t,t=new Bn(o,1),a>1&&t.attr("start",""+a),n.wrap(t)),n.name="li",c>r&&e&&e.lastChild.append(t),r=c,i(n),u(n,/^\u00a0+/),u(n,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),u(n,/^\u00a0+/)},c=[],l=n.firstChild;while("undefined"!==typeof l&&null!==l)if(c.push(l),l=l.walk(),null!==l)while("undefined"!==typeof l&&l.parent!==n)l=l.walk();for(var f=0;f<c.length;f++)if(n=c[f],"p"===n.name&&n.firstChild){var s=o(n);if(Vn(s)){a(n,"ul");continue}if(Hn(s)){var d=/([0-9]+)\./.exec(s),m=1;d&&(m=parseInt(d[1],10)),a(n,"ol",m);continue}if(n._listLevel){a(n,"ul",1);continue}t=null}else e=t,t=null},Kn=function(n,t,e,r){var o={},u=n.dom.parseStyle(r);K.each(u,(function(u,i){switch(i){case"mso-list":var a=/\w+ \w+([0-9]+)/i.exec(r);a&&(e._listLevel=parseInt(a[1],10)),/Ignore/i.test(u)&&e.firstChild&&(e._listIgnore=!0,e.firstChild._listIgnore=!0);break;case"horiz-align":i="text-align";break;case"vert-align":i="vertical-align";break;case"font-color":case"mso-foreground":i="color";break;case"mso-background":case"mso-highlight":i="background";break;case"font-weight":case"font-style":return void("normal"!==u&&(o[i]=u));case"mso-element":if(/^(comment|comment-list)$/i.test(u))return void e.remove();break}0!==i.indexOf("mso-comment")?0!==i.indexOf("mso-")&&("all"===rn(n)||t&&t[i])&&(o[i]=u):e.remove()})),/(bold)/i.test(o["font-weight"])&&(delete o["font-weight"],e.wrap(new Bn("b",1))),/(italic)/i.test(o["font-style"])&&(delete o["font-style"],e.wrap(new Bn("i",1)));var i=n.dom.serializeStyle(o,e.name);return i||null},$n=function(n,t){var e,r=rn(n);r&&(e=K.makeMap(r.split(/[, ]/))),t=In(t,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,_n],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(n,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(_n):""}]]);var o=on(n),u=Mn({valid_elements:o,valid_children:"-li[p]"});K.each(u.elements,(function(n){n.attributes.class||(n.attributes.class={},n.attributesOrder.push("class")),n.attributes.style||(n.attributes.style={},n.attributesOrder.push("style"))}));var i=Pn({},u);i.addAttributeFilter("style",(function(t){var r,o=t.length;while(o--)r=t[o],r.attr("style",Kn(n,e,r,r.attr("style"))),"span"===r.name&&r.parent&&!r.attributes.length&&r.unwrap()})),i.addAttributeFilter("class",(function(n){var t,e,r=n.length;while(r--)t=n[r],e=t.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(e)&&t.remove(),t.attr("class",null)})),i.addNodeFilter("del",(function(n){var t=n.length;while(t--)n[t].remove()})),i.addNodeFilter("a",(function(n){var t,e,r,o=n.length;while(o--)if(t=n[o],e=t.attr("href"),r=t.attr("name"),e&&-1!==e.indexOf("#_msocom_"))t.remove();else if(e&&0===e.indexOf("file://")&&(e=e.split("#")[1],e&&(e="#"+e)),e||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:e,name:r})}else t.unwrap()}));var a=i.parse(t);return un(n)&&qn(a),t=Fn({validate:cn(n)},u).serialize(a),t},Xn=function(n,t){return an(n)?$n(n,t):t},Gn=function(n,t){var e=Pn({},n.schema);e.addNodeFilter("meta",(function(n){K.each(n,(function(n){n.remove()}))}));var r=e.parse(t,{forced_root_block:!1,isRootContent:!0});return Fn({validate:cn(n)},n.schema).serialize(r)},Yn=function(n,t){return{content:n,cancelled:t}},Jn=function(n,t,e,r){var o=n.dom.create("div",{style:"display:none"},t),u=H(n,o,e,r);return Yn(u.node.innerHTML,u.isDefaultPrevented())},Zn=function(n,t,e,r){var o=U(n,t,e,r),u=Gn(n,o.content);return n.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?Jn(n,u,e,r):Yn(u,o.isDefaultPrevented())},Qn=function(n,t,e){var r=Un(t),o=r?Xn(n,t):t;return Zn(n,o,e,r)},nt=function(n,t){return n.insertContent(t,{merge:nn(n),paste:!0}),!0},tt=function(n){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(n)},et=function(n,t){return tt(t)&&T(hn(n),(function(n){return N(t.toLowerCase(),"."+n.toLowerCase())}))},rt=function(n,t,e){return n.undoManager.extra((function(){e(n,t)}),(function(){n.insertContent('<img src="'+t+'">')})),!0},ot=function(n,t,e){return n.undoManager.extra((function(){e(n,t)}),(function(){n.execCommand("mceInsertLink",!1,t)})),!0},ut=function(n,t,e){return!(!1!==n.selection.isCollapsed()||!tt(t))&&ot(n,t,e)},it=function(n,t,e){return!!et(n,t)&&rt(n,t,e)},at=function(n,t){K.each([ut,it,nt],(function(e){return!0!==e(n,t,nt)}))},ct=function(n,t,e){e||!1===tn(n)?nt(n,t):at(n,t)},lt=function(n){return-1!==" \f\t\v".indexOf(n)},ft=function(n){return"\n"===n||"\r"===n},st=function(n,t){return t<n.length&&t>=0&&ft(n[t])},dt=function(n,t){var e=I(" ",gn(n)),r=t.replace(/\t/g,e),o=R(r,(function(n,t){return lt(t)||t===_n?n.pcIsSpace||""===n.str||n.str.length===r.length-1||st(r,n.str.length+1)?{pcIsSpace:!1,str:n.str+_n}:{pcIsSpace:!0,str:n.str+" "}:{pcIsSpace:ft(t),str:n.str+t}}),{pcIsSpace:!1,str:""});return o.str},mt=function(n,t,e,r){var o=Qn(n,t,e);!1===o.cancelled&&ct(n,o.content,r)},pt=function(n,t,e){var r=e||Cn(t);mt(n,wn(t),r,!1)},gt=function(n,t){var e=n.dom.encode(t).replace(/\r\n/g,"\n"),r=dt(n,e),o=kn(r,mn(n),pn(n));mt(n,o,!1,!0)},ht=function(n){var t={},e="data:text/mce-internal,";if(n){if(n.getData){var r=n.getData("Text");r&&r.length>0&&-1===r.indexOf(e)&&(t["text/plain"]=r)}if(n.types)for(var o=0;o<n.types.length;o++){var u=n.types[o];try{t[u]=n.getData(u)}catch(i){t[u]=""}}}return t},vt=function(n,t){return ht(t.clipboardData||n.getDoc().dataTransfer)},bt=function(n,t){return t in n&&n[t].length>0},yt=function(n){return bt(n,"text/html")||bt(n,"text/plain")},wt=function(n){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(n);return t?{type:t[1],data:decodeURIComponent(t[2])}:{type:null,data:null}},Ct=function(n,t){var e=sn(n);return!e||e(t)},xt=function(n,t){var e=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return l(e)?n.dom.encode(e[1]):null},Tt=Wn("mceclip"),St=function(n,t){var e=wt(t.uri),r=e.data,o=e.type,u=Tt(),i=t.blob,a=new Image;if(a.src=t.uri,Ct(n,a)){var c=n.editorUpload.blobCache,f=void 0,s=c.getByData(r,o);if(s)f=s;else{var d=dn(n)&&l(i.name),m=d?xt(n,i.name):u,p=d?i.name:void 0;f=c.create(u,i,r,m,p),c.add(f)}pt(n,'<img src="'+f.blobUri()+'">',!1)}else pt(n,'<img src="'+t.uri+'">',!1)},Dt=function(n){return"paste"===n.type},At=function(n){return l(n.getAsFile)},Rt=function(n){return W.all(S(n,(function(n){return new W((function(t){var e=At(n)?n.getAsFile():n,r=new window.FileReader;r.onload=function(){t({blob:e,uri:r.result})},r.readAsDataURL(e)}))})))},Ot=function(n){var t=hn(n);return function(n){return M(n.type,"image/")&&T(t,(function(t){return zn(t)===n.type}))}},Et=function(n,t){var e=t.items?E(k(t.items),(function(n){return"file"===n.kind?[n.getAsFile()]:[]})):[],r=t.files?k(t.files):[];return A(e.length>0?e:r,Ot(n))},kt=function(n,t,e){var r=Dt(t)?t.clipboardData:t.dataTransfer;if(fn(n)&&r){var o=Et(n,r);if(o.length>0)return t.preventDefault(),Rt(o).then((function(t){e&&n.selection.setRng(e),D(t,(function(t){St(n,t)}))})),!0}return!1},Pt=function(n){var t=n.clipboardData;return-1!==navigator.userAgent.indexOf("Android")&&t&&t.items&&0===t.items.length},Ft=function(n){return z.metaKeyPressed(n)&&86===n.keyCode||n.shiftKey&&45===n.keyCode},_t=function(n,t,e){var r,o=_(),u=_();n.on("keyup",u.clear),n.on("keydown",(function(e){var i=function(n){Ft(n)&&!n.isDefaultPrevented()&&t.remove()};if(Ft(e)&&!e.isDefaultPrevented()){if(r=e.shiftKey&&86===e.keyCode,r&&j.webkit&&-1!==navigator.userAgent.indexOf("Version/"))return;if(e.stopImmediatePropagation(),o.set(e),u.set(!0),j.ie&&r)return e.preventDefault(),void q(n,!0);t.remove(),t.create(),n.once("keyup",i),n.once("paste",(function(){n.off("keyup",i)}))}}));var i=function(n,e,r,o,u){var i;bt(e,"text/html")?i=e["text/html"]:(i=t.getHtml(),u=u||Cn(i),t.isDefaultContent(i)&&(o=!0)),i=Ln(i),t.remove();var a=!1===u&&An(i),c=tt(i);(!i.length||a&&!c)&&(o=!0),(o||c)&&(i=bt(e,"text/plain")&&a?e["text/plain"]:jn(i)),t.isDefaultContent(i)?r||n.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):o?gt(n,i):pt(n,i,u)},a=function(){return t.getLastRng()||n.selection.getRng()};n.on("paste",(function(c){var l=o.isSet()||u.isSet();l&&o.clear();var f=vt(n,c),s="text"===e.get()||r,d=bt(f,xn());r=!1,c.isDefaultPrevented()||Pt(c)?t.remove():yt(f)||!kt(n,c,a())?(l||c.preventDefault(),!j.ie||l&&!c.ieFake||bt(f,"text/html")||(t.create(),n.dom.bind(t.getEl(),"paste",(function(n){n.stopPropagation()})),n.getDoc().execCommand("Paste",!1,null),f["text/html"]=t.getHtml()),bt(f,"text/html")?(c.preventDefault(),d||(d=Cn(f["text/html"])),i(n,f,l,s,d)):L.setEditorTimeout(n,(function(){i(n,f,l,s,d)}),0)):t.remove()}))},Bt=function(n,t,e){var r;_t(n,t,e),n.parser.addNodeFilter("img",(function(t,e,o){var u=function(n){return n.data&&!0===n.data.paste},i=function(n){n.attr("data-mce-object")||r===j.transparentSrc||n.remove()},a=function(n){return 0===n.indexOf("webkit-fake-url")},c=function(n){return 0===n.indexOf("data:")};if(!fn(n)&&u(o)){var l=t.length;while(l--)r=t[l].attr("src"),r&&(a(r)||!ln(n)&&c(r))&&i(t[l])}}))},Mt=function(n){return j.ie&&n.inline?document.body:n.getBody()},Nt=function(n){return Mt(n)!==n.getBody()},It=function(n,t,e){Nt(n)&&n.dom.bind(t,"paste keyup",(function(t){Vt(n,e)||n.fire("paste")}))},jt=function(n,t,e){var r=n.dom,o=n.getBody();t.set(n.selection.getRng());var u=n.dom.add(Mt(n),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},e);(j.ie||j.gecko)&&r.setStyle(u,"left","rtl"===r.getStyle(o,"direction",!0)?65535:-65535),r.bind(u,"beforedeactivate focusin focusout",(function(n){n.stopPropagation()})),It(n,u,e),u.focus(),n.selection.select(u,!0)},Lt=function(n,t){if(Wt(n)){var e=void 0,r=t.get();while(e=n.dom.get("mcepastebin"))n.dom.remove(e),n.dom.unbind(e);r&&n.selection.setRng(r)}t.set(null)},Wt=function(n){return n.dom.get("mcepastebin")},zt=function(n){var t=function(t,e){t.appendChild(e),n.dom.remove(e,!0)},e=K.grep(Mt(n).childNodes,(function(n){return"mcepastebin"===n.id})),r=e.shift();K.each(e,(function(n){t(r,n)}));for(var o=n.dom.select("div[id=mcepastebin]",r),u=o.length-1;u>=0;u--){var i=n.dom.create("div");r.insertBefore(i,o[u]),t(i,o[u])}return r?r.innerHTML:""},Ut=function(n,t){return t===n},Ht=function(n){return n&&"mcepastebin"===n.id},Vt=function(n,t){var e=Wt(n);return Ht(e)&&Ut(t,e.innerHTML)},qt=function(t){var e=n(null),r="%MCEPASTEBIN%";return{create:function(){return jt(t,e,r)},remove:function(){return Lt(t,e)},getEl:function(){return Wt(t)},getHtml:function(){return zt(t)},getLastRng:e.get,isDefault:function(){return Vt(t,r)},isDefaultContent:function(n){return Ut(r,n)}}},Kt=function(n,t){var e=qt(n);return n.on("PreInit",(function(){return Bt(n,e,t)})),{pasteFormat:t,pasteHtml:function(t,e){return pt(n,t,e)},pasteText:function(t){return gt(n,t)},pasteImageData:function(t,e){return kt(n,t,e)},getDataTransferItems:ht,hasHtmlOrText:yt,hasContentType:bt}},$t=function(n,t){"text"===t.pasteFormat.get()?(t.pasteFormat.set("html"),V(n,!1)):(t.pasteFormat.set("text"),V(n,!0)),n.focus()},Xt=function(n,t){n.addCommand("mceTogglePlainTextPaste",(function(){$t(n,t)})),n.addCommand("mceInsertClipboardContent",(function(n,e){e.content&&t.pasteHtml(e.content,e.internal),e.text&&t.pasteText(e.text)}))},Gt=function(n){return!1===j.iOS&&"function"===typeof(null===n||void 0===n?void 0:n.setData)},Yt=function(n,t,e){if(!Gt(n))return!1;try{return n.clearData(),n.setData("text/html",t),n.setData("text/plain",e),n.setData(xn(),t),!0}catch(r){return!1}},Jt=function(n,t,e,r){Yt(n.clipboardData,t.html,t.text)?(n.preventDefault(),r()):e(t.html,r)},Zt=function(n){return function(t,e){var r=yn(t),o=n.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),u=n.dom.create("div",{contenteditable:"true"},r);n.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),o.appendChild(u),n.dom.add(n.getBody(),o);var i=n.selection.getRng();u.focus();var a=n.dom.createRng();a.selectNodeContents(u),n.selection.setRng(a),L.setTimeout((function(){n.selection.setRng(i),o.parentNode.removeChild(o),e()}),0)}},Qt=function(n){return{html:n.selection.getContent({contextual:!0}),text:n.selection.getContent({format:"text"})}},ne=function(n){return!!n.dom.getParent(n.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",n.getBody())},te=function(n){return!n.selection.isCollapsed()||ne(n)},ee=function(n){return function(t){te(n)&&Jt(t,Qt(n),Zt(n),(function(){if(j.browser.isChrome()||j.browser.isFirefox()){var t=n.selection.getRng();L.setEditorTimeout(n,(function(){n.selection.setRng(t),n.execCommand("Delete")}),0)}else n.execCommand("Delete")}))}},re=function(n){return function(t){te(n)&&Jt(t,Qt(n),Zt(n),s)}},oe=function(n){n.on("cut",ee(n)),n.on("copy",re(n))},ue=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ie=function(n,t){return ue.getCaretRangeFromPoint(t.clientX,t.clientY,n.getDoc())},ae=function(n){var t=n["text/plain"];return!!t&&0===t.indexOf("file://")},ce=function(n,t){n.focus(),n.selection.setRng(t)},le=function(n,t,e){$(n)&&n.on("dragend dragover draggesture dragdrop drop drag",(function(n){n.preventDefault(),n.stopPropagation()})),X(n)||n.on("drop",(function(n){var t=n.dataTransfer;t&&t.files&&t.files.length>0&&n.preventDefault()})),n.on("drop",(function(r){var o=ie(n,r);if(!r.isDefaultPrevented()&&!e.get()){var u=t.getDataTransferItems(r.dataTransfer),i=t.hasContentType(u,xn());if((t.hasHtmlOrText(u)&&!ae(u)||!t.pasteImageData(r,o))&&o&&G(n)){var a=u["mce-internal"]||u["text/html"]||u["text/plain"];a&&(r.preventDefault(),L.setEditorTimeout(n,(function(){n.undoManager.transact((function(){u["mce-internal"]&&n.execCommand("Delete"),ce(n,o),a=Ln(a),u["text/html"]?t.pasteHtml(a,i):t.pasteText(a)}))})))}}})),n.on("dragstart",(function(n){e.set(!0)})),n.on("dragover dragend",(function(t){X(n)&&!1===e.get()&&(t.preventDefault(),ce(n,ie(n,t))),"dragend"===t.type&&e.set(!1)}))},fe=function(n){var t=n.plugins.paste,e=Y(n);e&&n.on("PastePreProcess",(function(n){e.call(t,t,n)}));var r=J(n);r&&n.on("PastePostProcess",(function(n){r.call(t,t,n)}))},se=function(n,t){n.on("PastePreProcess",(function(e){e.content=t(n,e.content,e.internal,e.wordContent)}))},de=function(n,t){n.on("PastePostProcess",(function(e){t(n,e.node)}))},me=function(n,t){if(!Un(t))return t;var e=[];K.each(n.schema.getBlockElements(),(function(n,t){e.push(t)}));var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+e.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return t=In(t,[[r,"$1"]]),t=In(t,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]),t},pe=function(n,t,e,r){if(r||e)return t;var o,u=Z(n);if(!1===Q(n)||"all"===u)return t;if(u&&(o=u.split(/[, ]/)),o){var i=n.dom,a=n.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(n,t,e,r){var u=i.parseStyle(i.decode(e)),c={};if("none"===o)return t+r;for(var l=0;l<o.length;l++){var f=u[o[l]],s=i.getStyle(a,o[l],!0);/color/.test(o[l])&&(f=i.toHex(f),s=i.toHex(s)),s!==f&&(c[o[l]]=f)}var d=i.serializeStyle(c,"span");return d?t+' style="'+d+'"'+r:t+r}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(n,t,e,r){return t+' style="'+e+'"'+r})),t},ge=function(n,t){n.$("a",t).find("font,u").each((function(t,e){n.dom.remove(e,!0)}))},he=function(n){j.webkit&&se(n,pe),j.ie&&(se(n,me),de(n,ge))},ve=function(n,t){return function(e){e.setActive("text"===t.pasteFormat.get());var r=function(n){return e.setActive(n.state)};return n.on("PastePlainTextToggle",r),function(){return n.off("PastePlainTextToggle",r)}}},be=function(n,t){var e=function(){return n.execCommand("mceTogglePlainTextPaste")};n.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:e,onSetup:ve(n,t)}),n.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:e,onSetup:ve(n,t)})};function ye(){t.add("paste",(function(t){if(!1===e(t)){var o=n(!1),u=n(en(t)?"text":"html"),i=Kt(t,u);return he(t),be(t,i),Xt(t,i),fe(t),oe(t),le(t,i,o),r(i)}}))}ye()})()},"7ca0":function(n,t){n.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},"840a":function(n,t,e){e("d4c3")},9434:function(n,t,e){e("e8b0")},"94ce":function(n,t){(function(){"use strict";var n=function(n){var t=typeof n;return null===n?"null":"object"===t&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":t},t=function(t){return function(e){return n(e)===t}},e=function(n){return function(t){return typeof t===n}},r=function(n){return function(t){return n===t}},o=t("string"),u=t("object"),i=t("array"),a=r(null),c=e("boolean"),l=r(void 0),f=function(n){return null===n||void 0===n},s=function(n){return!f(n)},d=e("function"),m=e("number"),p=function(){},g=function(n,t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return n(t.apply(null,e))}},h=function(n,t){return function(e){return n(t(e))}},v=function(n){return function(){return n}},b=function(n){return n},y=function(n,t){return n===t};function w(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=t.concat(e);return n.apply(null,o)}}var C=function(n){return function(t){return!n(t)}},x=function(n){return function(){throw new Error(n)}},T=v(!1),S=v(!0),D=function(){return A},A=function(){var n=function(n){return n()},t=b,e={fold:function(n,t){return n()},isSome:T,isNone:S,getOr:t,getOrThunk:n,getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.")},getOrNull:v(null),getOrUndefined:v(void 0),or:t,orThunk:n,map:D,each:p,bind:D,exists:T,forall:S,filter:function(){return D()},toArray:function(){return[]},toString:v("none()")};return e}(),R=function(n){var t=v(n),e=function(){return o},r=function(t){return t(n)},o={fold:function(t,e){return e(n)},isSome:S,isNone:T,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:e,orThunk:e,map:function(t){return R(t(n))},each:function(t){t(n)},bind:r,exists:r,forall:r,filter:function(t){return t(n)?o:A},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return o},O=function(n){return null===n||void 0===n?A:R(n)},E={some:R,none:D,from:O},k=Array.prototype.slice,P=Array.prototype.indexOf,F=Array.prototype.push,_=function(n,t){return P.call(n,t)},B=function(n,t){return _(n,t)>-1},M=function(n,t){for(var e=0,r=n.length;e<r;e++){var o=n[e];if(t(o,e))return!0}return!1},N=function(n,t){for(var e=[],r=0;r<n;r++)e.push(t(r));return e},I=function(n,t){for(var e=n.length,r=new Array(e),o=0;o<e;o++){var u=n[o];r[o]=t(u,o)}return r},j=function(n,t){for(var e=0,r=n.length;e<r;e++){var o=n[e];t(o,e)}},L=function(n,t){for(var e=n.length-1;e>=0;e--){var r=n[e];t(r,e)}},W=function(n,t){for(var e=[],r=[],o=0,u=n.length;o<u;o++){var i=n[o],a=t(i,o)?e:r;a.push(i)}return{pass:e,fail:r}},z=function(n,t){for(var e=[],r=0,o=n.length;r<o;r++){var u=n[r];t(u,r)&&e.push(u)}return e},U=function(n,t,e){return L(n,(function(n,r){e=t(e,n,r)})),e},H=function(n,t,e){return j(n,(function(n,r){e=t(e,n,r)})),e},V=function(n,t,e){for(var r=0,o=n.length;r<o;r++){var u=n[r];if(t(u,r))return E.some(u);if(e(u,r))break}return E.none()},q=function(n,t){return V(n,t,T)},K=function(n,t){for(var e=0,r=n.length;e<r;e++){var o=n[e];if(t(o,e))return E.some(e)}return E.none()},$=function(n){for(var t=[],e=0,r=n.length;e<r;++e){if(!i(n[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+n);F.apply(t,n[e])}return t},X=function(n,t){return $(I(n,t))},G=function(n,t){for(var e=0,r=n.length;e<r;++e){var o=n[e];if(!0!==t(o,e))return!1}return!0},Y=function(n){var t=k.call(n,0);return t.reverse(),t},J=function(n,t){for(var e={},r=0,o=n.length;r<o;r++){var u=n[r];e[String(u)]=t(u,r)}return e},Z=function(n){return[n]},Q=function(n,t){var e=k.call(n,0);return e.sort(t),e},nn=function(n,t){return t>=0&&t<n.length?E.some(n[t]):E.none()},tn=function(n){return nn(n,0)},en=function(n){return nn(n,n.length-1)},rn=function(n,t){for(var e=0;e<n.length;e++){var r=t(n[e],e);if(r.isSome())return r}return E.none()},on=function(){return on=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e],t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},on.apply(this,arguments)};function un(n,t,e){if(e||2===arguments.length)for(var r,o=0,u=t.length;o<u;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return n.concat(r||Array.prototype.slice.call(t))}var an=function(n){var t,e=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e||(e=!0,t=n.apply(null,r)),t}},cn=function(n,t,e,r){var o=n.isiOS()&&!0===/ipad/i.test(e),u=n.isiOS()&&!o,i=n.isiOS()||n.isAndroid(),a=i||r("(pointer:coarse)"),c=o||!u&&i&&r("(min-device-width:768px)"),l=u||i&&!c,f=t.isSafari()&&n.isiOS()&&!1===/safari/i.test(e),s=!l&&!c&&!f;return{isiPad:v(o),isiPhone:v(u),isTablet:v(c),isPhone:v(l),isTouch:v(a),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:v(f),isDesktop:v(s)}},ln=function(n,t){for(var e=0;e<n.length;e++){var r=n[e];if(r.test(t))return r}},fn=function(n,t){var e=ln(n,t);if(!e)return{major:0,minor:0};var r=function(n){return Number(t.replace(e,"$"+n))};return mn(r(1),r(2))},sn=function(n,t){var e=String(t).toLowerCase();return 0===n.length?dn():fn(n,e)},dn=function(){return mn(0,0)},mn=function(n,t){return{major:n,minor:t}},pn={nu:mn,detect:sn,unknown:dn},gn=function(n,t){return rn(t.brands,(function(t){var e=t.brand.toLowerCase();return q(n,(function(n){var t;return e===(null===(t=n.brand)||void 0===t?void 0:t.toLowerCase())})).map((function(n){return{current:n.name,version:pn.nu(parseInt(t.version,10),0)}}))}))},hn=function(n,t){var e=String(t).toLowerCase();return q(n,(function(n){return n.search(e)}))},vn=function(n,t){return hn(n,t).map((function(n){var e=pn.detect(n.versionRegexes,t);return{current:n.name,version:e}}))},bn=function(n,t){return hn(n,t).map((function(n){var e=pn.detect(n.versionRegexes,t);return{current:n.name,version:e}}))},yn=function(n,t){return n.substring(t)},wn=function(n,t,e){return""===t||n.length>=t.length&&n.substr(e,e+t.length)===t},Cn=function(n,t){return Tn(n,t)?yn(n,t.length):n},xn=function(n,t){return-1!==n.indexOf(t)},Tn=function(n,t){return wn(n,t,0)},Sn=function(n,t){return wn(n,t,n.length-t.length)},Dn=function(n){return function(t){return t.replace(n,"")}},An=Dn(/^\s+|\s+$/g),Rn=function(n){return n.length>0},On=function(n){return!Rn(n)},En=function(n){var t=parseFloat(n);return isNaN(t)?E.none():E.some(t)},kn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Pn=function(n){return function(t){return xn(t,n)}},Fn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(n){return xn(n,"edge/")&&xn(n,"chrome")&&xn(n,"safari")&&xn(n,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,kn],search:function(n){return xn(n,"chrome")&&!xn(n,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(n){return xn(n,"msie")||xn(n,"trident")}},{name:"Opera",versionRegexes:[kn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Pn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Pn("firefox")},{name:"Safari",versionRegexes:[kn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(n){return(xn(n,"safari")||xn(n,"mobile/"))&&xn(n,"applewebkit")}}],_n=[{name:"Windows",search:Pn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(n){return xn(n,"iphone")||xn(n,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Pn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Pn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Pn("linux"),versionRegexes:[]},{name:"Solaris",search:Pn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Pn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Pn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Bn={browsers:v(Fn),oses:v(_n)},Mn="Edge",Nn="Chrome",In="IE",jn="Opera",Ln="Firefox",Wn="Safari",zn=function(){return Un({current:void 0,version:pn.unknown()})},Un=function(n){var t=n.current,e=n.version,r=function(n){return function(){return t===n}};return{current:t,version:e,isEdge:r(Mn),isChrome:r(Nn),isIE:r(In),isOpera:r(jn),isFirefox:r(Ln),isSafari:r(Wn)}},Hn={unknown:zn,nu:Un,edge:v(Mn),chrome:v(Nn),ie:v(In),opera:v(jn),firefox:v(Ln),safari:v(Wn)},Vn="Windows",qn="iOS",Kn="Android",$n="Linux",Xn="OSX",Gn="Solaris",Yn="FreeBSD",Jn="ChromeOS",Zn=function(){return Qn({current:void 0,version:pn.unknown()})},Qn=function(n){var t=n.current,e=n.version,r=function(n){return function(){return t===n}};return{current:t,version:e,isWindows:r(Vn),isiOS:r(qn),isAndroid:r(Kn),isOSX:r(Xn),isLinux:r($n),isSolaris:r(Gn),isFreeBSD:r(Yn),isChromeOS:r(Jn)}},nt={unknown:Zn,nu:Qn,windows:v(Vn),ios:v(qn),android:v(Kn),linux:v($n),osx:v(Xn),solaris:v(Gn),freebsd:v(Yn),chromeos:v(Jn)},tt=function(n,t,e){var r=Bn.browsers(),o=Bn.oses(),u=t.bind((function(n){return gn(r,n)})).orThunk((function(){return vn(r,n)})).fold(Hn.unknown,Hn.nu),i=bn(o,n).fold(nt.unknown,nt.nu),a=cn(i,u,n,e);return{browser:u,os:i,deviceType:a}},et={detect:tt},rt=function(n){return window.matchMedia(n).matches},ot=an((function(){return et.detect(navigator.userAgent,E.from(navigator.userAgentData),rt)})),ut=function(){return ot()},it=function(n,t,e){return 0!==(n.compareDocumentPosition(t)&e)},at=function(n,t){return it(n,t,Node.DOCUMENT_POSITION_CONTAINED_BY)},ct=8,lt=9,ft=11,st=1,dt=3,mt=function(n,t){var e=t||document,r=e.createElement("div");if(r.innerHTML=n,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",n),new Error("HTML must have a single root node");return ht(r.childNodes[0])},pt=function(n,t){var e=t||document,r=e.createElement(n);return ht(r)},gt=function(n,t){var e=t||document,r=e.createTextNode(n);return ht(r)},ht=function(n){if(null===n||void 0===n)throw new Error("Node cannot be null or undefined");return{dom:n}},vt=function(n,t,e){return E.from(n.dom.elementFromPoint(t,e)).map(ht)},bt={fromHtml:mt,fromTag:pt,fromText:gt,fromDom:ht,fromPoint:vt},yt=function(n,t){var e=n.dom;if(e.nodeType!==st)return!1;var r=e;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},wt=function(n){return n.nodeType!==st&&n.nodeType!==lt&&n.nodeType!==ft||0===n.childElementCount},Ct=function(n,t){var e=void 0===t?document:t.dom;return wt(e)?[]:I(e.querySelectorAll(n),bt.fromDom)},xt=function(n,t){var e=void 0===t?document:t.dom;return wt(e)?E.none():E.from(e.querySelector(n)).map(bt.fromDom)},Tt=function(n,t){return n.dom===t.dom},St=function(n,t){var e=n.dom,r=t.dom;return e!==r&&e.contains(r)},Dt=function(n,t){return at(n.dom,t.dom)},At=function(n,t){return ut().browser.isIE()?Dt(n,t):St(n,t)},Rt=yt,Ot=Object.keys,Et=Object.hasOwnProperty,kt=function(n,t){for(var e=Ot(n),r=0,o=e.length;r<o;r++){var u=e[r],i=n[u];t(i,u)}},Pt=function(n,t){return Ft(n,(function(n,e){return{k:e,v:t(n,e)}}))},Ft=function(n,t){var e={};return kt(n,(function(n,r){var o=t(n,r);e[o.k]=o.v})),e},_t=function(n){return function(t,e){n[e]=t}},Bt=function(n,t,e,r){var o={};return kt(n,(function(n,o){(t(n,o)?e:r)(n,o)})),o},Mt=function(n,t){var e={};return Bt(n,t,_t(e),p),e},Nt=function(n,t){var e=[];return kt(n,(function(n,r){e.push(t(n,r))})),e},It=function(n){return Nt(n,b)},jt=function(n){return Ot(n).length},Lt=function(n,t){return Wt(n,t)?E.from(n[t]):E.none()},Wt=function(n,t){return Et.call(n,t)},zt=function(n,t){return Wt(n,t)&&void 0!==n[t]&&null!==n[t]},Ut=function(n){for(var t in n)if(Et.call(n,t))return!1;return!0},Ht=["tfoot","thead","tbody","colgroup"],Vt=function(n){return B(Ht,n)},qt=function(n,t){return{rows:n,columns:t}},Kt=function(n,t){return{row:n,column:t}},$t=function(n,t,e){return{element:n,rowspan:t,colspan:e}},Xt=function(n,t,e,r){return{element:n,rowspan:t,colspan:e,isNew:r}},Gt=function(n,t,e,r,o,u){return{element:n,rowspan:t,colspan:e,row:r,column:o,isLocked:u}},Yt=function(n,t,e){return{element:n,cells:t,section:e}},Jt=function(n,t,e,r){return{element:n,cells:t,section:e,isNew:r}},Zt=function(n,t,e){return{element:n,isNew:t,isLocked:e}},Qt=function(n,t,e,r){return{element:n,cells:t,section:e,isNew:r}},ne=function(n,t,e,r){return{startRow:n,startCol:t,finishRow:e,finishCol:r}},te=function(n,t,e){return{element:n,colspan:t,column:e}},ee=function(n,t){return{element:n,columns:t}};"undefined"!==typeof window?window:Function("return this;")();var re=function(n){var t=n.dom.nodeName;return t.toLowerCase()},oe=function(n){return n.dom.nodeType},ue=function(n){return function(t){return oe(t)===n}},ie=function(n){return oe(n)===ct||"#comment"===re(n)},ae=ue(st),ce=ue(dt),le=ue(lt),fe=ue(ft),se=function(n){return function(t){return ae(t)&&re(t)===n}},de=function(n){return bt.fromDom(n.dom.ownerDocument)},me=function(n){return le(n)?n:de(n)},pe=function(n){return bt.fromDom(me(n).dom.defaultView)},ge=function(n){return E.from(n.dom.parentNode).map(bt.fromDom)},he=function(n){return E.from(n.dom.parentElement).map(bt.fromDom)},ve=function(n,t){var e=d(t)?t:T,r=n.dom,o=[];while(null!==r.parentNode&&void 0!==r.parentNode){var u=r.parentNode,i=bt.fromDom(u);if(o.push(i),!0===e(i))break;r=u}return o},be=function(n){return E.from(n.dom.previousSibling).map(bt.fromDom)},ye=function(n){return E.from(n.dom.nextSibling).map(bt.fromDom)},we=function(n){return I(n.dom.childNodes,bt.fromDom)},Ce=function(n,t){var e=n.dom.childNodes;return E.from(e[t]).map(bt.fromDom)},xe=function(n){return Ce(n,0)},Te=function(n){return fe(n)&&s(n.dom.host)},Se=d(Element.prototype.attachShadow)&&d(Node.prototype.getRootNode),De=v(Se),Ae=Se?function(n){return bt.fromDom(n.dom.getRootNode())}:me,Re=function(n){var t=Ae(n);return Te(t)?E.some(t):E.none()},Oe=function(n){return bt.fromDom(n.dom.host)},Ee=function(n){if(De()&&s(n.target)){var t=bt.fromDom(n.target);if(ae(t)&&ke(t)&&n.composed&&n.composedPath){var e=n.composedPath();if(e)return tn(e)}}return E.from(n.target)},ke=function(n){return s(n.dom.shadowRoot)},Pe=function(n){var t=ce(n)?n.dom.parentNode:n.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;var e=t.ownerDocument;return Re(bt.fromDom(t)).fold((function(){return e.body.contains(t)}),h(Pe,Oe))},Fe=function(){return _e(bt.fromDom(document))},_e=function(n){var t=n.dom.body;if(null===t||void 0===t)throw new Error("Body is not available yet");return bt.fromDom(t)},Be=function(n,t,e){return z(ve(n,e),t)},Me=function(n,t){return z(we(n),t)},Ne=function(n,t){var e=[];return j(we(n),(function(n){t(n)&&(e=e.concat([n])),e=e.concat(Ne(n,t))})),e},Ie=function(n,t,e){return Be(n,(function(n){return yt(n,t)}),e)},je=function(n,t){return Me(n,(function(n){return yt(n,t)}))},Le=function(n,t){return Ct(t,n)};function We(n,t,e,r,o){return n(e,r)?E.some(e):d(o)&&o(e)?E.none():t(e,r,o)}var ze=function(n,t,e){var r=n.dom,o=d(e)?e:T;while(r.parentNode){r=r.parentNode;var u=bt.fromDom(r);if(t(u))return E.some(u);if(o(u))break}return E.none()},Ue=function(n,t,e){var r=function(n,t){return t(n)};return We(r,ze,n,t,e)},He=function(n,t){var e=function(n){return t(bt.fromDom(n))},r=q(n.dom.childNodes,e);return r.map(bt.fromDom)},Ve=function(n,t){var e=function(n){for(var r=0;r<n.childNodes.length;r++){var o=bt.fromDom(n.childNodes[r]);if(t(o))return E.some(o);var u=e(n.childNodes[r]);if(u.isSome())return u}return E.none()};return e(n.dom)},qe=function(n,t,e){return ze(n,(function(n){return yt(n,t)}),e)},Ke=function(n,t){return He(n,(function(n){return yt(n,t)}))},$e=function(n,t){return xt(t,n)},Xe=function(n,t,e){var r=function(n,t){return yt(n,t)};return We(r,qe,n,t,e)},Ge=function(n,t,e){if(!(o(e)||c(e)||m(e)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",e,":: Element ",n),new Error("Attribute value was not simple");n.setAttribute(t,e+"")},Ye=function(n,t,e){Ge(n.dom,t,e)},Je=function(n,t){var e=n.dom;kt(t,(function(n,t){Ge(e,t,n)}))},Ze=function(n,t){kt(t,(function(t,e){t.fold((function(){tr(n,e)}),(function(t){Ge(n.dom,e,t)}))}))},Qe=function(n,t){var e=n.dom.getAttribute(t);return null===e?void 0:e},nr=function(n,t){return E.from(Qe(n,t))},tr=function(n,t){n.dom.removeAttribute(t)},er=function(n){return H(n.dom.attributes,(function(n,t){return n[t.name]=t.value,n}),{})},rr=function(n,t,e){return void 0===e&&(e=y),n.exists((function(n){return e(n,t)}))},or=function(n){for(var t=[],e=function(n){t.push(n)},r=0;r<n.length;r++)n[r].each(e);return t},ur=function(n,t,e){return n.isSome()&&t.isSome()?E.some(e(n.getOrDie(),t.getOrDie())):E.none()},ir=function(n,t){return void 0!==n&&null!==n?t(n):E.none()},ar=function(n){return n.bind(b)},cr=function(n,t){return n?E.some(t):E.none()},lr=function(n){return void 0!==n.style&&d(n.style.getPropertyValue)},fr=function(n,t,e){if(!o(e))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",e,":: Element ",n),new Error("CSS value must be a string: "+e);lr(n)&&n.style.setProperty(t,e)},sr=function(n,t){lr(n)&&n.style.removeProperty(t)},dr=function(n,t,e){var r=n.dom;fr(r,t,e)},mr=function(n,t){var e=n.dom;kt(t,(function(n,t){fr(e,t,n)}))},pr=function(n,t){var e=n.dom,r=window.getComputedStyle(e),o=r.getPropertyValue(t);return""!==o||Pe(n)?o:gr(e,t)},gr=function(n,t){return lr(n)?n.style.getPropertyValue(t):""},hr=function(n,t){var e=n.dom,r=gr(e,t);return E.from(r).filter((function(n){return n.length>0}))},vr=function(n,t){var e=n.dom;sr(e,t),rr(nr(n,"style").map(An),"")&&tr(n,"style")},br=function(n,t){var e=n.dom,r=t.dom;lr(e)&&lr(r)&&(r.style.cssText=e.style.cssText)},yr=function(n,t,e){return void 0===e&&(e=0),nr(n,t).map((function(n){return parseInt(n,10)})).getOr(e)},wr=function(n,t){return yr(n,t,1)},Cr=function(n){return se("col")(n)?yr(n,"span",1)>1:wr(n,"colspan")>1},xr=function(n){return wr(n,"rowspan")>1},Tr=function(n,t){return parseInt(pr(n,t),10)},Sr=v(10),Dr=v(10),Ar=function(n,t){return Rr(n,t,S)},Rr=function(n,t,e){return X(we(n),(function(n){return yt(n,t)?e(n)?[n]:[]:Rr(n,t,e)}))},Or=function(n,t,e){if(void 0===e&&(e=T),e(t))return E.none();if(B(n,re(t)))return E.some(t);var r=function(n){return yt(n,"table")||e(n)};return qe(t,n.join(","),r)},Er=function(n,t){return Or(["td","th"],n,t)},kr=function(n){return Ar(n,"th,td")},Pr=function(n){return yt(n,"colgroup")?je(n,"col"):X(Br(n),(function(n){return je(n,"col")}))},Fr=function(n,t){return Xe(n,"table",t)},_r=function(n){return Ar(n,"tr")},Br=function(n){return Fr(n).fold(v([]),(function(n){return je(n,"colgroup")}))},Mr=function(n,t){return I(n,(function(n){if("colgroup"===re(n)){var e=I(Pr(n),(function(n){var t=yr(n,"span",1);return $t(n,1,t)}));return Yt(n,e,"colgroup")}e=I(kr(n),(function(n){var t=yr(n,"rowspan",1),e=yr(n,"colspan",1);return $t(n,t,e)}));return Yt(n,e,t(n))}))},Nr=function(n){return ge(n).map((function(n){var t=re(n);return Vt(t)?t:"tbody"})).getOr("tbody")},Ir=function(n){var t=_r(n),e=Br(n),r=un(un([],e,!0),t,!0);return Mr(r,Nr)},jr=function(n,t){return Mr(n,(function(){return t}))},Lr=function(n,t,e){var r=n.cells,o=r.slice(0,t),u=r.slice(t),i=o.concat(e).concat(u);return Ur(n,i)},Wr=function(n,t,e){return Lr(n,t,[e])},zr=function(n,t,e){var r=n.cells;r[t]=e},Ur=function(n,t){return Qt(n.element,t,n.section,n.isNew)},Hr=function(n,t){var e=n.cells,r=I(e,t);return Qt(n.element,r,n.section,n.isNew)},Vr=function(n,t){return n.cells[t]},qr=function(n,t){return Vr(n,t).element},Kr=function(n){return n.cells.length},$r=function(n){var t=W(n,(function(n){return"colgroup"===n.section}));return{rows:t.fail,cols:t.pass}},Xr=function(n,t,e){var r=I(n.cells,e);return Qt(t(n.element),r,n.section,!0)},Gr="data-snooker-locked-cols",Yr=function(n){return nr(n,Gr).bind((function(n){return E.from(n.match(/\d+/g))})).map((function(n){return J(n,S)}))},Jr=function(n){var t=H($r(n).rows,(function(n,t){return j(t.cells,(function(t,e){t.isLocked&&(n[e]=!0)})),n}),{}),e=Nt(t,(function(n,t){return parseInt(t,10)}));return Q(e)},Zr=function(n,t){return n+","+t},Qr=function(n,t,e){return E.from(n.access[Zr(t,e)])},no=function(n,t,e){var r=to(n,(function(n){return e(t,n.element)}));return r.length>0?E.some(r[0]):E.none()},to=function(n,t){var e=X(n.all,(function(n){return n.cells}));return z(e,t)},eo=function(n){var t={},e=0;return j(n.cells,(function(n){var r=n.colspan;N(r,(function(o){var u=e+o;t[u]=te(n.element,r,u)})),e+=r})),t},ro=function(n){var t={},e=[],r=tn(n).map((function(n){return n.element})).bind(Fr),o=r.bind(Yr).getOr({}),u=0,i=0,a=0,c=W(n,(function(n){return"colgroup"===n.section})),l=c.pass,f=c.fail;j(f,(function(n){var r=[];j(n.cells,(function(n){var e=0;while(void 0!==t[Zr(a,e)])e++;for(var u=zt(o,e.toString()),c=Gt(n.element,n.rowspan,n.colspan,a,e,u),l=0;l<n.colspan;l++)for(var f=0;f<n.rowspan;f++){var s=a+f,d=e+l,m=Zr(s,d);t[m]=c,i=Math.max(i,d+1)}r.push(c)})),u++,e.push(Yt(n.element,r,n.section)),a++}));var s=en(l).map((function(n){var t=eo(n),e=ee(n.element,It(t));return{colgroups:[e],columns:t}})).getOrThunk((function(){return{colgroups:[],columns:{}}})),d=s.columns,m=s.colgroups,p=qt(u,i);return{grid:p,access:t,all:e,columns:d,colgroups:m}},oo=function(n){var t=Ir(n);return ro(t)},uo=function(n){return X(n.all,(function(n){return n.cells}))},io=function(n){return It(n.columns)},ao=function(n){return Ot(n.columns).length>0},co=function(n,t){return E.from(n.columns[t])},lo={fromTable:oo,generate:ro,getAt:Qr,findItem:no,filterItems:to,justCells:uo,justColumns:io,hasColumns:ao,getColumnAt:co},fo=function(n,t){var e=t.column,r=t.column+t.colspan-1,o=t.row,u=t.row+t.rowspan-1;return e<=n.finishCol&&r>=n.startCol&&o<=n.finishRow&&u>=n.startRow},so=function(n,t){return t.column>=n.startCol&&t.column+t.colspan-1<=n.finishCol&&t.row>=n.startRow&&t.row+t.rowspan-1<=n.finishRow},mo=function(n,t){for(var e=!0,r=w(so,t),o=t.startRow;o<=t.finishRow;o++)for(var u=t.startCol;u<=t.finishCol;u++)e=e&&lo.getAt(n,o,u).exists(r);return e?E.some(t):E.none()},po=function(n,t){return ne(Math.min(n.row,t.row),Math.min(n.column,t.column),Math.max(n.row+n.rowspan-1,t.row+t.rowspan-1),Math.max(n.column+n.colspan-1,t.column+t.colspan-1))},go=function(n,t,e){var r=lo.findItem(n,t,Tt),o=lo.findItem(n,e,Tt);return r.bind((function(n){return o.map((function(t){return po(n,t)}))}))},ho=function(n,t,e){return go(n,t,e).bind((function(t){return mo(n,t)}))},vo=function(n,t,e,r){return lo.findItem(n,t,Tt).bind((function(t){var o=e>0?t.row+t.rowspan-1:t.row,u=r>0?t.column+t.colspan-1:t.column,i=lo.getAt(n,o+e,u+r);return i.map((function(n){return n.element}))}))},bo=function(n,t,e){return go(n,t,e).map((function(t){var e=lo.filterItems(n,w(fo,t));return I(e,(function(n){return n.element}))}))},yo=function(n,t){var e=function(n,t){return At(t,n)};return lo.findItem(n,t,e).map((function(n){return n.element}))},wo=function(n,t,e){return Fr(n).bind((function(r){var o=So(r);return vo(o,n,t,e)}))},Co=function(n,t,e){var r=So(n);return bo(r,t,e)},xo=function(n,t,e,r,o){var u=So(n),i=Tt(n,e)?E.some(t):yo(u,t),a=Tt(n,o)?E.some(r):yo(u,r);return i.bind((function(n){return a.bind((function(t){return bo(u,n,t)}))}))},To=function(n,t,e){var r=So(n);return ho(r,t,e)},So=lo.fromTable,Do=function(n,t){var e=ge(n);e.each((function(e){e.dom.insertBefore(t.dom,n.dom)}))},Ao=function(n,t){var e=ye(n);e.fold((function(){var e=ge(n);e.each((function(n){Oo(n,t)}))}),(function(n){Do(n,t)}))},Ro=function(n,t){var e=xe(n);e.fold((function(){Oo(n,t)}),(function(e){n.dom.insertBefore(t.dom,e.dom)}))},Oo=function(n,t){n.dom.appendChild(t.dom)},Eo=function(n,t,e){Ce(n,e).fold((function(){Oo(n,t)}),(function(n){Do(n,t)}))},ko=function(n,t){Do(n,t),Oo(t,n)},Po=function(n,t){j(t,(function(t){Do(n,t)}))},Fo=function(n,t){j(t,(function(e,r){var o=0===r?n:t[r-1];Ao(o,e)}))},_o=function(n,t){j(t,(function(t){Oo(n,t)}))},Bo=function(n){n.dom.textContent="",j(we(n),(function(n){Mo(n)}))},Mo=function(n){var t=n.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},No=function(n){var t=we(n);t.length>0&&Po(n,t),Mo(n)},Io=function(n,t){var e=function(e){if(!n(e))throw new Error("Can only get "+t+" value of a "+t+" node");return r(e).getOr("")},r=function(t){return n(t)?E.from(t.dom.nodeValue):E.none()},o=function(e,r){if(!n(e))throw new Error("Can only set raw "+t+" value of a "+t+" node");e.dom.nodeValue=r};return{get:e,getOption:r,set:o}},jo=Io(ce,"text"),Lo=function(n){return jo.get(n)},Wo=function(n){return jo.getOption(n)},zo=function(n,t){return jo.set(n,t)},Uo=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function Ho(){var n=function(n){return bt.fromDom(n.dom.cloneNode(!1))},t=function(n){return me(n).dom},e=function(n){return!!ae(n)&&("body"===re(n)||B(Uo,re(n)))},r=function(n){return!!ae(n)&&B(["br","img","hr","input"],re(n))},o=function(n){return ae(n)&&"false"===Qe(n,"contenteditable")},u=function(n,t){return n.dom.compareDocumentPosition(t.dom)},i=function(n,t){var e=er(n);Je(t,e)},a=function(n){var t=re(n);return B(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},c=function(n){return ae(n)?nr(n,"lang"):E.none()};return{up:v({selector:qe,closest:Xe,predicate:ze,all:ve}),down:v({selector:Le,predicate:Ne}),styles:v({get:pr,getRaw:hr,set:dr,remove:vr}),attrs:v({get:Qe,set:Ye,remove:tr,copyTo:i}),insert:v({before:Do,after:Ao,afterAll:Fo,append:Oo,appendAll:_o,prepend:Ro,wrap:ko}),remove:v({unwrap:No,remove:Mo}),create:v({nu:bt.fromTag,clone:n,text:bt.fromText}),query:v({comparePosition:u,prevSibling:be,nextSibling:ye}),property:v({children:we,name:re,parent:ge,document:t,isText:ce,isComment:ie,isElement:ae,isSpecial:a,getLanguage:c,getText:Lo,setText:zo,isBoundary:e,isEmptyTag:r,isNonEditable:o}),eq:Tt,is:Rt}}var Vo=function(n,t,e,r){var o=e[0],u=e.slice(1);return r(n,t,o,u)},qo=function(n,t,e){return e.length>0?Vo(n,t,e,Ko):E.none()},Ko=function(n,t,e,r){var o=t(n,e);return U(r,(function(e,r){var o=t(n,r);return $o(n,e,o)}),o)},$o=function(n,t,e){return t.bind((function(t){return e.filter(w(n.eq,t))}))},Xo=function(n,t){return w(n.eq,t)},Go=function(n,t,e,r){void 0===r&&(r=T);var o=[t].concat(n.up().all(t)),u=[e].concat(n.up().all(e)),i=function(n){var t=K(n,r);return t.fold((function(){return n}),(function(t){return n.slice(0,t+1)}))},a=i(o),c=i(u),l=q(a,(function(t){return M(c,Xo(n,t))}));return{firstpath:a,secondpath:c,shared:l}},Yo=qo,Jo=Go,Zo=Ho(),Qo=function(n,t){return Yo(Zo,(function(t,e){return n(e)}),t)},nu=function(n,t,e){return Jo(Zo,n,t,e)},tu=function(n){return qe(n,"table")},eu=function(n,t,e){var r=function(n){return function(t){return void 0!==e&&e(t)||Tt(t,n)}};return Tt(n,t)?E.some({boxes:E.some([n]),start:n,finish:t}):tu(n).bind((function(o){return tu(t).bind((function(u){if(Tt(o,u))return E.some({boxes:Co(o,n,t),start:n,finish:t});if(At(o,u)){var i=Ie(t,"td,th",r(o)),a=i.length>0?i[i.length-1]:t;return E.some({boxes:xo(o,n,o,t,u),start:n,finish:a})}if(At(u,o)){i=Ie(n,"td,th",r(u));var c=i.length>0?i[i.length-1]:n;return E.some({boxes:xo(u,n,o,t,u),start:n,finish:c})}return nu(n,t).shared.bind((function(i){return Xe(i,"table",e).bind((function(e){var i=Ie(t,"td,th",r(e)),a=i.length>0?i[i.length-1]:t,c=Ie(n,"td,th",r(e)),l=c.length>0?c[c.length-1]:n;return E.some({boxes:xo(e,n,o,t,u),start:l,finish:a})}))}))}))}))},ru=function(n,t){var e=Le(n,t);return e.length>0?E.some(e):E.none()},ou=function(n,t){return q(n,(function(n){return yt(n,t)}))},uu=function(n,t,e){return $e(n,t).bind((function(t){return $e(n,e).bind((function(n){return Qo(tu,[t,n]).map((function(e){return{first:t,last:n,table:e}}))}))}))},iu=function(n,t){return qe(n,"table").bind((function(e){return $e(e,t).bind((function(t){return eu(t,n).bind((function(n){return n.boxes.map((function(t){return{boxes:t,start:n.start,finish:n.finish}}))}))}))}))},au=function(n,t,e,r,o){return ou(n,o).bind((function(n){return wo(n,t,e).bind((function(n){return iu(n,r)}))}))},cu=function(n,t){return ru(n,t)},lu=function(n,t,e){return uu(n,t,e).bind((function(t){var e=function(t){return Tt(n,t)},r="thead,tfoot,tbody,table",o=qe(t.first,r,e),u=qe(t.last,r,e);return o.bind((function(n){return u.bind((function(e){return Tt(n,e)?To(t.table,t.first,t.last):E.none()}))}))}))},fu=function(n){if(!i(n))throw new Error("cases must be an array");if(0===n.length)throw new Error("there must be at least one case");var t=[],e={};return j(n,(function(r,o){var u=Ot(r);if(1!==u.length)throw new Error("one and only one name per case");var a=u[0],c=r[a];if(void 0!==e[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!i(c))throw new Error("case arguments must be an array");t.push(a),e[a]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var u=e.length;if(u!==c.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+c.length+" ("+c+"), got "+u);var i=function(n){var r=Ot(n);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));var o=G(t,(function(n){return B(r,n)}));if(!o)throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return n[a].apply(null,e)};return{fold:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+t.length);var u=t[o];return u.apply(null,e)},match:i,log:function(n){console.log(n,{constructors:t,constructor:a,params:e})}}}})),e},su={generate:fu},du=su.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),mu=function(n,t,e,r){return n.fold(t,e,r)},pu=du.none,gu=du.multiple,hu=du.single,vu=function(n,t,e){var r=function(){return cu(n(),e).fold((function(){return t().fold(pu,hu)}),(function(n){return gu(n)}))};return{get:r}},bu=tinymce.util.Tools.resolve("tinymce.PluginManager"),yu=function(n,t){return bt.fromDom(n.dom.cloneNode(t))},wu=function(n){return yu(n,!1)},Cu=function(n){return yu(n,!0)},xu=function(n,t){var e=bt.fromTag(t),r=er(n);return Je(e,r),e},Tu=function(n,t){var e=xu(n,t),r=we(Cu(n));return _o(e,r),e},Su=function(n,t){var e=xu(n,t);Do(n,e);var r=we(n);return _o(e,r),Mo(n),e},Du=function(n,t){var e=function(t,e){if(!m(e)&&!e.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+e);var r=t.dom;lr(r)&&(r.style[n]=e+"px")},r=function(e){var r=t(e);if(r<=0||null===r){var o=pr(e,n);return parseFloat(o)||0}return r},o=r,u=function(n,t){return H(t,(function(t,e){var r=pr(n,e),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o}),0)},i=function(n,t,e){var r=u(n,e),o=t>r?t-r:0;return o};return{set:e,get:r,getOuter:o,aggregate:u,max:i}},Au=function(){var n=ut().browser;return n.isIE()||n.isEdge()},Ru=function(n,t){return En(n).getOr(t)},Ou=function(n,t,e){return Ru(pr(n,t),e)},Eu=function(n){return pr(n,"box-sizing")},ku=function(n,t,e,r){var o=Ou(n,"padding-"+e,0),u=Ou(n,"padding-"+r,0),i=Ou(n,"border-"+e+"-width",0),a=Ou(n,"border-"+r+"-width",0);return t-o-u-i-a},Pu=function(n,t){var e=n.dom,r=e.getBoundingClientRect().height||e.offsetHeight;return"border-box"===t?r:ku(n,r,"top","bottom")},Fu=function(n,t){var e=n.dom,r=e.getBoundingClientRect().width||e.offsetWidth;return"border-box"===t?r:ku(n,r,"left","right")},_u=function(n){return Au()?Pu(n,Eu(n)):Ou(n,"height",n.dom.offsetHeight)},Bu=function(n){return Au()?Fu(n,Eu(n)):Ou(n,"width",n.dom.offsetWidth)},Mu=function(n){return Fu(n,"content-box")},Nu=Du("width",(function(n){return n.dom.offsetWidth})),Iu=function(n){return Nu.get(n)},ju=function(n){return Nu.getOuter(n)},Lu=Mu,Wu=Bu,zu=function(n,t){void 0===t&&(t=S);var e=n.grid,r=N(e.columns,b),o=N(e.rows,b);return I(r,(function(e){var r=function(){return X(o,(function(t){return lo.getAt(n,t,e).filter((function(n){return n.column===e})).toArray()}))},u=function(n){return 1===n.colspan&&t(n.element)},i=function(){return lo.getAt(n,0,e)};return Uu(r,u,i)}))},Uu=function(n,t,e){var r=n(),o=q(r,t),u=o.orThunk((function(){return E.from(r[0]).orThunk(e)}));return u.map((function(n){return n.element}))},Hu=function(n){var t=n.grid,e=N(t.rows,b),r=N(t.columns,b);return I(e,(function(t){var e=function(){return X(r,(function(e){return lo.getAt(n,t,e).filter((function(n){return n.row===t})).fold(v([]),(function(n){return[n]}))}))},o=function(n){return 1===n.rowspan},u=function(){return lo.getAt(n,t,0)};return Uu(e,o,u)}))},Vu=function(n,t){if(t<0||t>=n.length-1)return E.none();var e=n[t].fold((function(){var e=Y(n.slice(0,t));return rn(e,(function(n,t){return n.map((function(n){return{value:n,delta:t+1}}))}))}),(function(n){return E.some({value:n,delta:0})})),r=n[t+1].fold((function(){var e=n.slice(t+1);return rn(e,(function(n,t){return n.map((function(n){return{value:n,delta:t+1}}))}))}),(function(n){return E.some({value:n,delta:1})}));return e.bind((function(n){return r.map((function(t){var e=t.delta+n.delta;return Math.abs(t.value-n.value)/e}))}))},qu=function(n,t){return function(e){return"rtl"===Ku(e)?t:n}},Ku=function(n){return"rtl"===pr(n,"direction")?"rtl":"ltr"},$u=Du("height",(function(n){var t=n.dom;return Pe(n)?t.getBoundingClientRect().height:t.offsetHeight})),Xu=function(n){return $u.get(n)},Gu=function(n){return $u.getOuter(n)},Yu=_u,Ju=function(n,t){var e=function(e,r){return Ju(n+e,t+r)};return{left:n,top:t,translate:e}},Zu=Ju,Qu=function(n){var t=n.getBoundingClientRect();return Zu(t.left,t.top)},ni=function(n,t){return void 0!==n?n:void 0!==t?t:0},ti=function(n){var t=n.dom.ownerDocument,e=t.body,r=t.defaultView,o=t.documentElement;if(e===n.dom)return Zu(e.offsetLeft,e.offsetTop);var u=ni(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop),i=ni(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft),a=ni(o.clientTop,e.clientTop),c=ni(o.clientLeft,e.clientLeft);return ei(n).translate(i-c,u-a)},ei=function(n){var t=n.dom,e=t.ownerDocument,r=e.body;return r===t?Zu(r.offsetLeft,r.offsetTop):Pe(n)?Qu(t):Zu(0,0)},ri=function(n,t){return{row:n,y:t}},oi=function(n,t){return{col:n,x:t}},ui=function(n){var t=ti(n);return t.left+ju(n)},ii=function(n){return ti(n).left},ai=function(n,t){return oi(n,ii(t))},ci=function(n,t){return oi(n,ui(t))},li=function(n){return ti(n).top},fi=function(n,t){return ri(n,li(t))},si=function(n,t){return ri(n,li(t)+Gu(t))},di=function(n,t,e){if(0===e.length)return[];var r=I(e.slice(1),(function(t,e){return t.map((function(t){return n(e,t)}))})),o=e[e.length-1].map((function(n){return t(e.length-1,n)}));return r.concat([o])},mi=function(n){return-n},pi={delta:b,positions:function(n){return di(fi,si,n)},edge:li},gi={delta:b,edge:ii,positions:function(n){return di(ai,ci,n)}},hi={delta:mi,edge:ui,positions:function(n){return di(ci,ai,n)}},vi=qu(gi,hi),bi={delta:function(n,t){return vi(t).delta(n,t)},positions:function(n,t){return vi(t).positions(n,t)},edge:function(n){return vi(n).edge(n)}},yi={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},wi=function(){var n="[0-9]+",t="[+-]?"+n,e="[eE]"+t,r="\\.",o=function(n){return"(?:"+n+")?"},u=["Infinity",n+r+o(n)+o(e),r+n+o(e),n+o(e)].join("|"),i="[+-]?(?:"+u+")";return new RegExp("^("+i+")(.*)$")}(),Ci=function(n,t){return M(t,(function(t){return M(yi[t],(function(t){return n===t}))}))},xi=function(n,t){var e=E.from(wi.exec(n));return e.bind((function(n){var e=Number(n[1]),r=n[2];return Ci(r,t)?E.some({value:e,unit:r}):E.none()}))},Ti=/(\d+(\.\d+)?)%/,Si=/(\d+(\.\d+)?)px|em/,Di=se("col"),Ai=function(n,t,e){var r=he(n).getOrThunk((function(){return _e(de(n))}));return t(n)/e(r)*100},Ri=function(n,t){dr(n,"width",t+"px")},Oi=function(n,t){dr(n,"width",t+"%")},Ei=function(n,t){dr(n,"height",t+"px")},ki=function(n){return Yu(n)+"px"},Pi=function(n,t,e,r){var o=Fr(n).map((function(n){var r=e(n);return Math.floor(t/100*r)})).getOr(t);return r(n,o),o},Fi=function(n,t,e,r){var o=parseFloat(n);return Sn(n,"%")&&"table"!==re(t)?Pi(t,o,e,r):o},_i=function(n){var t=ki(n);return t?Fi(t,n,Xu,Ei):Xu(n)},Bi=function(n,t,e){var r=e(n),o=wr(n,t);return r/o},Mi=function(n,t){return hr(n,t).orThunk((function(){return nr(n,t).map((function(n){return n+"px"}))}))},Ni=function(n){return Mi(n,"width")},Ii=function(n){return Mi(n,"height")},ji=function(n){return Ai(n,Iu,Lu)},Li=function(n){return Di(n)?Iu(n):Wu(n)},Wi=function(n){return Bi(n,"rowspan",_i)},zi=function(n){var t=Ni(n);return t.bind((function(n){return xi(n,["fixed","relative","empty"])}))},Ui=function(n,t,e){dr(n,"width",t+e)},Hi=function(n){return Iu(n)+"px"},Vi=function(n){return Ai(n,Iu,Lu)+"%"},qi=function(n){return Ni(n).exists((function(n){return Ti.test(n)}))},Ki=function(n){return Ni(n).exists((function(n){return Si.test(n)}))},$i=function(n){return Ni(n).isNone()},Xi=v(Ti),Gi=se("col"),Yi=function(n){return Ni(n).getOrThunk((function(){return Li(n)+"px"}))},Ji=function(n){return Ii(n).getOrThunk((function(){return Wi(n)+"px"}))},Zi=function(n){return I(lo.justColumns(n),(function(n){return E.from(n.element)}))},Qi=function(n){var t=ut().browser,e=t.isChrome()||t.isFirefox();return!Gi(n)||e},na=function(n,t,e,r,o,u){return n.filter(r).fold((function(){return u(Vu(e,t))}),(function(n){return o(n)}))},ta=function(n,t,e,r){var o=zu(n),u=lo.hasColumns(n)?Zi(n):o,i=[E.some(bi.edge(t))].concat(I(bi.positions(o,t),(function(n){return n.map((function(n){return n.x}))}))),a=C(Cr);return I(u,(function(n,t){return na(n,t,i,a,(function(n){if(Qi(n))return e(n);var u=ir(o[t],b);return na(u,t,i,a,(function(n){return r(E.some(Iu(n)))}),r)}),r)}))},ea=function(n){return n.map((function(n){return n+"px"})).getOr("")},ra=function(n,t){return ta(n,t,Yi,ea)},oa=function(n,t,e){return ta(n,t,ji,(function(n){return n.fold((function(){return e.minCellWidth()}),(function(n){return n/e.pixelWidth()*100}))}))},ua=function(n,t,e){return ta(n,t,Li,(function(n){return n.getOrThunk(e.minCellWidth)}))},ia=function(n,t,e,r,o){var u=Hu(n),i=[E.some(e.edge(t))].concat(I(e.positions(u,t),(function(n){return n.map((function(n){return n.y}))})));return I(u,(function(n,t){return na(n,t,i,C(xr),r,o)}))},aa=function(n,t,e){return ia(n,t,e,Wi,(function(n){return n.getOrThunk(Dr)}))},ca=function(n,t,e){return ia(n,t,e,Ji,ea)},la=function(n,t){return function(){return Pe(n)?t(n):parseFloat(hr(n,"width").getOr("0"))}},fa=function(n){var t=la(n,Iu),e=v(0),r=function(t,e){return ua(t,n,e)};return{width:t,pixelWidth:t,getWidths:r,getCellDelta:e,singleColumnWidth:v([0]),minCellWidth:e,setElementWidth:p,adjustTableWidth:p,isRelative:!0,label:"none"}},sa=function(n){var t=la(n,(function(n){return parseFloat(Vi(n))})),e=la(n,Iu),r=function(n){return n/e()*100},o=function(n,t){return[100-n]},u=function(){return Sr()/e()*100},i=function(e){var r=t(),o=e/100*r,u=r+o;Oi(n,u)},a=function(t,e){return oa(t,n,e)};return{width:t,pixelWidth:e,getWidths:a,getCellDelta:r,singleColumnWidth:o,minCellWidth:u,setElementWidth:Oi,adjustTableWidth:i,isRelative:!0,label:"percent"}},da=function(n){var t=la(n,Iu),e=b,r=function(n,t){var e=Math.max(Sr(),n+t);return[e-n]},o=function(e){var r=t()+e;Ri(n,r)},u=function(t,e){return ua(t,n,e)};return{width:t,pixelWidth:t,getWidths:u,getCellDelta:e,singleColumnWidth:r,minCellWidth:Sr,setElementWidth:Ri,adjustTableWidth:o,isRelative:!1,label:"pixel"}},ma=function(n,t){var e=Xi().exec(t);return null!==e?sa(n):da(n)},pa=function(n){var t=Ni(n);return t.fold((function(){return fa(n)}),(function(t){return ma(n,t)}))},ga={getTableSize:pa,pixelSize:da,percentageSize:sa,noneSize:fa},ha=function(n,t,e,r,o,u){return{minRow:n,minCol:t,maxRow:e,maxCol:r,allCells:o,selectedCells:u}},va=function(n,t){var e=n.grid.columns,r=n.grid.rows,o=r,u=e,i=0,a=0,c=[],l=[];return kt(n.access,(function(n){if(c.push(n),t(n)){l.push(n);var e=n.row,r=e+n.rowspan-1,f=n.column,s=f+n.colspan-1;e<o?o=e:r>i&&(i=r),f<u?u=f:s>a&&(a=s)}})),ha(o,u,i,a,c,l)},ba=function(n,t,e){var r=n[e].element,o=bt.fromTag("td");Oo(o,bt.fromTag("br"));var u=t?Oo:Ro;u(r,o)},ya=function(n,t,e,r){for(var o=t.grid.columns,u=t.grid.rows,i=0;i<u;i++)for(var a=!1,c=0;c<o;c++)if(!(i<e.minRow||i>e.maxRow||c<e.minCol||c>e.maxCol)){var l=lo.getAt(t,i,c).filter(r).isNone();l?ba(n,a,i):a=!0}},wa=function(n,t,e,r){kt(e.columns,(function(n){(n.column<t.minCol||n.column>t.maxCol)&&Mo(n.element)}));var o=z(Ar(n,"tr"),(function(n){return 0===n.dom.childElementCount}));j(o,Mo),t.minCol!==t.maxCol&&t.minRow!==t.maxRow||j(Ar(n,"th,td"),(function(n){tr(n,"rowspan"),tr(n,"colspan")})),tr(n,Gr),tr(n,"data-snooker-col-series");var u=ga.getTableSize(n);u.adjustTableWidth(r)},Ca=function(n,t,e,r){if(0===r.minCol&&t.grid.columns===r.maxCol+1)return 0;var o=ua(t,n,e),u=H(o,(function(n,t){return n+t}),0),i=H(o.slice(r.minCol,r.maxCol+1),(function(n,t){return n+t}),0),a=i/u*e.pixelWidth(),c=a-e.pixelWidth();return e.getCellDelta(c)},xa=function(n,t){var e=function(n){return yt(n.element,t)},r=Cu(n),o=Ir(r),u=ga.getTableSize(n),i=lo.generate(o),a=va(i,e),c="th:not("+t+"),td:not("+t+")",l=Rr(r,"th,td",(function(n){return yt(n,c)}));j(l,Mo),ya(o,i,a,e);var f=lo.fromTable(n),s=Ca(n,f,u,a);return wa(r,a,i,s),r},Ta=" ",Sa=function(n){return"img"===re(n)?1:Wo(n).fold((function(){return we(n).length}),(function(n){return n.length}))},Da=function(n){return Wo(n).filter((function(n){return 0!==n.trim().length||n.indexOf(Ta)>-1})).isSome()},Aa=["img","br"],Ra=function(n){var t=Da(n);return t||B(Aa,re(n))},Oa=function(n){return Ve(n,Ra)},Ea=function(n){return ka(n,Ra)},ka=function(n,t){var e=function(n){for(var r=we(n),o=r.length-1;o>=0;o--){var u=r[o];if(t(u))return E.some(u);var i=e(u);if(i.isSome())return i}return E.none()};return e(n)},Pa={scope:["row","col"]},Fa=function(n){return function(){var t=bt.fromTag("td",n.dom);return Oo(t,bt.fromTag("br",n.dom)),t}},_a=function(n){return function(){return bt.fromTag("col",n.dom)}},Ba=function(n){return function(){return bt.fromTag("colgroup",n.dom)}},Ma=function(n){return function(){return bt.fromTag("tr",n.dom)}},Na=function(n,t,e){var r=Tu(n,t);return kt(e,(function(n,t){null===n?tr(r,t):Ye(r,t,n)})),r},Ia=function(n){return n},ja=function(n,t,e){var r=Oa(n);return r.map((function(r){var o=e.join(","),u=Ie(r,o,(function(t){return Tt(t,n)}));return U(u,(function(n,t){var e=wu(t);return tr(e,"contenteditable"),Oo(n,e),e}),t)})).getOr(t)},La=function(n,t){kt(Pa,(function(e,r){return nr(n,r).filter((function(n){return B(e,n)})).each((function(n){return Ye(t,r,n)}))}))},Wa=function(n,t,e){var r=function(n,t){br(n.element,t),vr(t,"height"),1!==n.colspan&&vr(t,"width")},o=function(o){var u=bt.fromTag(re(o.element),t.dom),i=e.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),a=i.length>0?ja(o.element,u,i):u;return Oo(a,bt.fromTag("br")),r(o,u),La(o.element,u),n(o.element,u),u},u=function(e){var o=bt.fromTag(re(e.element),t.dom);return r(e,o),n(e.element,o),o};return{col:u,colgroup:Ba(t),row:Ma(t),cell:o,replace:Na,colGap:_a(t),gap:Fa(t)}},za=function(n){return{col:_a(n),colgroup:Ba(n),row:Ma(n),cell:Fa(n),replace:Ia,colGap:_a(n),gap:Fa(n)}},Ua=function(n,t){var e=t||document,r=e.createElement("div");return r.innerHTML=n,we(bt.fromDom(r))},Ha=function(n){return I(n,bt.fromDom)},Va=function(n){return n.nodeName.toLowerCase()},qa=function(n){return bt.fromDom(n.getBody())},Ka=function(n){return n.getBoundingClientRect().width},$a=function(n){return n.getBoundingClientRect().height},Xa=function(n){return function(t){return Tt(t,qa(n))}},Ga=function(n){return n?n.replace(/px$/,""):""},Ya=function(n){return/^\d+(\.\d+)?$/.test(n)?n+"px":n},Ja=function(n){tr(n,"data-mce-style");var t=function(n){return tr(n,"data-mce-style")};j(kr(n),t),j(Pr(n),t),j(_r(n),t)},Za=function(n,t){var e=n.dom.getStyle(t,"width")||n.dom.getAttrib(t,"width");return E.from(e).filter(Rn)},Qa=function(n){return/^(\d+(\.\d+)?)%$/.test(n)},nc=function(n){return/^(\d+(\.\d+)?)px$/.test(n)},tc=function(n){return bt.fromDom(n.selection.getStart())},ec=function(n){return bt.fromDom(n.selection.getEnd())},rc=function(n){return mu(n.get(),v([]),b,Z)},oc=function(n){var t=function(n,t){return nr(n,t).exists((function(n){return parseInt(n,10)>1}))},e=function(n){return t(n,"rowspan")||t(n,"colspan")},r=rc(n);return r.length>0&&G(r,e)?E.some(r):E.none()},uc=function(n,t,e){return mu(t.get(),E.none,(function(t){return t.length<=1?E.none():lu(n,e.firstSelectedSelector,e.lastSelectedSelector).map((function(n){return{bounds:n,cells:t}}))}),E.none)},ic="data-mce-selected",ac="td["+ic+"],th["+ic+"]",cc="["+ic+"]",lc="data-mce-first-selected",fc="td["+lc+"],th["+lc+"]",sc="data-mce-last-selected",dc="td["+sc+"],th["+sc+"]",mc=cc,pc={selected:ic,selectedSelector:ac,firstSelected:lc,firstSelectedSelector:fc,lastSelected:sc,lastSelectedSelector:dc},gc=function(n){return{element:n,mergable:E.none(),unmergable:E.none(),selection:[n]}},hc=function(n,t,e){return{element:e,mergable:uc(t,n,pc),unmergable:oc(n),selection:rc(n)}},vc=function(n,t,e){return{element:n,clipboard:t,generators:e}},bc=function(n,t,e,r){return{selection:rc(n),clipboard:e,generators:r}},yc=function(n){return Fr(n).bind((function(n){return cu(n,pc.firstSelectedSelector)})).fold(v(n),(function(n){return n[0]}))},wc=function(n){return function(t,e){var r=re(t),o="col"===r||"colgroup"===r?yc(t):t;return Xe(o,n,e)}},Cc=wc("th,td,caption"),xc=wc("th,td"),Tc=function(n){return rc(n)},Sc=function(n,t){var e=xc(n),r=e.bind((function(n){return Fr(n)})).map((function(n){return _r(n)}));return ur(e,r,(function(n,e){return z(e,(function(e){return M(Ha(e.dom.cells),(function(e){return"1"===Qe(e,t)||Tt(e,n)}))}))})).getOr([])},Dc=function(n){return Fr(n[0]).map((function(n){var t=xa(n,mc);return Ja(t),[t]}))},Ac=function(n,t){return I(t,(function(t){return n.selection.serializer.serialize(t.dom,{})})).join("")},Rc=function(n){return I(n,(function(n){return n.dom.innerText})).join("")},Oc=function(n,t,e){n.on("BeforeGetContent",(function(e){var r=function(t){e.preventDefault(),Dc(t).each((function(t){e.content="text"===e.format?Rc(t):Ac(n,t)}))};!0===e.selection&&mu(t.get(),p,r,p)})),n.on("BeforeSetContent",(function(r){if(!0===r.selection&&!0===r.paste){var o=Tc(t);tn(o).each((function(t){Fr(t).each((function(o){var u=z(Ua(r.content),(function(n){return"meta"!==re(n)})),i=se("table");if(1===u.length&&i(u[0])){r.preventDefault();var a=bt.fromDom(n.getDoc()),c=za(a),l=vc(t,u[0],c);e.pasteCells(o,l).each((function(){n.focus()}))}}))}))}}))},Ec=su.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),kc=on({},Ec),Pc=function(n,t){return 0===n.length?kc.none():1===n.length?kc.only(0):0===t?kc.left(0,1):t===n.length-1?kc.right(t-1,t):t>0&&t<n.length-1?kc.middle(t-1,t,t+1):kc.none()},Fc=function(n,t,e,r,o){var u=n.slice(0),i=Pc(n,t),a=v(I(u,v(0))),c=function(n){return r.singleColumnWidth(u[n],e)},l=function(n,t){return o.calcLeftEdgeDeltas(u,n,t,e,r.minCellWidth(),r.isRelative)},f=function(n,t,i){return o.calcMiddleDeltas(u,n,t,i,e,r.minCellWidth(),r.isRelative)},s=function(n,t){return o.calcRightEdgeDeltas(u,n,t,e,r.minCellWidth(),r.isRelative)};return i.fold(a,c,l,f,s)},_c=function(n,t,e){for(var r=0,o=n;o<t;o++)r+=void 0!==e[o]?e[o]:0;return r},Bc=function(n,t){var e=lo.justCells(n);return I(e,(function(n){var e=_c(n.column,n.column+n.colspan,t);return{element:n.element,width:e,colspan:n.colspan}}))},Mc=function(n,t){var e=lo.justColumns(n);return I(e,(function(n,e){return{element:n.element,width:t[e],colspan:n.colspan}}))},Nc=function(n,t){var e=lo.justCells(n);return I(e,(function(n){var e=_c(n.row,n.row+n.rowspan,t);return{element:n.element,height:e,rowspan:n.rowspan}}))},Ic=function(n,t){return I(n.all,(function(n,e){return{element:n.element,height:t[e]}}))},jc=function(n){return U(n,(function(n,t){return n+t}),0)},Lc=function(n,t){return lo.hasColumns(n)?Mc(n,t):Bc(n,t)},Wc=function(n,t,e){var r=Lc(n,t);j(r,(function(n){e.setElementWidth(n.element,n.width)}))},zc=function(n,t,e,r,o){var u=lo.fromTable(n),i=o.getCellDelta(t),a=o.getWidths(u,o),c=e===u.grid.columns-1,l=r.clampTableDelta(a,e,i,o.minCellWidth(),c),f=Fc(a,e,l,o,r),s=I(f,(function(n,t){return n+a[t]}));Wc(u,s,o),r.resizeTable(o.adjustTableWidth,l,c)},Uc=function(n,t,e,r){var o=lo.fromTable(n),u=aa(o,n,r),i=I(u,(function(n,r){return e===r?Math.max(t+n,Dr()):n})),a=Nc(o,i),c=Ic(o,i);j(c,(function(n){Ei(n.element,n.height)})),j(a,(function(n){Ei(n.element,n.height)}));var l=jc(i);Ei(n,l)},Hc=function(n,t,e,r,o){var u=lo.generate(t),i=r.getWidths(u,r),a=r.pixelWidth(),c=o.calcRedestributedWidths(i,a,e.pixelDelta,r.isRelative),l=c.newSizes,f=c.delta;Wc(u,l,r),r.adjustTableWidth(f)},Vc=function(n,t,e,r){var o=lo.generate(t),u=r.getWidths(o,r);Wc(o,u,r)},qc=function(n){return I(n,v(0))},Kc=function(n,t,e,r,o){return o(n.slice(0,t)).concat(r).concat(o(n.slice(e)))},$c=function(n){return function(t,e,r,o){if(n(r)){var u=Math.max(o,t[e]-Math.abs(r)),i=Math.abs(u-t[e]);return r>=0?i:-i}return r}},Xc=$c((function(n){return n<0})),Gc=$c(S),Yc=function(){var n=function(n,t,e,r,o){var u=Xc(n,t,r,o);return Kc(n,t,e+1,[u,0],qc)},t=function(n,t,e,r){var o=(100+e)/100,u=Math.max(r,(n[t]+e)/o);return I(n,(function(n,e){var r=e===t?u:n/o;return r-n}))},e=function(e,r,o,u,i,a){return a?t(e,r,u,i):n(e,r,o,u,i)},r=function(n,t,r,o,u,i,a){return e(n,r,o,u,i,a)},o=function(n,t){return n(t)},u=function(n,e,r,o,u,i){if(i)return t(n,r,o,u);var a=Xc(n,r,o,u);return qc(n.slice(0,r)).concat([a])},i=function(n,t,e,r){if(r){var o=t+e,u=o/t,i=I(n,(function(n){return n/u}));return{delta:100*u-100,newSizes:i}}return{delta:e,newSizes:n}};return{resizeTable:o,clampTableDelta:Xc,calcLeftEdgeDeltas:e,calcMiddleDeltas:r,calcRightEdgeDeltas:u,calcRedestributedWidths:i}},Jc=function(){var n=function(n,t,e,r,o){var u=r>=0?e:t,i=Gc(n,u,r,o);return Kc(n,t,e+1,[i,-i],qc)},t=function(t,e,r,o,u,i){return n(t,r,o,u,i)},e=function(n,t,e){e&&n(t)},r=function(n,t,e,r,o,u){if(u)return qc(n);var i=r/n.length;return I(n,v(i))},o=function(n,t,e,r,o){if(o){if(e>=0)return e;var u=H(n,(function(n,t){return n+t-r}),0);return Math.max(-u,e)}return Xc(n,t,e,r)},u=function(n,t,e,r){return{delta:0,newSizes:n}};return{resizeTable:e,clampTableDelta:o,calcLeftEdgeDeltas:n,calcMiddleDeltas:t,calcRightEdgeDeltas:r,calcRedestributedWidths:u}},Zc=function(n,t){var e=E.from(n.dom.documentElement).map(bt.fromDom).getOr(n);return{parent:v(e),view:v(n),origin:v(Zu(0,0)),isResizable:t}},Qc=function(n,t,e){var r=function(){return ti(t)};return{parent:v(t),view:v(n),origin:r,isResizable:e}},nl=function(n,t,e){return{parent:v(t),view:v(n),origin:v(Zu(0,0)),isResizable:e}},tl={only:Zc,detached:Qc,body:nl},el=su.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),rl=function(n,t,e){var r=e.substring(0,e.length-n.length),o=parseFloat(r);return r===o.toString()?t(o):el.invalid(e)},ol=function(n){return Sn(n,"%")?rl("%",el.percent,n):Sn(n,"px")?rl("px",el.pixels,n):el.invalid(n)},ul=on(on({},el),{from:ol}),il=function(n,t){return I(n,(function(n){var e=ul.from(n);return e.fold((function(){return n}),(function(n){var e=n/t*100;return e+"%"}),(function(n){return n+"%"}))}))},al=function(n,t,e){var r=e/t;return I(n,(function(n){var t=ul.from(n);return t.fold((function(){return n}),(function(n){return n*r+"px"}),(function(n){return n/100*e+"px"}))}))},cl=function(n,t){var e=n.fold((function(){return v("")}),(function(n){var e=n/t;return v(e+"px")}),(function(){var n=100/t;return v(n+"%")}));return N(t,e)},ll=function(n,t,e){return n.fold((function(){return t}),(function(n){return al(t,e,n)}),(function(n){return il(t,e)}))},fl=function(n,t,e){var r=ul.from(e),o=G(n,(function(n){return"0px"===n}))?cl(r,n.length):ll(r,n,t);return pl(o)},sl=function(n,t){return 0===n.length?t:U(n,(function(n,t){return ul.from(t).fold(v(0),b,b)+n}),0)},dl=function(n,t){var e=Math.floor(n);return{value:e+t,remainder:n-e}},ml=function(n,t){return ul.from(n).fold(v(n),(function(n){return n+t+"px"}),(function(n){return n+t+"%"}))},pl=function(n){if(0===n.length)return n;var t=U(n,(function(n,t){var e=ul.from(t).fold((function(){return{value:t,remainder:0}}),(function(n){return dl(n,"px")}),(function(n){return{value:n+"%",remainder:0}}));return{output:[e.value].concat(n.output),remainder:n.remainder+e.remainder}}),{output:[],remainder:0}),e=t.output;return e.slice(0,e.length-1).concat([ml(e[e.length-1],Math.round(t.remainder))])},gl=ul.from,hl=function(n,t,e){j(t,(function(t){var r=n.slice(t.column,t.colspan+t.column),o=sl(r,Sr());dr(t.element,"width",o+e)}))},vl=function(n,t,e){j(t,(function(t,r){var o=sl([n[r]],Sr());dr(t.element,"width",o+e)}))},bl=function(n,t,e,r){j(e,(function(t){var e=n.slice(t.row,t.rowspan+t.row),o=sl(e,Dr());dr(t.element,"height",o+r)})),j(t,(function(t,e){dr(t.element,"height",n[e])}))},yl=function(n){return gl(n).fold(v("px"),v("px"),v("%"))},wl=function(n,t,e){var r=lo.fromTable(n),o=r.all,u=lo.justCells(r),i=lo.justColumns(r);t.each((function(t){var e=yl(t),o=Iu(n),a=ra(r,n),c=fl(a,o,t);lo.hasColumns(r)?vl(c,i,e):hl(c,u,e),dr(n,"width",t)})),e.each((function(t){var e=yl(t),i=Xu(n),a=ca(r,n,pi),c=fl(a,i,t);bl(c,o,u,e),dr(n,"height",t)}))},Cl=qi,xl=Ki,Tl=$i,Sl=function(n){var t=lo.fromTable(n);return t.grid},Dl=function(n){var t=[],e=function(n){if(void 0===n)throw new Error("Event bind error: undefined handler");t.push(n)},r=function(n){t=z(t,(function(t){return t!==n}))},o=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o={};j(n,(function(n,t){o[n]=e[t]})),j(t,(function(n){n(o)}))};return{bind:e,unbind:r,trigger:o}},Al=function(n){var t=Pt(n,(function(n){return{bind:n.bind,unbind:n.unbind}})),e=Pt(n,(function(n){return n.trigger}));return{registry:t,trigger:e}},Rl=function(n,t){var e=null,r=function(){a(e)||(clearTimeout(e),e=null)},o=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];r(),e=setTimeout((function(){e=null,n.apply(null,o)}),t)};return{cancel:r,throttle:o}},Ol=function(n){return n.slice(0).sort()},El=function(n,t){throw new Error("All required keys ("+Ol(n).join(", ")+") were not specified. Specified keys were: "+Ol(t).join(", ")+".")},kl=function(n){throw new Error("Unsupported keys for object: "+Ol(n).join(", "))},Pl=function(n,t){if(!i(t))throw new Error("The "+n+" fields must be an array. Was: "+t+".");j(t,(function(t){if(!o(t))throw new Error("The value "+t+" in the "+n+" fields was not a string.")}))},Fl=function(n,t){throw new Error("All values need to be of type: "+t+". Keys ("+Ol(n).join(", ")+") were not.")},_l=function(n){var t=Ol(n),e=q(t,(function(n,e){return e<t.length-1&&n===t[e+1]}));e.each((function(n){throw new Error("The field: "+n+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))},Bl=function(n,t){return Ml(n,t,{validate:d,label:"function"})},Ml=function(n,t,e){if(0===t.length)throw new Error("You must specify at least one required field.");return Pl("required",t),_l(t),function(r){var o=Ot(r),u=G(t,(function(n){return B(o,n)}));u||El(t,o),n(t,o);var i=z(t,(function(n){return!e.validate(r[n],n)}));return i.length>0&&Fl(i,e.label),r}},Nl=function(n,t){var e=z(t,(function(t){return!B(n,t)}));e.length>0&&kl(e)},Il=function(n){return Bl(Nl,n)},jl=Il(["compare","extract","mutate","sink"]),Ll=Il(["element","start","stop","destroy"]),Wl=Il(["forceDrop","drop","move","delayDrop"]),zl=function(){var n=E.none(),t=function(){n=E.none()},e=function(t,e){var r=n.map((function(n){return t.compare(n,e)}));return n=E.some(e),r},r=function(n,t){var r=t.extract(n);r.each((function(n){var r=e(t,n);r.each((function(n){o.trigger.move(n)}))}))},o=Al({move:Dl(["info"])});return{onEvent:r,reset:t,events:o.registry}},Ul=function(){var n=Al({move:Dl(["info"])});return{onEvent:p,reset:p,events:n.registry}},Hl=function(){var n=Ul(),t=zl(),e=n,r=function(){e.reset(),e=t},o=function(){e.reset(),e=n},u=function(n,t){e.onEvent(n,t)},i=function(){return e===t};return{on:r,off:o,isOn:i,onEvent:u,events:t.events}},Vl=function(n,t,e){var r=!1,o=Al({start:Dl([]),stop:Dl([])}),u=Hl(),i=function(){m.stop(),u.isOn()&&(u.off(),o.trigger.stop())},a=Rl(i,200),c=function(n){m.start(n),u.on(),o.trigger.start()},l=function(n){a.cancel(),u.onEvent(n,t)};u.events.move.bind((function(e){t.mutate(n,e.info)}));var f=function(){r=!0},s=function(){r=!1},d=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r&&n.apply(null,t)}},m=t.sink(Wl({forceDrop:i,drop:d(i),move:d(l),delayDrop:d(a.throttle)}),e),p=function(){m.destroy()};return{element:m.element,go:c,on:f,off:s,destroy:p,events:o.registry}},ql=function(n,t,e,r,o,u,i){return{target:n,x:t,y:e,stop:r,prevent:o,kill:u,raw:i}},Kl=function(n){var t=bt.fromDom(Ee(n).getOr(n.target)),e=function(){return n.stopPropagation()},r=function(){return n.preventDefault()},o=g(r,e);return ql(t,n.clientX,n.clientY,e,r,o,n)},$l=function(n,t){return function(e){n(e)&&t(Kl(e))}},Xl=function(n,t,e,r,o){var u=$l(e,r);return n.dom.addEventListener(t,u,o),{unbind:w(Yl,n,t,u,o)}},Gl=function(n,t,e,r){return Xl(n,t,e,r,!1)},Yl=function(n,t,e,r){n.dom.removeEventListener(t,e,r)},Jl=S,Zl=function(n,t,e){return Gl(n,t,Jl,e)},Ql=Kl,nf=function(n,t){var e=Qe(n,t);return void 0===e||""===e?[]:e.split(" ")},tf=function(n,t,e){var r=nf(n,t),o=r.concat([e]);return Ye(n,t,o.join(" ")),!0},ef=function(n,t,e){var r=z(nf(n,t),(function(n){return n!==e}));return r.length>0?Ye(n,t,r.join(" ")):tr(n,t),!1},rf=function(n){return void 0!==n.dom.classList},of=function(n){return nf(n,"class")},uf=function(n,t){return tf(n,"class",t)},af=function(n,t){return ef(n,"class",t)},cf=function(n,t){rf(n)?n.dom.classList.add(t):uf(n,t)},lf=function(n){var t=rf(n)?n.dom.classList:of(n);0===t.length&&tr(n,"class")},ff=function(n,t){if(rf(n)){var e=n.dom.classList;e.remove(t)}else af(n,t);lf(n)},sf=function(n,t){return rf(n)&&n.dom.classList.contains(t)},df=function(n){var t=n.replace(/\./g,"-"),e=function(n){return t+"-"+n};return{resolve:e}},mf=df("ephox-dragster"),pf=mf.resolve,gf=function(n){var t=on({layerClass:pf("blocker")},n),e=bt.fromTag("div");Ye(e,"role","presentation"),mr(e,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),cf(e,pf("blocker")),cf(e,t.layerClass);var r=v(e),o=function(){Mo(e)};return{element:r,destroy:o}},hf=function(n,t){return Zu(t.left-n.left,t.top-n.top)},vf=function(n){return E.some(Zu(n.x,n.y))},bf=function(n,t){n.mutate(t.left,t.top)},yf=function(n,t){var e=gf(t),r=Zl(e.element(),"mousedown",n.forceDrop),o=Zl(e.element(),"mouseup",n.drop),u=Zl(e.element(),"mousemove",n.move),i=Zl(e.element(),"mouseout",n.delayDrop),a=function(){e.destroy(),o.unbind(),u.unbind(),i.unbind(),r.unbind()},c=function(n){Oo(n,e.element())},l=function(){Mo(e.element())};return Ll({element:e.element,start:c,stop:l,destroy:a})},wf=jl({compare:hf,extract:vf,sink:yf,mutate:bf}),Cf=function(n,t){void 0===t&&(t={});var e=void 0!==t.mode?t.mode:wf;return Vl(n,e,t)},xf=function(n){return Xe(n,"[contenteditable]")},Tf=function(n,t){return void 0===t&&(t=!1),!ut().browser.isIE()&&Pe(n)?n.dom.isContentEditable:xf(n).fold(v(t),(function(n){return"true"===Sf(n)}))},Sf=function(n){return n.dom.contentEditable},Df=df("ephox-snooker"),Af=Df.resolve,Rf=function(){var n=Al({drag:Dl(["xDelta","yDelta"])}),t=function(t,e){n.trigger.drag(t,e)};return{mutate:t,events:n.registry}},Of=function(){var n=Al({drag:Dl(["xDelta","yDelta","target"])}),t=E.none(),e=Rf();e.events.drag.bind((function(e){t.each((function(t){n.trigger.drag(e.xDelta,e.yDelta,t)}))}));var r=function(n){t=E.some(n)},o=function(){return t};return{assign:r,get:o,mutate:e.mutate,events:n.registry}},Ef=function(n,t,e,r,o){var u=bt.fromTag("div");return mr(u,{position:"absolute",left:t-r/2+"px",top:e+"px",height:o+"px",width:r+"px"}),Je(u,{"data-column":n,role:"presentation"}),u},kf=function(n,t,e,r,o){var u=bt.fromTag("div");return mr(u,{position:"absolute",left:t+"px",top:e-o/2+"px",height:o+"px",width:r+"px"}),Je(u,{"data-row":n,role:"presentation"}),u},Pf=Af("resizer-bar"),Ff=Af("resizer-rows"),_f=Af("resizer-cols"),Bf=7,Mf=function(n,t){return X(n.all,(function(n,e){return t(n.element)?[e]:[]}))},Nf=function(n,t){var e=[];return N(n.grid.columns,(function(r){var o=lo.getColumnAt(n,r).map((function(n){return n.element}));o.forall(t)&&e.push(r)})),z(e,(function(e){var r=lo.filterItems(n,(function(n){return n.column===e}));return G(r,(function(n){return t(n.element)}))}))},If=function(n){var t=Le(n.parent(),"."+Pf);j(t,Mo)},jf=function(n,t,e){var r=n.origin();j(t,(function(t){t.each((function(t){var o=e(r,t);cf(o,Pf),Oo(n.parent(),o)}))}))},Lf=function(n,t,e,r){jf(n,t,(function(n,t){var o=Ef(t.col,t.x-n.left,e.top-n.top,Bf,r);return cf(o,_f),o}))},Wf=function(n,t,e,r){jf(n,t,(function(n,t){var o=kf(t.row,e.left-n.left,t.y-n.top,r,Bf);return cf(o,Ff),o}))},zf=function(n,t,e,r,o){var u=ti(e),i=t.isResizable,a=r.length>0?pi.positions(r,e):[],c=a.length>0?Mf(n,i):[],l=z(a,(function(n,t){return M(c,(function(n){return t===n}))}));Wf(t,l,u,ju(e));var f=o.length>0?bi.positions(o,e):[],s=f.length>0?Nf(n,i):[],d=z(f,(function(n,t){return M(s,(function(n){return t===n}))}));Lf(t,d,u,Gu(e))},Uf=function(n,t){if(If(n),n.isResizable(t)){var e=lo.fromTable(t),r=Hu(e),o=zu(e);zf(e,n,t,r,o)}},Hf=function(n,t){var e=Le(n.parent(),"."+Pf);j(e,t)},Vf=function(n){Hf(n,(function(n){dr(n,"display","none")}))},qf=function(n){Hf(n,(function(n){dr(n,"display","block")}))},Kf=function(n){return sf(n,Ff)},$f=function(n){return sf(n,_f)},Xf=Af("resizer-bar-dragging"),Gf=function(n){var t=Of(),e=Cf(t,{}),r=E.none(),o=function(n,t){return E.from(Qe(n,t))};t.events.drag.bind((function(n){o(n.target,"data-row").each((function(t){var e=Tr(n.target,"top");dr(n.target,"top",e+n.yDelta+"px")})),o(n.target,"data-column").each((function(t){var e=Tr(n.target,"left");dr(n.target,"left",e+n.xDelta+"px")}))}));var u=function(n,t){var e=Tr(n,t),r=yr(n,"data-initial-"+t,0);return e-r};e.events.stop.bind((function(){t.get().each((function(t){r.each((function(e){o(t,"data-row").each((function(n){var r=u(t,"top");tr(t,"data-initial-top"),m.trigger.adjustHeight(e,r,parseInt(n,10))})),o(t,"data-column").each((function(n){var r=u(t,"left");tr(t,"data-initial-left"),m.trigger.adjustWidth(e,r,parseInt(n,10))})),Uf(n,e)}))}))}));var i=function(r,o){m.trigger.startAdjust(),t.assign(r),Ye(r,"data-initial-"+o,Tr(r,o)),cf(r,Xf),dr(r,"opacity","0.2"),e.go(n.parent())},a=Zl(n.parent(),"mousedown",(function(n){Kf(n.target)&&i(n.target,"top"),$f(n.target)&&i(n.target,"left")})),c=function(t){return Tt(t,n.view())},l=function(n){return Xe(n,"table",c).filter(Tf)},f=Zl(n.view(),"mouseover",(function(t){l(t.target).fold((function(){Pe(t.target)&&If(n)}),(function(t){r=E.some(t),Uf(n,t)}))})),s=function(){a.unbind(),f.unbind(),e.destroy(),If(n)},d=function(t){Uf(n,t)},m=Al({adjustHeight:Dl(["table","delta","row"]),adjustWidth:Dl(["table","delta","column"]),startAdjust:Dl([])});return{destroy:s,refresh:d,on:e.on,off:e.off,hideBars:w(Vf,n),showBars:w(qf,n),events:m.registry}},Yf=function(n,t,e){var r=pi,o=bi,u=Gf(n),i=Al({beforeResize:Dl(["table","type"]),afterResize:Dl(["table","type"]),startDrag:Dl([])});return u.events.adjustHeight.bind((function(n){var t=n.table;i.trigger.beforeResize(t,"row");var e=r.delta(n.delta,t);Uc(t,e,n.row,r),i.trigger.afterResize(t,"row")})),u.events.startAdjust.bind((function(n){i.trigger.startDrag()})),u.events.adjustWidth.bind((function(n){var r=n.table;i.trigger.beforeResize(r,"col");var u=o.delta(n.delta,r),a=e(r);zc(r,u,n.column,t,a),i.trigger.afterResize(r,"col")})),{on:u.on,off:u.off,hideBars:u.hideBars,showBars:u.showBars,destroy:u.destroy,events:i.registry}},Jf={create:Yf},Zf=function(n,t){return n.fire("newrow",{node:t})},Qf=function(n,t){return n.fire("newcell",{node:t})},ns=function(n,t,e,r,o){n.fire("ObjectResizeStart",{target:t,width:e,height:r,origin:o})},ts=function(n,t,e,r,o){n.fire("ObjectResized",{target:t,width:e,height:r,origin:o})},es=function(n,t,e,r,o){n.fire("TableSelectionChange",{cells:t,start:e,finish:r,otherCells:o})},rs=function(n){n.fire("TableSelectionClear")},os=function(n,t,e){n.fire("TableModified",on(on({},e),{table:t}))},us={structure:!1,style:!0},is={structure:!0,style:!1},as={structure:!0,style:!0},cs="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",ls={"border-collapse":"collapse",width:"100%"},fs=N(5,(function(n){var t=n+1+"px";return{title:t,value:t}})),ss=I(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],(function(n){return{title:n,value:n.toLowerCase()}})),ds=function(n){var t;if(_s(n)){var e=n.dom,r=null!==(t=e.getParent(n.selection.getStart(),e.isBlock))&&void 0!==t?t:n.getBody(),o=Lu(bt.fromDom(r));return on(on({},ls),{width:o+"px"})}return Bs(n)?Mt(ls,(function(n,t){return"width"!==t})):ls},ms={border:"1"},ps="preservetable",gs=function(n){return n.getParam("table_sizing_mode","auto")},hs=function(n){return n.getParam("table_responsive_width")},vs=function(n){return n.getParam("table_border_widths",fs,"array")},bs=function(n){return n.getParam("table_border_styles",ss,"array")},ys=function(n){return n.getParam("table_default_attributes",ms,"object")},ws=function(n){return n.getParam("table_default_styles",ds(n),"object")},Cs=function(n){return n.getParam("table_resize_bars",!0,"boolean")},xs=function(n){return n.getParam("table_tab_navigation",!0,"boolean")},Ts=function(n){return n.getParam("table_cell_advtab",!0,"boolean")},Ss=function(n){return n.getParam("table_row_advtab",!0,"boolean")},Ds=function(n){return n.getParam("table_advtab",!0,"boolean")},As=function(n){return n.getParam("table_appearance_options",!0,"boolean")},Rs=function(n){return n.getParam("table_grid",!0,"boolean")},Os=function(n){return n.getParam("table_style_by_css",!1,"boolean")},Es=function(n){return n.getParam("table_cell_class_list",[],"array")},ks=function(n){return n.getParam("table_row_class_list",[],"array")},Ps=function(n){return n.getParam("table_class_list",[],"array")},Fs=function(n){return"relative"===gs(n)||!0===hs(n)},_s=function(n){return"fixed"===gs(n)||!1===hs(n)},Bs=function(n){return"responsive"===gs(n)},Ms=function(n){return n.getParam("table_toolbar",cs)},Ns=function(n){return n.getParam("table_use_colgroups",!1,"boolean")},Is=function(n){var t="section",e=n.getParam("table_header_type",t,"string"),r=["section","cells","sectionCells","auto"];return B(r,e)?e:t},js=function(n){var t=["preservetable","resizetable"],e=n.getParam("table_column_resizing",ps,"string");return q(t,(function(n){return n===e})).getOr(ps)},Ls=function(n){return"preservetable"===js(n)},Ws=function(n){return"resizetable"===js(n)},zs=function(n){var t=n.getParam("table_clone_elements");return o(t)?E.some(t.split(/[ ,]/)):Array.isArray(t)?E.some(t):E.none()},Us=function(n){var t=n.getParam("object_resizing",!0);return o(t)?"table"===t:t},Hs=function(n){return n.getParam("table_background_color_map",[],"array")},Vs=function(n){return n.getParam("table_border_color_map",[],"array")},qs=function(n,t){return Fs(n)?ga.percentageSize(t):_s(n)?ga.pixelSize(t):ga.getTableSize(t)},Ks=function(n){tr(n,"width")},$s=function(n){var t=Vi(n);wl(n,E.some(t),E.none()),Ks(n)},Xs=function(n){var t=Hi(n);wl(n,E.some(t),E.none()),Ks(n)},Gs=function(n){vr(n,"width");var t=Pr(n),e=t.length>0?t:kr(n);j(e,(function(n){vr(n,"width"),Ks(n)})),Ks(n)},Ys=$s,Js=Xs,Zs=Gs,Qs=function(n){var t=lo.fromTable(n);lo.hasColumns(t)||j(kr(n),(function(n){var t=pr(n,"width");dr(n,"width",t),tr(n,"width")}))},nd=function(){var n=bt.fromTag("div");return mr(n,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Oo(Fe(),n),n},td=function(n,t){return n.inline?tl.body(qa(n),nd(),t):tl.only(bt.fromDom(n.getDoc()),t)},ed=function(n,t){n.inline&&Mo(t.parent())},rd="bar-",od=function(n){return"false"!==Qe(n,"data-mce-resize")},ud=function(n){var t,e,r=E.none(),o=E.none(),u=E.none(),i=function(n){return"TABLE"===n.nodeName},a=function(){return o},c=function(){return u.getOr(tl.only(bt.fromDom(n.getBody()),od))},l=function(t){return qs(n,t)},f=function(){return Ls(n)?Jc():Yc()},s=function(n){return Sl(n).columns},d=function(r,o,u){var i=Sn(o,"e");if(""===e&&Ys(r),u!==t&&""!==e){dr(r,"width",e);var a=f(),c=l(r),d=Ls(n)||i?s(r)-1:0;zc(r,u-t,d,a,c)}else if(Qa(e)){var m=parseFloat(e.replace("%","")),p=u*m/t;dr(r,"width",p+"%")}nc(e)&&Qs(r)},m=function(){o.each((function(n){n.destroy()})),u.each((function(t){ed(n,t)}))};return n.on("init",(function(){var t=td(n,od);if(u=E.some(t),Us(n)&&Cs(n)){var e=f(),i=Jf.create(t,e,l);i.on(),i.events.startDrag.bind((function(t){r=E.some(n.selection.getRng())})),i.events.beforeResize.bind((function(t){var e=t.table.dom;ns(n,e,Ka(e),$a(e),rd+t.type)})),i.events.afterResize.bind((function(t){var e=t.table,o=e.dom;Ja(e),r.each((function(t){n.selection.setRng(t),n.focus()})),ts(n,o,Ka(o),$a(o),rd+t.type),n.undoManager.add()})),o=E.some(i)}})),n.on("ObjectResizeStart",(function(r){var o=r.target;if(i(o)){var u=bt.fromDom(o);j(n.dom.select(".mce-clonedresizable"),(function(t){n.dom.addClass(t,"mce-"+js(n)+"-columns")})),!xl(u)&&_s(n)?Js(u):!Cl(u)&&Fs(n)&&Ys(u),Tl(u)&&Tn(r.origin,rd)&&Ys(u),t=r.width,e=Bs(n)?"":Za(n,o).getOr("")}})),n.on("ObjectResized",(function(t){var e=t.target;if(i(e)){var r=bt.fromDom(e),o=t.origin;Tn(o,"corner-")&&d(r,o,t.width),Ja(r),os(n,r.dom,us)}})),n.on("SwitchMode",(function(){a().each((function(t){n.mode.isReadOnly()?t.hideBars():t.showBars()}))})),{lazyResize:a,lazyWire:c,destroy:m}},id=function(n,t){return{element:n,offset:t}},ad=function(n,t,e){return n.property().isText(t)&&0===n.property().getText(t).trim().length||n.property().isComment(t)?e(t).bind((function(t){return ad(n,t,e).orThunk((function(){return E.some(t)}))})):E.none()},cd=function(n,t){if(n.property().isText(t))return n.property().getText(t).length;var e=n.property().children(t);return e.length},ld=function(n,t){var e=ad(n,t,n.query().prevSibling).getOr(t);if(n.property().isText(e))return id(e,cd(n,e));var r=n.property().children(e);return r.length>0?ld(n,r[r.length-1]):id(e,cd(n,e))},fd=ld,sd=Ho(),dd=function(n){return fd(sd,n)},md=function(n,t){var e=wr(n,"colspan");if(1===e){var r=zi(n);r.each((function(e){var r=e.value/2;Ui(n,r,e.unit),Ui(t,r,e.unit)}))}},pd=se("th"),gd=function(n){return G(n,(function(n){return pd(n.element)}))},hd=function(n,t){return n&&t?"sectionCells":n?"section":"cells"},vd=function(n){var t="thead"===n.section,e=rr(bd(n.cells),"th");return t||e?{type:"header",subType:hd(t,e)}:"tfoot"===n.section?{type:"footer"}:{type:"body"}},bd=function(n){var t=z(n,(function(n){return pd(n.element)}));return 0===t.length?E.some("td"):t.length===n.length?E.some("th"):E.none()},yd=function(n){var t=I(n,(function(n){return vd(n).type})),e=B(t,"header"),r=B(t,"footer");if(e||r){var o=B(t,"body");return!e||o||r?e||o||!r?E.none():E.some("footer"):E.some("header")}return E.some("body")},wd=function(n){return rn(n.all,(function(n){var t=vd(n);return"header"===t.type?E.from(t.subType):E.none()}))},Cd=function(n,t,e){return Zt(e(n.element,t),!0,n.isLocked)},xd=function(n,t){return n.section!==t?Qt(n.element,n.cells,t,n.isNew):n},Td=function(){return{transformRow:xd,transformCell:function(n,t,e){var r=e(n.element,t),o="td"!==re(r)?Su(r,"td"):r;return Zt(o,n.isNew,n.isLocked)}}},Sd=function(){return{transformRow:xd,transformCell:Cd}},Dd=function(){return{transformRow:function(n,t){var e="thead"===t?"tbody":t;return xd(n,e)},transformCell:Cd}},Ad=function(){return{transformRow:b,transformCell:Cd}},Rd=function(n,t){var e=lo.fromTable(n),r=wd(e).getOr(t);switch(r){case"section":return Td();case"sectionCells":return Sd();case"cells":return Dd()}},Od={getTableSectionType:Rd,section:Td,sectionCells:Sd,cells:Dd,fallback:Ad},Ed=function(n,t,e,r){e===r?tr(n,t):Ye(n,t,e)},kd=function(n,t,e){en(je(n,t)).fold((function(){return Ro(n,e)}),(function(n){return Ao(n,e)}))},Pd=function(n,t){var e=Ke(n,t).getOrThunk((function(){var e=bt.fromTag(t,de(n).dom);return"thead"===t?kd(n,"caption,colgroup",e):"colgroup"===t?kd(n,"caption",e):Oo(n,e),e}));return Bo(e),e},Fd=function(n,t){var e=[],r=[],o=function(n){return I(n,(function(n){n.isNew&&e.push(n.element);var t=n.element;return Bo(t),j(n.cells,(function(n){n.isNew&&r.push(n.element),Ed(n.element,"colspan",n.colspan,1),Ed(n.element,"rowspan",n.rowspan,1),Oo(t,n.element)})),t}))},u=function(n){return X(n,(function(n){return I(n.cells,(function(n){return Ed(n.element,"span",n.colspan,1),n.element}))}))},i=function(t,e){var r=Pd(n,e),i="colgroup"===e?u:o,a=i(t);_o(r,a)},a=function(t){Ke(n,t).each(Mo)},c=function(n,t){n.length>0?i(n,t):a(t)},l=[],f=[],s=[],d=[];return j(t,(function(n){switch(n.section){case"thead":l.push(n);break;case"tbody":f.push(n);break;case"tfoot":s.push(n);break;case"colgroup":d.push(n);break}})),c(d,"colgroup"),c(l,"thead"),c(f,"tbody"),c(s,"tfoot"),{newRows:e,newCells:r}},_d=function(n){return I(n,(function(n){var t=wu(n.element);return j(n.cells,(function(n){var e=Cu(n.element);Ed(e,"colspan",n.colspan,1),Ed(e,"rowspan",n.rowspan,1),Oo(t,e)})),t}))},Bd=function(n,t){return I(n,(function(n){return Vr(n,t)}))},Md=function(n,t){return n[t]},Nd=function(n,t){if(0===n.length)return 0;var e=n[0],r=K(n,(function(n){return!t(e.element,n.element)}));return r.getOr(n.length)},Id=function(n,t,e,r){var o=Md(n,t),u="colgroup"===o.section,i=Nd(o.cells.slice(e),r),a=u?1:Nd(Bd(n.slice(t),e),r);return{colspan:i,rowspan:a}},jd=function(n,t){var e=I(n,(function(n){return I(n.cells,T)})),r=function(n,t,r,o){for(var u=n;u<n+r;u++)for(var i=t;i<t+o;i++)e[u][i]=!0};return I(n,(function(o,u){var i=X(o.cells,(function(o,i){if(!1===e[u][i]){var a=Id(n,u,i,t);return r(u,i,a.rowspan,a.colspan),[Xt(o.element,a.rowspan,a.colspan,o.isNew)]}return[]}));return Jt(o.element,i,o.section,o.isNew)}))},Ld=function(n,t,e){var r=[];j(n.colgroups,(function(o){for(var u=[],i=0;i<n.grid.columns;i++){var a=lo.getColumnAt(n,i).map((function(n){return Zt(n.element,e,!1)})).getOrThunk((function(){return Zt(t.colGap(),!0,!1)}));u.push(a)}r.push(Qt(o.element,u,"colgroup",e))}));for(var o=0;o<n.grid.rows;o++){for(var u=[],i=0;i<n.grid.columns;i++){var a=lo.getAt(n,o,i).map((function(n){return Zt(n.element,e,n.isLocked)})).getOrThunk((function(){return Zt(t.gap(),!0,!1)}));u.push(a)}var c=n.all[o],l=Qt(c.element,u,c.section,e);r.push(l)}return r},Wd=function(n,t){return Ld(n,t,!1)},zd=function(n){return jd(n,Tt)},Ud=function(n,t){return rn(n.all,(function(n){return q(n.cells,(function(n){return Tt(t,n.element)}))}))},Hd=function(n,t,e){var r=I(t.selection,(function(t){return Er(t).bind((function(t){return Ud(n,t)})).filter(e)})),o=or(r);return cr(o.length>0,o)},Vd=function(n,t,e,r,o){return function(u,i,a,c,l){var f=lo.fromTable(i),s=E.from(null===l||void 0===l?void 0:l.section).getOrThunk(Od.fallback),d=t(f,a).map((function(t){var e=Wd(f,c),r=n(e,t,Tt,o(c),s),u=Jr(r.grid),i=zd(r.grid);return{info:t,grid:i,cursor:r.cursor,lockedColumns:u}}));return d.bind((function(n){var t=Fd(i,n.grid),o=E.from(null===l||void 0===l?void 0:l.sizing).getOrThunk((function(){return ga.getTableSize(i)})),a=E.from(null===l||void 0===l?void 0:l.resize).getOrThunk(Jc);return e(i,n.grid,n.info,{sizing:o,resize:a,section:s}),r(i),Uf(u,i),tr(i,Gr),n.lockedColumns.length>0&&Ye(i,Gr,n.lockedColumns.join(",")),E.some({cursor:n.cursor,newRows:t.newRows,newCells:t.newCells})}))}},qd=function(n,t){return Er(t.element).bind((function(e){return Ud(n,e).map((function(n){var e=on(on({},n),{generators:t.generators,clipboard:t.clipboard});return e}))}))},Kd=function(n,t){return Hd(n,t,S).map((function(n){return{cells:n,generators:t.generators,clipboard:t.clipboard}}))},$d=function(n,t){return t.mergable},Xd=function(n,t){return t.unmergable},Gd=function(n,t){return Hd(n,t,S)},Yd=function(n,t){return Hd(n,t,(function(n){return!n.isLocked}))},Jd=function(n,t){return Ud(n,t).exists((function(n){return!n.isLocked}))},Zd=function(n,t){return G(t,(function(t){return Jd(n,t)}))},Qd=function(n,t){return $d(n,t).filter((function(t){return Zd(n,t.cells)}))},nm=function(n,t){return Xd(n,t).filter((function(t){return Zd(n,t)}))},tm=function(n,t,e,r){var o=$r(n).rows;if(0===o.length)return n;for(var u=t.startRow;u<=t.finishRow;u++)for(var i=t.startCol;i<=t.finishCol;i++){var a=o[u],c=Vr(a,i).isLocked;zr(a,i,Zt(r(),!1,c))}return n},em=function(n,t,e,r){for(var o=$r(n).rows,u=!0,i=0;i<o.length;i++)for(var a=0;a<Kr(o[0]);a++){var c=o[i],l=Vr(c,a),f=l.element,s=e(f,t);!0===s&&!1===u?zr(c,a,Zt(r(),!0,l.isLocked)):!0===s&&(u=!1)}return n},rm=function(n,t){return H(n,(function(n,e){return M(n,(function(n){return t(n.element,e.element)}))?n:n.concat([e])}),[])},om=function(n,t,e,r){return t>0&&t<n[0].cells.length&&j(n,(function(n){var o=n.cells[t-1],u=n.cells[t],i=e(u.element,o.element);i&&zr(n,t,Zt(r(),!0,u.isLocked))})),n},um=function(n,t,e,r){var o=$r(n).rows;if(t>0&&t<o.length){var u=o[t-1].cells,i=rm(u,e);j(i,(function(n){for(var u=E.none(),i=t;i<o.length;i++)for(var a=function(t){var a=o[i],c=Vr(a,t),l=e(c.element,n.element);l&&(u.isNone()&&(u=E.some(r())),u.each((function(n){zr(a,t,Zt(n,!0,c.isLocked))})))},c=0;c<Kr(o[0]);c++)a(c)}))}return n},im=function(n){var t=function(t){return im(n)},e=function(t){return im(n)},r=function(t){return im(t(n))},o=function(t){return im(n)},u=function(t){t(n)},i=function(t){return t(n)},a=function(t,e){return e(n)},c=function(t){return t(n)},l=function(t){return t(n)},f=function(){return E.some(n)};return{isValue:S,isError:T,getOr:v(n),getOrThunk:v(n),getOrDie:v(n),or:t,orThunk:e,fold:a,map:r,mapError:o,each:u,bind:i,exists:c,forall:l,toOptional:f}},am=function(n){var t=function(n){return n()},e=function(){return x(String(n))()},r=b,o=function(n){return n()},u=function(t){return am(n)},i=function(t){return am(t(n))},a=function(t){return am(n)},c=function(t,e){return t(n)};return{isValue:T,isError:S,getOr:b,getOrThunk:t,getOrDie:e,or:r,orThunk:o,fold:c,map:u,mapError:i,each:p,bind:a,exists:T,forall:S,toOptional:E.none}},cm=function(n,t){return n.fold((function(){return am(t)}),im)},lm={value:im,error:am,fromOption:cm},fm=function(n,t,e){if(n.row>=t.length||n.column>Kr(t[0]))return lm.error("invalid start address out of table bounds, row: "+n.row+", column: "+n.column);var r=t.slice(n.row),o=r[0].cells.slice(n.column),u=Kr(e[0]),i=e.length;return lm.value({rowDelta:r.length-i,colDelta:o.length-u})},sm=function(n,t){var e=Kr(n[0]),r=Kr(t[0]);return{rowDelta:0,colDelta:e-r}},dm=function(n,t){var e=n.length,r=t.length;return{rowDelta:e-r,colDelta:0}},mm=function(n,t,e,r){var o="colgroup"===t.section?e.col:e.cell;return N(n,(function(n){return Zt(o(),!0,r(n))}))},pm=function(n,t,e,r){var o=n[n.length-1];return n.concat(N(t,(function(){var n="colgroup"===o.section?e.colgroup:e.row,t=Xr(o,n,b),u=mm(t.cells.length,t,e,(function(n){return Wt(r,n.toString())}));return Ur(t,u)})))},gm=function(n,t,e,r){return I(n,(function(n){var o=mm(t,n,e,T);return Lr(n,r,o)}))},hm=function(n,t,e){return I(n,(function(n){return H(e,(function(e,r){var o=mm(1,n,t,S)[0];return Wr(e,r,o)}),n)}))},vm=function(n,t,e){var r=t.colDelta<0?gm:b,o=t.rowDelta<0?pm:b,u=Jr(n),i=Kr(n[0]),a=M(u,(function(n){return n===i-1})),c=r(n,Math.abs(t.colDelta),e,a?i-1:i),l=Jr(c);return o(c,Math.abs(t.rowDelta),e,J(l,S))},bm=function(n,t,e,r){var o=Vr(n[t],e),u=w(r,o.element),i=n[t];return n.length>1&&Kr(i)>1&&(e>0&&u(qr(i,e-1))||e<i.cells.length-1&&u(qr(i,e+1))||t>0&&u(qr(n[t-1],e))||t<n.length-1&&u(qr(n[t+1],e)))},ym=function(n,t,e,r,o,u){for(var i=n.row,a=n.column,c=e.length,l=Kr(e[0]),f=i+c,s=a+l+u.length,d=J(u,S),m=i;m<f;m++)for(var p=0,g=a;g<s;g++)if(d[g])p++;else{bm(t,m,g,o)&&em(t,qr(t[m],g),o,r.cell);var h=g-a-p,v=Vr(e[m-i],h),b=v.element,y=r.replace(b);zr(t[m],g,Zt(y,!0,v.isLocked))}return t},wm=function(n,t,e){var r=Kr(t[0]),o=$r(t).cols.length+n.row,u=N(r-n.column,(function(t){return t+n.column})),i=q(u,(function(n){return G(e,(function(t){return t!==n}))})).getOr(r-1);return{row:o,column:i}},Cm=function(n,t,e){return z(e,(function(e){return e>=n.column&&e<=Kr(t[0])+n.column}))},xm=function(n,t,e,r,o){var u=Jr(t),i=wm(n,t,u),a=$r(e).rows,c=Cm(i,a,u),l=fm(i,t,a);return l.map((function(n){var e=on(on({},n),{colDelta:n.colDelta-c.length}),u=vm(t,e,r),l=Jr(u),f=Cm(i,a,l);return ym(i,u,a,r,o,f)}))},Tm=function(n,t,e,r,o){om(t,n,o,r.cell);var u=dm(e,t),i=vm(e,u,r),a=dm(t,i),c=vm(t,a,r);return I(c,(function(t,e){return Lr(t,n,i[e].cells)}))},Sm=function(n,t,e,r,o){um(t,n,o,r.cell);var u=Jr(t),i=sm(t,e),a=on(on({},i),{colDelta:i.colDelta-u.length}),c=vm(t,a,r),l=$r(c),f=l.cols,s=l.rows,d=Jr(c),m=sm(e,t),p=on(on({},m),{colDelta:m.colDelta+d.length}),g=hm(e,r,d),h=vm(g,p,r);return f.concat(s.slice(0,n)).concat(h).concat(s.slice(n,s.length))},Dm=function(n,t,e,r){return Xr(n,(function(n){return r(n,e)}),t)},Am=function(n,t,e,r,o){var u=$r(n),i=u.rows,a=u.cols,c=i.slice(0,t),l=i.slice(t),f=Dm(i[e],(function(n,e){var u=t>0&&t<i.length&&r(qr(i[t-1],e),qr(i[t],e)),a=u?Vr(i[t],e):Zt(o(n.element,r),!0,n.isLocked);return a}),r,o);return a.concat(c).concat([f]).concat(l)},Rm=function(n,t,e,r,o,u,i){if("colgroup"!==e&&r)return Vr(n,t);var a=Vr(n,o);return Zt(i(a.element,u),!0,!1)},Om=function(n,t,e,r,o){return I(n,(function(n){var u=t>0&&t<Kr(n)&&r(qr(n,t-1),qr(n,t)),i=Rm(n,t,n.section,u,e,r,o);return Wr(n,t,i)}))},Em=function(n,t){return X(n,(function(n){var e=n.cells,r=U(t,(function(n,t){return t>=0&&t<n.length?n.slice(0,t).concat(n.slice(t+1)):n}),e);return r.length>0?[Qt(n.element,r,n.section,n.isNew)]:[]}))},km=function(n,t,e){var r=$r(n),o=r.rows,u=r.cols;return u.concat(o.slice(0,t)).concat(o.slice(e+1))},Pm=function(n,t,e,r){return void 0!==qr(n[t],e)&&t>0&&r(qr(n[t-1],e),qr(n[t],e))},Fm=function(n,t,e){return t>0&&e(qr(n,t-1),qr(n,t))},_m=function(n,t,e,r){return Pm(n,t,e,r)||Fm(n[t],e,r)},Bm=function(n,t){var e=G(t,b)&&gd(n.cells);return e?S:function(n,e,r){var o=re(n.element);return!("th"===o&&t[r])}},Mm=function(n,t){var e=G(t,b)&&gd(n);return e?S:function(n,e,r){var o=re(n.element);return!("th"===o&&t[e])}},Nm=function(n,t,e,r){var o=function(n){return"row"===n?xr(t):Cr(t)},u=function(n){return o(n)?n+"group":n};if(n)return pd(t)?u(e):null;if(r&&pd(t)){var i="row"===e?"col":"row";return u(i)}return null},Im=function(n,t){return function(e,r,o){return E.some(Nm(n,e.element,"col",t[o]))}},jm=function(n,t){return function(e,r){return E.some(Nm(n,e.element,"row",t[r]))}},Lm=function(n,t,e){return Zt(e(n.element,t),!0,n.isLocked)},Wm=function(n,t,e,r,o,u,i){var a=function(n){return M(t,(function(t){return e(n.element,t.element)}))};return I(n,(function(n,t){return Hr(n,(function(n,c){if(a(n)){var l=i(n,t,c)?o(n,e,r):n;return u(l,t,c).each((function(n){Ze(l.element,{scope:E.from(n)})})),l}return n}))}))},zm=function(n,t,e){return X(n,(function(r,o){return _m(n,o,t,e)?[]:[Vr(r,t)]}))},Um=function(n,t,e){var r=n[t];return X(r.cells,(function(r,o){return _m(n,t,o,e)?[]:[r]}))},Hm=function(n,t,e,r,o){var u=$r(n).rows,i=X(t,(function(n){return zm(u,n,r)})),a=I(n,(function(n){return gd(n.cells)})),c=Mm(i,a),l=jm(e,a);return Wm(n,i,r,o,Lm,l,c)},Vm=function(n,t,e,r,o,u,i){var a=$r(n),c=a.cols,l=a.rows,f=l[t[0]],s=X(t,(function(n){return Um(l,n,o)})),d=I(f.cells,(function(n,t){return gd(zm(l,t,o))})),m=un([],l,!0);j(t,(function(n){m[n]=i.transformRow(l[n],e)}));var p=c.concat(m),g=Bm(f,d),h=Im(r,d);return Wm(p,s,o,u,i.transformCell,h,g)},qm=function(n,t,e,r){var o=$r(n).rows,u=I(t,(function(n){return Vr(o[n.row],n.column)}));return Wm(n,u,e,r,Lm,E.none,S)},Km=function(n){var t=function(n,t){var e=M(n,(function(n){return n.column===t.column}));return e?n:n.concat([t])};return H(n,t,[]).sort((function(n,t){return n.column-t.column}))},$m=se("col"),Xm=se("colgroup"),Gm=function(n){return"tr"===re(n)||Xm(n)},Ym=function(n){var t=yr(n,"colspan",1),e=yr(n,"rowspan",1);return{element:n,colspan:t,rowspan:e}},Jm=function(n,t){void 0===t&&(t=Ym);var e=function(t){return $m(t.element)?n.col(t):n.cell(t)},r=function(t){return Xm(t.element)?n.colgroup(t):n.row(t)},o=function(n){if(Gm(n))return r({element:n});var o=e(t(n));return u=E.some({item:n,replacement:o}),o},u=E.none(),i=function(n,t){return u.fold((function(){return o(n)}),(function(e){return t(n,e.item)?e.replacement:o(n)}))};return{getOrInit:i}},Zm=function(n){return function(t){var e=[],r=function(n,t){return q(e,(function(e){return t(e.item,n)}))},o=function(r){var o="td"===n?{scope:null}:{},u=t.replace(r,n,o);return e.push({item:r,sub:u}),u},u=function(n,t){return Gm(n)||$m(n)?n:r(n,t).fold((function(){return o(n)}),(function(e){return t(n,e.item)?e.sub:o(n)}))};return{replaceOrInit:u}}},Qm=function(n){return nr(n,"scope").map((function(n){return n.substr(0,3)}))},np=function(n){var t=function(t){var e=Qm(t);return e.each((function(n){return Ye(t,"scope",n)})),function(){var r=n.cell({element:t,colspan:1,rowspan:1});return vr(r,"width"),vr(t,"width"),e.each((function(n){return Ye(r,"scope",n)})),r}},e=function(n){var t=function(){var t=or(I(n,Qm));if(0===t.length)return E.none();var e=t[0],r=["row","col"],o=M(t,(function(n){return n!==e&&B(r,n)}));return o?E.none():E.from(e)};return vr(n[0],"width"),t().fold((function(){return tr(n[0],"scope")}),(function(t){return Ye(n[0],"scope",t+"group")})),v(n[0])};return{unmerge:t,merge:e}},tp={modification:Jm,transform:Zm,merging:np},ep=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],rp=function(n,t){var e=n.property().name(t);return B(["ol","ul"],e)},op=function(n,t){var e=n.property().name(t);return B(ep,e)},up=function(n,t){return B(["br","img","hr","input"],n.property().name(t))},ip=Ho(),ap=function(n){return op(ip,n)},cp=function(n){return rp(ip,n)},lp=function(n){return up(ip,n)},fp=function(n){var t=function(n){return"br"===re(n)},e=function(n){return G(n,(function(n){return t(n)||ce(n)&&0===Lo(n).trim().length}))},r=function(n){return"li"===re(n)||ze(n,cp).isSome()},o=function(n){return ye(n).map((function(n){return!!ap(n)||!!lp(n)&&"img"!==re(n)})).getOr(!1)},u=function(n){return Ea(n).bind((function(e){var u=o(e);return ge(e).map((function(o){return!0===u||r(o)||t(e)||ap(o)&&!Tt(n,o)?[]:[bt.fromTag("br")]}))})).getOr([])},i=function(){var t=X(n,(function(n){var t=we(n);return e(t)?[]:t.concat(u(n))}));return 0===t.length?[bt.fromTag("br")]:t},a=i();Bo(n[0]),_o(n[0],a)},sp=function(n){return Tf(n,!0)},dp=function(n){var t=kr(n);0===t.length&&Mo(n)},mp=function(n,t){return{grid:n,cursor:t}},pp=function(n){return rn(n,(function(n){return rn(n.cells,(function(n){var t=n.element;return cr(sp(t),t)}))}))},gp=function(n,t,e){var r,o,u=$r(n).rows;return E.from(null===(o=null===(r=u[t])||void 0===r?void 0:r.cells[e])||void 0===o?void 0:o.element).filter(sp).orThunk((function(){return pp(u)}))},hp=function(n,t,e){var r=gp(n,t,e);return mp(n,r)},vp=function(n){var t=function(n,t){var e=M(n,(function(n){return n.row===t.row}));return e?n:n.concat([t])};return H(n,t,[]).sort((function(n,t){return n.row-t.row}))},bp=function(n,t,e,r){var o=t[0].row,u=vp(t),i=U(u,(function(n,t){var u=Am(n.grid,o,t.row+n.delta,e,r.getOrInit);return{grid:u,delta:n.delta+1}}),{grid:n,delta:0}).grid;return hp(i,o,t[0].column)},yp=function(n,t,e,r){var o=vp(t),u=o[o.length-1],i=u.row+u.rowspan,a=U(o,(function(n,t){return Am(n,i,t.row,e,r.getOrInit)}),n);return hp(a,i,t[0].column)},wp=function(n,t,e,r){var o=t.details,u=Km(o),i=u[0].column,a=U(u,(function(n,t){var o=Om(n.grid,i,t.column+n.delta,e,r.getOrInit);return{grid:o,delta:n.delta+1}}),{grid:n,delta:0}).grid;return hp(a,o[0].row,i)},Cp=function(n,t,e,r){var o=t.details,u=o[o.length-1],i=u.column+u.colspan,a=Km(o),c=U(a,(function(n,t){return Om(n,i,t.column,e,r.getOrInit)}),n);return hp(c,o[0].row,i)},xp=function(n,t,e,r){var o=Km(t),u=I(o,(function(n){return n.column})),i=Hm(n,u,!0,e,r.replaceOrInit);return hp(i,t[0].row,t[0].column)},Tp=function(n,t,e,r){var o=qm(n,t,e,r.replaceOrInit);return hp(o,t[0].row,t[0].column)},Sp=function(n,t,e,r){var o=Km(t),u=I(o,(function(n){return n.column})),i=Hm(n,u,!1,e,r.replaceOrInit);return hp(i,t[0].row,t[0].column)},Dp=function(n,t,e,r){var o=qm(n,t,e,r.replaceOrInit);return hp(o,t[0].row,t[0].column)},Ap=function(n,t){return function(e,r,o,u,i){var a=vp(r),c=I(a,(function(n){return n.row})),l=Vm(e,c,n,t,o,u.replaceOrInit,i);return hp(l,r[0].row,r[0].column)}},Rp=Ap("thead",!0),Op=Ap("tbody",!1),Ep=Ap("tfoot",!1),kp=function(n,t,e,r){var o=Km(t.details),u=Em(n,I(o,(function(n){return n.column}))),i=u.length>0?u[0].cells.length-1:0;return hp(u,o[0].row,Math.min(o[0].column,i))},Pp=function(n,t,e,r){var o=vp(t),u=km(n,o[0].row,o[o.length-1].row),i=u.length>0?u.length-1:0;return hp(u,Math.min(t[0].row,i),t[0].column)},Fp=function(n,t,e,r){var o=t.cells;fp(o);var u=tm(n,t.bounds,e,r.merge(o));return mp(u,E.from(o[0]))},_p=function(n,t,e,r){var o=function(n,t){return em(n,t,e,r.unmerge(t))},u=U(t,o,n);return mp(u,E.from(t[0]))},Bp=function(n,t,e,r){var o=function(n,t){var e=lo.fromTable(n);return Ld(e,t,!0)},u=o(t.clipboard,t.generators),i=Kt(t.row,t.column),a=xm(i,n,u,t.generators,e);return a.fold((function(){return mp(n,E.some(t.element))}),(function(n){return hp(n,t.row,t.column)}))},Mp=function(n,t,e){var r=jr(n,e.section),o=lo.generate(r);return Ld(o,t,!0)},Np=function(n,t,e,r){var o=$r(n).rows,u=t.cells[0].column,i=o[t.cells[0].row],a=Mp(t.clipboard,t.generators,i),c=Tm(u,n,a,t.generators,e);return hp(c,t.cells[0].row,t.cells[0].column)},Ip=function(n,t,e,r){var o=$r(n).rows,u=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,i=o[t.cells[0].row],a=Mp(t.clipboard,t.generators,i),c=Tm(u,n,a,t.generators,e);return hp(c,t.cells[0].row,t.cells[0].column)},jp=function(n,t,e,r){var o=$r(n).rows,u=t.cells[0].row,i=o[u],a=Mp(t.clipboard,t.generators,i),c=Sm(u,n,a,t.generators,e);return hp(c,t.cells[0].row,t.cells[0].column)},Lp=function(n,t,e,r){var o=$r(n).rows,u=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,i=o[t.cells[0].row],a=Mp(t.clipboard,t.generators,i),c=Sm(u,n,a,t.generators,e);return hp(c,t.cells[0].row,t.cells[0].column)},Wp=function(n,t){var e=lo.fromTable(n),r=Gd(e,t);return r.bind((function(n){var t=n[n.length-1],r=n[0].column,o=t.column+t.colspan,u=$(I(e.all,(function(n){return z(n.cells,(function(n){return n.column>=r&&n.column<o}))})));return bd(u)})).getOr("")},zp=function(n,t){var e=lo.fromTable(n),r=Gd(e,t);return r.bind(bd).getOr("")},Up=function(n,t){var e=lo.fromTable(n),r=Gd(e,t);return r.bind((function(n){var t=n[n.length-1],r=n[0].row,o=t.row+t.rowspan,u=e.all.slice(r,o);return yd(u)})).getOr("")},Hp=function(n,t,e,r){return Vc(n,t,e,r.sizing)},Vp=function(n,t,e,r){return Hc(n,t,e,r.sizing,r.resize)},qp=function(n,t){return M(t,(function(n){return 0===n.column&&n.isLocked}))},Kp=function(n,t){return M(t,(function(t){return t.column+t.colspan>=n.grid.columns&&t.isLocked}))},$p=function(n,t){var e=zu(n),r=Km(t);return H(r,(function(n,t){var r=e[t.column],o=r.map(ju).getOr(0);return n+o}),0)},Xp=function(n){return function(t,e){return Gd(t,e).filter((function(e){var r=n?qp:Kp;return!r(t,e)})).map((function(n){return{details:n,pixelDelta:$p(t,n)}}))}},Gp=function(n,t){return Yd(n,t).map((function(t){return{details:t,pixelDelta:-$p(n,t)}}))},Yp=function(n){return function(t,e){return Kd(t,e).filter((function(e){var r=n?qp:Kp;return!r(t,e.cells)}))}},Jp=tp.transform("th"),Zp=tp.transform("td"),Qp=Vd(bp,Gd,p,p,tp.modification),ng=Vd(yp,Gd,p,p,tp.modification),tg=Vd(wp,Xp(!0),Vp,p,tp.modification),eg=Vd(Cp,Xp(!1),Vp,p,tp.modification),rg=Vd(kp,Gp,Vp,dp,tp.modification),og=Vd(Pp,Gd,p,dp,tp.modification),ug=Vd(xp,Yd,p,p,Jp),ig=Vd(Sp,Yd,p,p,Zp),ag=Vd(Rp,Yd,p,p,Jp),cg=Vd(Op,Yd,p,p,Zp),lg=Vd(Ep,Yd,p,p,Zp),fg=Vd(Tp,Yd,p,p,Jp),sg=Vd(Dp,Yd,p,p,Zp),dg=Vd(Fp,Qd,Hp,p,tp.merging),mg=Vd(_p,nm,Hp,p,tp.merging),pg=Vd(Bp,qd,Hp,p,tp.modification),gg=Vd(Np,Yp(!0),p,p,tp.modification),hg=Vd(Ip,Yp(!1),p,p,tp.modification),vg=Vd(jp,Kd,p,p,tp.modification),bg=Vd(Lp,Kd,p,p,tp.modification),yg=Wp,wg=zp,Cg=Up,xg=function(n,t,e){var r=function(n){return"table"===re(qa(n))},o=function(t){return!1===r(n)||Sl(t).rows>1},u=function(t){return!1===r(n)||Sl(t).columns>1},i=zs(n),a=Ws(n)?p:md,c=function(t){switch(Is(n)){case"section":return Od.section();case"sectionCells":return Od.sectionCells();case"cells":return Od.cells();default:return Od.getTableSectionType(t,"section")}},l=function(e,r){return r.cursor.fold((function(){var r=kr(e);return tn(r).filter(Pe).map((function(r){t.clear(e);var o=n.dom.createRng();return o.selectNode(r.dom),n.selection.setRng(o),Ye(r,"data-mce-selected","1"),o}))}),(function(r){var o=dd(r),u=n.dom.createRng();return u.setStart(o.element.dom,o.offset),u.setEnd(o.element.dom,o.offset),n.selection.setRng(u),t.clear(e),E.some(u)}))},f=function(t,e,r,o,u){return function(a,f,s){void 0===s&&(s=!1),Ja(a);var d=o(),m=bt.fromDom(n.getDoc()),p=Wa(r,m,i),g={sizing:qs(n,a),resize:Ws(n)?Yc():Jc(),section:c(a)};return e(a)?t(d,a,f,p,g).bind((function(t){j(t.newRows,(function(t){Zf(n,t.dom)})),j(t.newCells,(function(t){Qf(n,t.dom)}));var e=l(a,t);return Pe(a)&&(Ja(a),s||os(n,a.dom,u)),e.map((function(n){return{rng:n,effect:u}}))})):E.none()}},s=f(og,o,p,e,is),d=f(rg,u,p,e,is),m=f(Qp,S,p,e,is),g=f(ng,S,p,e,is),h=f(tg,S,a,e,is),v=f(eg,S,a,e,is),b=f(dg,S,p,e,is),y=f(mg,S,p,e,is),w=f(gg,S,p,e,is),C=f(hg,S,p,e,is),x=f(vg,S,p,e,is),T=f(bg,S,p,e,is),D=f(pg,S,p,e,as),A=f(fg,S,p,e,is),R=f(sg,S,p,e,is),O=f(ug,S,p,e,is),k=f(ig,S,p,e,is),P=f(ag,S,p,e,is),F=f(cg,S,p,e,is),_=f(lg,S,p,e,is),B=wg,M=yg,N=Cg;return{deleteRow:s,deleteColumn:d,insertRowsBefore:m,insertRowsAfter:g,insertColumnsBefore:h,insertColumnsAfter:v,mergeCells:b,unmergeCells:y,pasteColsBefore:w,pasteColsAfter:C,pasteRowsBefore:x,pasteRowsAfter:T,pasteCells:D,makeCellsHeader:A,unmakeCellsHeader:R,makeColumnsHeader:O,unmakeColumnsHeader:k,makeRowsHeader:P,makeRowsBody:F,makeRowsFooter:_,getTableRowType:N,getTableCellType:B,getTableColType:M}},Tg={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Sg=function(){return bt.fromTag("th")},Dg=function(){return bt.fromTag("td")},Ag=function(){return bt.fromTag("col")},Rg=function(n,t,e,r){for(var o=bt.fromTag("tr"),u=0;u<n;u++){var i=r<t||u<e?Sg():Dg();u<e&&Ye(i,"scope","row"),r<t&&Ye(i,"scope","col"),Oo(i,bt.fromTag("br")),Oo(o,i)}return o},Og=function(n){var t=bt.fromTag("colgroup");return N(n,(function(){return Oo(t,Ag())})),t},Eg=function(n,t,e,r){return N(n,(function(n){return Rg(t,e,r,n)}))},kg=function(n,t,e,r,o,u){void 0===u&&(u=Tg);var i=bt.fromTag("table"),a="cells"!==o;mr(i,u.styles),Je(i,u.attributes),u.colGroups&&Oo(i,Og(t));var c=Math.min(n,e);if(a&&e>0){var l=bt.fromTag("thead");Oo(i,l);var f="sectionCells"===o?c:0,s=Eg(e,t,f,r);_o(l,s)}var d=bt.fromTag("tbody");Oo(i,d);var m=a?n-c:n,p=a?0:e,g=Eg(m,t,p,r);return _o(d,g),i},Pg=function(n){return n.dom.innerHTML},Fg=function(n){var t=bt.fromTag("div"),e=bt.fromDom(n.dom.cloneNode(!0));return Oo(t,e),Pg(t)},_g=function(n,t){n.selection.select(t.dom,!0),n.selection.collapse(!0)},Bg=function(n,t){$e(t,"td,th").each(w(_g,n))},Mg=function(n,t){j(Le(t,"tr"),(function(t){Zf(n,t.dom),j(Le(t,"th,td"),(function(t){Qf(n,t.dom)}))}))},Ng=function(n){return o(n)&&-1!==n.indexOf("%")},Ig=function(n,t,e,r,o){var u=ws(n),i={styles:u,attributes:ys(n),colGroups:Ns(n)};return n.undoManager.ignore((function(){var u=kg(e,t,o,r,Is(n),i);Ye(u,"data-mce-id","__mce");var a=Fg(u);n.insertContent(a),n.addVisual()})),$e(qa(n),'table[data-mce-id="__mce"]').map((function(t){return _s(n)?Js(t):Bs(n)?Zs(t):(Fs(n)||Ng(u.width))&&Ys(t),Ja(t),tr(t,"data-mce-id"),Mg(n,t),Bg(n,t),t.dom})).getOr(null)},jg=function(n,t,e,r,o){void 0===r&&(r={});var u=function(n){return m(n)&&n>0};if(u(t)&&u(e)){var i=r.headerRows||0,a=r.headerColumns||0;return Ig(n,e,t,a,i)}return console.error(o),null},Lg=function(n){return function(){return n().fold((function(){return[]}),(function(n){return I(n,(function(n){return n.dom}))}))}},Wg=function(n){return function(t){var e=t.length>0?E.some(Ha(t)):E.none();n(e)}},zg=function(n){return function(t,e,r){void 0===r&&(r={});var o=jg(n,e,t,r,"Invalid values for insertTable - rows and columns values are required to insert a table.");return n.undoManager.add(),o}},Ug=function(n,t,e,r){return{insertTable:zg(n),setClipboardRows:Wg(t.setRows),getClipboardRows:Lg(t.getRows),setClipboardCols:Wg(t.setColumns),getClipboardCols:Lg(t.getColumns),resizeHandler:e,selectionTargets:r}},Hg=function(n,t,e){var r=yr(n,t,1);1===e||r<=1?tr(n,t):Ye(n,t,Math.min(e,r))},Vg=function(n,t,e){if(lo.hasColumns(n)){var r=z(lo.justColumns(n),(function(n){return n.column>=t&&n.column<e})),o=I(r,(function(n){var r=Cu(n.element);return Hg(r,"span",e-t),r})),u=bt.fromTag("colgroup");return _o(u,o),[u]}return[]},qg=function(n,t,e){return I(n.all,(function(n){var r=z(n.cells,(function(n){return n.column>=t&&n.column<e})),o=I(r,(function(n){var r=Cu(n.element);return Hg(r,"colspan",e-t),r})),u=bt.fromTag("tr");return _o(u,o),u}))},Kg=function(n,t){var e=lo.fromTable(n),r=Yd(e,t);return r.map((function(n){var t=n[n.length-1],r=n[0].column,o=t.column+t.colspan,u=Vg(e,r,o),i=qg(e,r,o);return un(un([],u,!0),i,!0)}))},$g=function(n,t,e){var r=lo.fromTable(n),o=Gd(r,t);return o.bind((function(n){var t=Ld(r,e,!1),o=$r(t).rows,u=o.slice(n[0].row,n[n.length-1].row+n[n.length-1].rowspan),i=X(u,(function(n){var t=z(n.cells,(function(n){return!n.isLocked}));return t.length>0?[on(on({},n),{cells:t})]:[]})),a=zd(i);return cr(a.length>0,a)})).map((function(n){return _d(n)}))},Xg=tinymce.util.Tools.resolve("tinymce.util.Tools"),Gg=function(n,t,e){var r,o=n.select("td,th",t),u=function(t,r){for(var o=0;o<r.length;o++){var u=n.getStyle(r[o],e);if("undefined"===typeof t&&(t=u),t!==u)return""}return t};return u(r,o)},Yg=function(n,t,e){e&&n.formatter.apply("align"+e,{},t)},Jg=function(n,t,e){e&&n.formatter.apply("valign"+e,{},t)},Zg=function(n,t){Xg.each("left center right".split(" "),(function(e){n.formatter.remove("align"+e,{},t)}))},Qg=function(n,t){Xg.each("top middle bottom".split(" "),(function(e){n.formatter.remove("valign"+e,{},t)}))},nh=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],th=function(n){return{value:n}},eh=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,rh=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,oh=function(n){return eh.test(n)||rh.test(n)},uh=function(n){return Cn(n,"#").toUpperCase()},ih=function(n){return oh(n)?E.some({value:uh(n)}):E.none()},ah=function(n){var t=n.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},ch=function(n){var t=ah(n.red)+ah(n.green)+ah(n.blue);return th(t)},lh=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,fh=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,sh=function(n,t,e,r){return{red:n,green:t,blue:e,alpha:r}},dh=function(n,t,e,r){var o=parseInt(n,10),u=parseInt(t,10),i=parseInt(e,10),a=parseFloat(r);return sh(o,u,i,a)},mh=function(n){if("transparent"===n)return E.some(sh(0,0,0,0));var t=lh.exec(n);if(null!==t)return E.some(dh(t[1],t[2],t[3],"1"));var e=fh.exec(n);return null!==e?E.some(dh(e[1],e[2],e[3],e[4])):E.none()},ph=function(n){return ih(n).orThunk((function(){return mh(n).map(ch)})).getOrThunk((function(){var t=document.createElement("canvas");t.height=1,t.width=1;var e=t.getContext("2d");e.clearRect(0,0,t.width,t.height),e.fillStyle="#FFFFFF",e.fillStyle=n,e.fillRect(0,0,1,1);var r=e.getImageData(0,0,1,1).data,o=r[0],u=r[1],i=r[2],a=r[3];return ch(sh(o,u,i,a))}))},gh=function(n){var t=n,e=function(){return t},r=function(n){t=n};return{get:e,set:r}},hh=function(n){var t=gh(E.none()),e=function(){return t.get().each(n)},r=function(){e(),t.set(E.none())},o=function(){return t.get().isSome()},u=function(){return t.get()},i=function(n){e(),t.set(E.some(n))};return{clear:r,isSet:o,get:u,set:i}},vh=function(){return hh((function(n){return n.unbind()}))},bh=function(){var n=hh(p),t=function(t){return n.get().each(t)};return on(on({},n),{on:t})},yh=function(n,t,e,r){return function(o){var u=vh(),i=On(r),a=function(){var a=Tc(t),c=function(t){return n.formatter.match(e,{value:r},t.dom,i)};i?(o.setActive(!M(a,c)),u.set(n.formatter.formatChanged(e,(function(n){return o.setActive(!n)}),!0))):(o.setActive(G(a,c)),u.set(n.formatter.formatChanged(e,o.setActive,!1,{value:r})))};return n.initialized?a():n.on("init",a),u.clear}},wh=function(n){return zt(n,"menu")},Ch=function(n){return I(n,(function(n){var t=n.text||n.title;return wh(n)?{text:t,items:Ch(n.menu)}:{text:t,value:n.value}}))},xh=function(n,t,e,r,o){return I(e,(function(e){var u=e.text||e.title;return wh(e)?{type:"nestedmenuitem",text:u,getSubmenuItems:function(){return xh(n,t,e.menu,r,o)}}:{text:u,type:"togglemenuitem",onAction:function(){return o(e.value)},onSetup:yh(n,t,r,e.value)}}))},Th=function(n,t){return function(e){var r;n.execCommand("mceTableApplyCellStyle",!1,(r={},r[t]=e,r))}},Sh=function(n){return X(n,(function(n){return wh(n)?[on(on({},n),{menu:Sh(n.menu)})]:Rn(n.value)?[n]:[]}))},Dh=function(n,t,e,r,o){return function(u){return u(xh(n,t,e,r,o))}},Ah=function(n,t,e){var r=I(t,(function(n){return{text:n.title,value:"#"+ph(n.value).value,type:"choiceitem"}}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:r.length>0?r:void 0,allowCustomColors:!1},onAction:function(t){var r,o="remove"===t.value?"":t.value;n.execCommand("mceTableApplyCellStyle",!1,(r={},r[e]=o,r))}}]},Rh=function(n){return function(){var t=n.queryCommandValue("mceTableRowType"),e="header"===t?"body":"header";n.execCommand("mceTableRowType",!1,{type:e})}},Oh=function(n){return function(){var t=n.queryCommandValue("mceTableColType"),e="th"===t?"td":"th";n.execCommand("mceTableColType",!1,{type:e})}},Eh=function(n){var t=Ch(Es(n));return t.length>0?E.some({name:"class",type:"listbox",label:"Class",items:t}):E.none()},kh=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:nh}],Ph=function(n){return kh.concat(Eh(n).toArray())},Fh=function(n,t){var e=[{text:"Select...",value:""}],r=[{name:"borderstyle",type:"listbox",label:"Border style",items:e.concat(Ch(bs(n)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],o={name:"borderwidth",type:"input",label:"Border width"},u="cell"===t?[o].concat(r):r;return{title:"Advanced",name:"advanced",items:u}},_h=function(n){return function(t,e){var r=t.dom,o=function(t,o){n&&!o||r.setAttrib(e,t,o)},u=function(t,o){n&&!o||r.setStyle(e,t,o)},i=function(r,o){n&&!o||(""===o?t.formatter.remove(r,{value:null},e,!0):t.formatter.apply(r,{value:o},e))};return{setAttrib:o,setStyle:u,setFormat:i}}},Bh={normal:_h(!1),ifTruthy:_h(!0)},Mh=function(n){return function(t){return Tn(t,"rgb")?n.toHex(t):t}},Nh=function(n,t){var e=bt.fromDom(t);return{borderwidth:hr(e,"border-width").getOr(""),borderstyle:hr(e,"border-style").getOr(""),bordercolor:hr(e,"border-color").map(Mh(n)).getOr(""),backgroundcolor:hr(e,"background-color").map(Mh(n)).getOr("")}},Ih=function(n){var t=n[0],e=n.slice(1);return j(e,(function(n){j(Ot(t),(function(e){kt(n,(function(n,r){var o=t[e];""!==o&&e===r&&o!==n&&(t[e]="")}))}))})),t},jh=function(n,t,e,r){return q(n,(function(n){return!l(e.formatter.matchNode(r,t+n))})).getOr("")},Lh=w(jh,["left","center","right"],"align"),Wh=w(jh,["top","middle","bottom"],"valign"),zh=function(n,t){var e=ws(n),r=ys(n),o=function(n){return{borderstyle:Lt(e,"border-style").getOr(""),bordercolor:Mh(n)(Lt(e,"border-color").getOr("")),backgroundcolor:Mh(n)(Lt(e,"background-color").getOr(""))}},u={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},i=function(){var t=e["border-width"];return Os(n)&&t?{border:t}:Lt(r,"border").fold((function(){return{}}),(function(n){return{border:n}}))},a=t?o(n.dom):{},c=function(){var n=Lt(e,"border-spacing").or(Lt(r,"cellspacing")).fold((function(){return{}}),(function(n){return{cellspacing:n}})),t=Lt(e,"border-padding").or(Lt(r,"cellpadding")).fold((function(){return{}}),(function(n){return{cellpadding:n}}));return on(on({},n),t)},l=on(on(on(on(on(on({},u),e),r),a),i()),c());return l},Uh=function(n){return Fr(bt.fromDom(n)).map((function(t){var e={selection:Ha(n.cells)};return Cg(t,e)})).getOr("")},Hh=function(n,t,e){var r=function(t,e){var r=hr(bt.fromDom(e),"border-width");return Os(n)&&r.isSome()?r.getOr(""):t.getAttrib(e,"border")||Gg(n.dom,e,"border-width")||Gg(n.dom,e,"border")},o=n.dom,u=Os(n)?o.getStyle(t,"border-spacing")||o.getAttrib(t,"cellspacing"):o.getAttrib(t,"cellspacing")||o.getStyle(t,"border-spacing"),i=Os(n)?Gg(o,t,"padding")||o.getAttrib(t,"cellpadding"):o.getAttrib(t,"cellpadding")||Gg(o,t,"padding");return on({width:o.getStyle(t,"width")||o.getAttrib(t,"width"),height:o.getStyle(t,"height")||o.getAttrib(t,"height"),cellspacing:u,cellpadding:i,border:r(o,t),caption:!!o.select("caption",t)[0],class:o.getAttrib(t,"class",""),align:Lh(n,t)},e?Nh(o,t):{})},Vh=function(n,t,e){var r=n.dom;return on({height:r.getStyle(t,"height")||r.getAttrib(t,"height"),class:r.getAttrib(t,"class",""),type:Uh(t),align:Lh(n,t)},e?Nh(r,t):{})},qh=function(n,t,e,r){var o=n.dom,u=r.getOr(t),i=function(n,t){return o.getStyle(n,t)||o.getAttrib(n,t)};return on({width:i(u,"width"),height:i(t,"height"),scope:o.getAttrib(t,"scope"),celltype:Va(t),class:o.getAttrib(t,"class",""),halign:Lh(n,t),valign:Wh(n,t)},e?Nh(o,t):{})},Kh=function(n,t){var e=lo.fromTable(n),r=lo.justCells(e),o=z(r,(function(n){return M(t,(function(t){return Tt(n.element,t)}))}));return I(o,(function(n){return{element:n.element.dom,column:lo.getColumnAt(e,n.column).map((function(n){return n.element.dom}))}}))},$h=function(n,t,e){n.setAttrib("scope",e.scope),n.setAttrib("class",e.class),n.setStyle("height",Ya(e.height)),t.setStyle("width",Ya(e.width))},Xh=function(n,t){n.setFormat("tablecellbackgroundcolor",t.backgroundcolor),n.setFormat("tablecellbordercolor",t.bordercolor),n.setFormat("tablecellborderstyle",t.borderstyle),n.setFormat("tablecellborderwidth",Ya(t.borderwidth))},Gh=function(n,t,e){var r=1===t.length;j(t,(function(t){var o=t.element,u=r?Bh.normal(n,o):Bh.ifTruthy(n,o),i=t.column.map((function(t){return r?Bh.normal(n,t):Bh.ifTruthy(n,t)})).getOr(u);$h(u,i,e),Ts(n)&&Xh(u,e),r&&(Zg(n,o),Qg(n,o)),e.halign&&Yg(n,o,e.halign),e.valign&&Jg(n,o,e.valign)}))},Yh=function(n,t){n.execCommand("mceTableCellType",!1,{type:t.celltype,no_events:!0})},Jh=function(n,t,e,r){var o=Mt(r,(function(n,t){return e[t]!==n}));jt(o)>0&&t.length>=1&&Fr(t[0]).each((function(e){var u=Kh(e,t),i=jt(Mt(o,(function(n,t){return"scope"!==t&&"celltype"!==t})))>0,a=Wt(o,"celltype");(i||Wt(o,"scope"))&&Gh(n,u,r),a&&Yh(n,r),os(n,e.dom,{structure:a,style:i})}))},Zh=function(n,t,e,r){var o=r.getData();r.close(),n.undoManager.transact((function(){Jh(n,t,e,o),n.focus()}))},Qh=function(n,t){var e=Fr(t[0]).map((function(e){return I(Kh(e,t),(function(t){return qh(n,t.element,Ts(n),t.column)}))}));return Ih(e.getOrDie())},nv=function(n,t){var e=Tc(t);if(0!==e.length){var r=Qh(n,e),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ph(n)},Fh(n,"cell")]},u={type:"panel",items:[{type:"grid",columns:2,items:Ph(n)}]};n.windowManager.open({title:"Cell Properties",size:"normal",body:Ts(n)?o:u,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onSubmit:w(Zh,n,e,r)})}},tv=function(n){var t=Ch(ks(n));return t.length>0?E.some({name:"class",type:"listbox",label:"Class",items:t}):E.none()},ev=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],rv=function(n){return ev.concat(tv(n).toArray())},ov=function(n,t){n.setAttrib("class",t.class),n.setStyle("height",Ya(t.height))},uv=function(n,t){n.setStyle("background-color",t.backgroundcolor),n.setStyle("border-color",t.bordercolor),n.setStyle("border-style",t.borderstyle)},iv=function(n,t,e,r){var o=1===t.length;j(t,(function(t){var u=o?Bh.normal(n,t):Bh.ifTruthy(n,t);ov(u,e),Ss(n)&&uv(u,e),e.align!==r.align&&(Zg(n,t),Yg(n,t,e.align))}))},av=function(n,t){n.execCommand("mceTableRowType",!1,{type:t.type,no_events:!0})},cv=function(n,t,e,r){var o=Mt(r,(function(n,t){return e[t]!==n}));if(jt(o)>0){var u=Wt(o,"type"),i=!u||jt(o)>1;i&&iv(n,t,r,e),u&&av(n,r),Fr(bt.fromDom(t[0])).each((function(t){return os(n,t.dom,{structure:u,style:i})}))}},lv=function(n,t,e,r){var o=r.getData();r.close(),n.undoManager.transact((function(){cv(n,t,e,o),n.focus()}))},fv=function(n){var t=Sc(tc(n),pc.selected);if(0!==t.length){var e=I(t,(function(t){return Vh(n,t.dom,Ss(n))})),r=Ih(e),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:rv(n)},Fh(n,"row")]},u={type:"panel",items:[{type:"grid",columns:2,items:rv(n)}]};n.windowManager.open({title:"Row Properties",size:"normal",body:Ss(n)?o:u,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onSubmit:w(lv,n,I(t,(function(n){return n.dom})),r)})}},sv=function(n,t,e){var r=e?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],o=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],u=As(n)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],i=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],a=t.length>0?[{type:"listbox",name:"class",label:"Class",items:t}]:[];return r.concat(o).concat(u).concat(i).concat(a)},dv=function(n,t,e,r){if("TD"===t.tagName||"TH"===t.tagName)o(e)?n.setStyle(t,e,r):n.setStyle(t,e);else if(t.children)for(var u=0;u<t.children.length;u++)dv(n,t.children[u],e,r)},mv=function(n,t,e){var r=n.dom,o={},u={};if(o.class=e.class,u.height=Ya(e.height),r.getAttrib(t,"width")&&!Os(n)?o.width=Ga(e.width):u.width=Ya(e.width),Os(n)?(u["border-width"]=Ya(e.border),u["border-spacing"]=Ya(e.cellspacing)):(o.border=e.border,o.cellpadding=e.cellpadding,o.cellspacing=e.cellspacing),Os(n)&&t.children)for(var i=0;i<t.children.length;i++)dv(r,t.children[i],{"border-width":Ya(e.border),padding:Ya(e.cellpadding)}),Ds(n)&&dv(r,t.children[i],{"border-color":e.bordercolor});Ds(n)&&(u["background-color"]=e.backgroundcolor,u["border-color"]=e.bordercolor,u["border-style"]=e.borderstyle),o.style=r.serializeStyle(on(on({},ws(n)),u)),r.setAttribs(t,on(on({},ys(n)),o))},pv=function(n,t,e,r){var o=n.dom,u=r.getData(),i=Mt(u,(function(n,t){return e[t]!==n}));r.close(),""===u.class&&delete u.class,n.undoManager.transact((function(){if(!t){var e=parseInt(u.cols,10)||1,r=parseInt(u.rows,10)||1;t=Ig(n,e,r,0,0)}if(jt(i)>0){mv(n,t,u);var a=o.select("caption",t)[0];(a&&!u.caption||!a&&u.caption)&&n.execCommand("mceTableToggleCaption"),""===u.align?Zg(n,t):Yg(n,t,u.align)}if(n.focus(),n.addVisual(),jt(i)>0){var c=Wt(i,"caption"),l=!c||jt(i)>1;os(n,t,{structure:c,style:l})}}))},gv=function(n,t){var e,r=n.dom,o=zh(n,Ds(n));!1===t?(e=r.getParent(n.selection.getStart(),"table",n.getBody()),e?o=Hh(n,e,Ds(n)):Ds(n)&&(o.borderstyle="",o.bordercolor="",o.backgroundcolor="")):(o.cols="1",o.rows="1",Ds(n)&&(o.borderstyle="",o.bordercolor="",o.backgroundcolor=""));var u=Ch(Ps(n));u.length>0&&o.class&&(o.class=o.class.replace(/\s*mce\-item\-table\s*/g,""));var i={type:"grid",columns:2,items:sv(n,u,t)},a=function(){return{type:"panel",items:[i]}},c=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[i]},Fh(n,"table")]}},l=Ds(n)?c():a();n.windowManager.open({title:"Table Properties",size:"normal",body:l,onSubmit:w(pv,n,e,o),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o})},hv=function(n){return Cc(tc(n),Xa(n))},vv=function(n){return xc(tc(n),Xa(n))},bv=function(n,t,e,r,i){var a=Xa(n),c=function(){return hv(n).each((function(t){Fr(t,a).filter(C(a)).each((function(t){var e=bt.fromText("");if(Ao(t,e),Mo(t),n.dom.isEmpty(n.getBody()))n.setContent(""),n.selection.setCursorLocation();else{var r=n.dom.createRng();r.setStart(e.dom,0),r.setEnd(e.dom,0),n.selection.setRng(r),n.nodeChanged()}}))}))},l=function(t){return hv(n).each((function(e){var r=Bs(n)||_s(n)||Fs(n);r||Fr(e,a).each((function(e){"relative"!==t||Cl(e)?"fixed"!==t||xl(e)?"responsive"!==t||Tl(e)||Zs(e):Js(e):Ys(e),Ja(e),os(n,e.dom,is)}))}))},f=function(n){return Fr(n,a)},s=function(t){return vv(n).bind((function(n){return f(n).map((function(e){return t(e,n)}))}))},d=function(t,e){s((function(t){n.formatter.toggle("tableclass",{value:e},t.dom),os(n,t.dom,us)}))},m=function(t,e){s((function(t){var o=Tc(r),u=G(o,(function(t){return n.formatter.match("tablecellclass",{value:e},t.dom)})),i=u?n.formatter.remove:n.formatter.apply;j(o,(function(n){return i("tablecellclass",{value:e},n.dom)})),os(n,t.dom,us)}))},g=function(){hv(n).each((function(t){Fr(t,a).each((function(e){Ke(e,"caption").fold((function(){var t=bt.fromTag("caption");Oo(t,bt.fromText("Caption")),Eo(e,t,0),n.selection.setCursorLocation(t.dom,0)}),(function(r){se("caption")(t)&&xt("td",e).each((function(t){return n.selection.setCursorLocation(t.dom,0)})),Mo(r)})),os(n,e.dom,is)}))}))},h=function(t){n.focus()},v=function(n,t){return void 0===t&&(t=!1),s((function(e,o){var u=hc(r,e,o);n(e,u,t).each(h)}))},b=function(){return s((function(t,e){var o=hc(r,t,e),u=Wa(p,bt.fromDom(n.getDoc()),E.none());return $g(t,o,u)}))},y=function(){return s((function(n,t){var e=hc(r,n,t);return Kg(n,e)}))},x=function(t,e){return e().each((function(e){var o=I(e,(function(n){return Cu(n)}));s((function(e,u){var i=za(bt.fromDom(n.getDoc())),a=bc(r,u,o,i);t(e,a).each(h)}))}))},T=function(n){return function(t,e){return Lt(e,"type").each((function(t){v(n(t),e.no_events)}))}};kt({mceTableSplitCells:function(){return v(t.unmergeCells)},mceTableMergeCells:function(){return v(t.mergeCells)},mceTableInsertRowBefore:function(){return v(t.insertRowsBefore)},mceTableInsertRowAfter:function(){return v(t.insertRowsAfter)},mceTableInsertColBefore:function(){return v(t.insertColumnsBefore)},mceTableInsertColAfter:function(){return v(t.insertColumnsAfter)},mceTableDeleteCol:function(){return v(t.deleteColumn)},mceTableDeleteRow:function(){return v(t.deleteRow)},mceTableCutCol:function(){return y().each((function(n){i.setColumns(n),v(t.deleteColumn)}))},mceTableCutRow:function(){return b().each((function(n){i.setRows(n),v(t.deleteRow)}))},mceTableCopyCol:function(){return y().each((function(n){return i.setColumns(n)}))},mceTableCopyRow:function(){return b().each((function(n){return i.setRows(n)}))},mceTablePasteColBefore:function(){return x(t.pasteColsBefore,i.getColumns)},mceTablePasteColAfter:function(){return x(t.pasteColsAfter,i.getColumns)},mceTablePasteRowBefore:function(){return x(t.pasteRowsBefore,i.getRows)},mceTablePasteRowAfter:function(){return x(t.pasteRowsAfter,i.getRows)},mceTableDelete:c,mceTableCellToggleClass:m,mceTableToggleClass:d,mceTableToggleCaption:g,mceTableSizingMode:function(n,t){return l(t)},mceTableCellType:T((function(n){return"th"===n?t.makeCellsHeader:t.unmakeCellsHeader})),mceTableColType:T((function(n){return"th"===n?t.makeColumnsHeader:t.unmakeColumnsHeader})),mceTableRowType:T((function(n){switch(n){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}}))},(function(t,e){return n.addCommand(e,t)})),kt({mceTableProps:w(gv,n,!1),mceTableRowProps:w(fv,n),mceTableCellProps:w(nv,n,r)},(function(t,e){return n.addCommand(e,(function(){return t()}))})),n.addCommand("mceInsertTable",(function(t,e){u(e)&&Ot(e).length>0?jg(n,e.rows,e.columns,e.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):gv(n,!0)})),n.addCommand("mceTableApplyCellStyle",(function(t,e){var i=function(n){return"tablecell"+n.toLowerCase().replace("-","")};if(u(e)){var a=Tc(r);if(0!==a.length){var c=Mt(e,(function(t,e){return n.formatter.has(i(e))&&o(t)}));Ut(c)||(kt(c,(function(t,e){j(a,(function(r){Bh.normal(n,r.dom).setFormat(i(e),t)}))})),f(a[0]).each((function(t){return os(n,t.dom,us)})))}}}))},yv=function(n,t,e){var r=Xa(n),o=function(t){return xc(tc(n)).bind((function(n){return Fr(n,r).map((function(r){var o=hc(e,r,n);return t(r,o)}))})).getOr("")};kt({mceTableRowType:function(){return o(t.getTableRowType)},mceTableCellType:function(){return o(t.getTableCellType)},mceTableColType:function(){return o(t.getTableColType)}},(function(t,e){return n.addQueryValueHandler(e,t)}))},wv=function(){var n=bh(),t=bh();return{getRows:n.get,setRows:function(e){e.fold(n.clear,n.set),t.clear()},clearRows:n.clear,getColumns:t.get,setColumns:function(e){e.fold(t.clear,t.set),n.clear()},clearColumns:t.clear}},Cv={remove_similar:!0,inherit:!1},xv=on({selector:"td,th"},Cv),Tv={tablecellbackgroundcolor:on({styles:{backgroundColor:"%value"}},xv),tablecellverticalalign:on({styles:{"vertical-align":"%value"}},xv),tablecellbordercolor:on({styles:{borderColor:"%value"}},xv),tablecellclass:on({classes:["%value"]},xv),tableclass:on({selector:"table",classes:["%value"]},Cv),tablecellborderstyle:on({styles:{borderStyle:"%value"}},xv),tablecellborderwidth:on({styles:{borderWidth:"%value"}},xv)},Sv=function(n){n.formatter.register(Tv)},Dv=su.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Av=function(n){return void 0===n&&(n=void 0),Dv.none(n)},Rv=on(on({},Dv),{none:Av}),Ov=function(n,t,e,r,o){void 0===o&&(o=S);var u=1===r;if(!u&&e<=0)return Rv.first(n[0]);if(u&&e>=n.length-1)return Rv.last(n[n.length-1]);var i=e+r,a=n[i];return o(a)?Rv.middle(t,a):Ov(n,t,i,r,o)},Ev=function(n,t){return Fr(n,t).bind((function(t){var e=kr(t),r=K(e,(function(t){return Tt(n,t)}));return r.map((function(n){return{index:n,all:e}}))}))},kv=function(n,t,e){var r=Ev(n,e);return r.fold((function(){return Rv.none(n)}),(function(e){return Ov(e.all,n,e.index,1,t)}))},Pv=function(n,t,e){var r=Ev(n,e);return r.fold((function(){return Rv.none()}),(function(e){return Ov(e.all,n,e.index,-1,t)}))},Fv=function(n,t,e,r){return{start:n,soffset:t,finish:e,foffset:r}},_v={create:Fv},Bv=su.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Mv=function(n,t,e,r){return n.fold(t,e,r)},Nv=function(n){return n.fold(b,b,b)},Iv=Bv.before,jv=Bv.on,Lv=Bv.after,Wv={before:Iv,on:jv,after:Lv,cata:Mv,getStart:Nv},zv=su.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Uv=function(n){return zv.exact(n.start,n.soffset,n.finish,n.foffset)},Hv=function(n){return n.match({domRange:function(n){return bt.fromDom(n.startContainer)},relative:function(n,t){return Wv.getStart(n)},exact:function(n,t,e,r){return n}})},Vv=zv.domRange,qv=zv.relative,Kv=zv.exact,$v=function(n){var t=Hv(n);return pe(t)},Xv=_v.create,Gv={domRange:Vv,relative:qv,exact:Kv,exactFromRange:Uv,getWin:$v,range:Xv},Yv=function(n,t){var e=n.document.createRange();return e.selectNode(t.dom),e},Jv=function(n,t){var e=n.document.createRange();return Zv(e,t),e},Zv=function(n,t){return n.selectNodeContents(t.dom)},Qv=function(n,t){t.fold((function(t){n.setStartBefore(t.dom)}),(function(t,e){n.setStart(t.dom,e)}),(function(t){n.setStartAfter(t.dom)}))},nb=function(n,t){t.fold((function(t){n.setEndBefore(t.dom)}),(function(t,e){n.setEnd(t.dom,e)}),(function(t){n.setEndAfter(t.dom)}))},tb=function(n,t,e){var r=n.document.createRange();return Qv(r,t),nb(r,e),r},eb=function(n,t,e,r,o){var u=n.document.createRange();return u.setStart(t.dom,e),u.setEnd(r.dom,o),u},rb=function(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height}},ob=function(n){var t=n.getClientRects(),e=t.length>0?t[0]:n.getBoundingClientRect();return e.width>0||e.height>0?E.some(e).map(rb):E.none()},ub=su.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ib=function(n,t,e){return t(bt.fromDom(e.startContainer),e.startOffset,bt.fromDom(e.endContainer),e.endOffset)},ab=function(n,t){return t.match({domRange:function(n){return{ltr:v(n),rtl:E.none}},relative:function(t,e){return{ltr:an((function(){return tb(n,t,e)})),rtl:an((function(){return E.some(tb(n,e,t))}))}},exact:function(t,e,r,o){return{ltr:an((function(){return eb(n,t,e,r,o)})),rtl:an((function(){return E.some(eb(n,r,o,t,e))}))}}})},cb=function(n,t){var e=t.ltr();if(e.collapsed){var r=t.rtl().filter((function(n){return!1===n.collapsed}));return r.map((function(n){return ub.rtl(bt.fromDom(n.endContainer),n.endOffset,bt.fromDom(n.startContainer),n.startOffset)})).getOrThunk((function(){return ib(n,ub.ltr,e)}))}return ib(n,ub.ltr,e)},lb=function(n,t){var e=ab(n,t);return cb(n,e)},fb=function(n,t){var e=lb(n,t);return e.match({ltr:function(t,e,r,o){var u=n.document.createRange();return u.setStart(t.dom,e),u.setEnd(r.dom,o),u},rtl:function(t,e,r,o){var u=n.document.createRange();return u.setStart(r.dom,o),u.setEnd(t.dom,e),u}})};ub.ltr,ub.rtl;var sb=function(n,t,e,r,o){if(0===o)return 0;if(t===r)return o-1;for(var u=r,i=1;i<o;i++){var a=n(i),c=Math.abs(t-a.left);if(e<=a.bottom){if(e<a.top||c>u)return i-1;u=c}}return 0},db=function(n,t,e){return t>=n.left&&t<=n.right&&e>=n.top&&e<=n.bottom},mb=function(n,t,e,r,o){var u=function(e){var r=n.dom.createRange();return r.setStart(t.dom,e),r.collapse(!0),r},i=function(n){var t=u(n);return t.getBoundingClientRect()},a=Lo(t).length,c=sb(i,e,r,o.right,a);return u(c)},pb=function(n,t,e,r){var o=n.dom.createRange();o.selectNode(t.dom);var u=o.getClientRects(),i=rn(u,(function(n){return db(n,e,r)?E.some(n):E.none()}));return i.map((function(o){return mb(n,t,e,r,o)}))},gb=function(n,t,e,r){var o=n.dom.createRange(),u=we(t);return rn(u,(function(t){return o.selectNode(t.dom),db(o.getBoundingClientRect(),e,r)?hb(n,t,e,r):E.none()}))},hb=function(n,t,e,r){return ce(t)?pb(n,t,e,r):gb(n,t,e,r)},vb=function(n,t,e,r){var o=n.dom.createRange();o.selectNode(t.dom);var u=o.getBoundingClientRect(),i=Math.max(u.left,Math.min(u.right,e)),a=Math.max(u.top,Math.min(u.bottom,r));return hb(n,t,i,a)},bb=!0,yb=!1,wb=function(n,t){return t-n.left<n.right-t?bb:yb},Cb=function(n,t,e){var r=n.dom.createRange();return r.selectNode(t.dom),r.collapse(e),r},xb=function(n,t,e){var r=n.dom.createRange();r.selectNode(t.dom);var o=r.getBoundingClientRect(),u=wb(o,e),i=u===bb?Oa:Ea;return i(t).map((function(t){return Cb(n,t,u)}))},Tb=function(n,t,e){var r=t.dom.getBoundingClientRect(),o=wb(r,e);return E.some(Cb(n,t,o))},Sb=function(n,t,e){var r=0===we(t).length?Tb:xb;return r(n,t,e)},Db=function(n,t,e){var r,o;return E.from(null===(o=(r=n.dom).caretPositionFromPoint)||void 0===o?void 0:o.call(r,t,e)).bind((function(t){if(null===t.offsetNode)return E.none();var e=n.dom.createRange();return e.setStart(t.offsetNode,t.offset),e.collapse(),E.some(e)}))},Ab=function(n,t,e){var r,o;return E.from(null===(o=(r=n.dom).caretRangeFromPoint)||void 0===o?void 0:o.call(r,t,e))},Rb=function(n,t,e,r){var o=n.dom.createRange();o.selectNode(t.dom);var u=o.getBoundingClientRect(),i=Math.max(u.left,Math.min(u.right,e)),a=Math.max(u.top,Math.min(u.bottom,r));return vb(n,t,i,a)},Ob=function(n,t,e){return bt.fromPoint(n,t,e).bind((function(r){var o=function(){return Sb(n,r,t)};return 0===we(r).length?o():Rb(n,r,t,e).orThunk(o)}))},Eb=function(){return document.caretPositionFromPoint?Db:document.caretRangeFromPoint?Ab:Ob}(),kb=function(n,t,e){var r=bt.fromDom(n.document);return Eb(r,t,e).map((function(n){return _v.create(bt.fromDom(n.startContainer),n.startOffset,bt.fromDom(n.endContainer),n.endOffset)}))},Pb=function(n,t){var e=re(n);return"input"===e?Wv.after(n):B(["br","img"],e)?0===t?Wv.before(n):Wv.after(n):Wv.on(n,t)},Fb=function(n,t){var e=n.fold(Wv.before,Pb,Wv.after),r=t.fold(Wv.before,Pb,Wv.after);return Gv.relative(e,r)},_b=function(n,t,e,r){var o=Pb(n,t),u=Pb(e,r);return Gv.relative(o,u)},Bb=function(n){return n.match({domRange:function(n){var t=bt.fromDom(n.startContainer),e=bt.fromDom(n.endContainer);return _b(t,n.startOffset,e,n.endOffset)},relative:Fb,exact:_b})},Mb=function(n,t,e,r){var o=de(n),u=o.dom.createRange();return u.setStart(n.dom,t),u.setEnd(e.dom,r),u},Nb=function(n,t,e,r){var o=Mb(n,t,e,r),u=Tt(n,e)&&t===r;return o.collapsed&&!u},Ib=function(n){return E.from(n.getSelection())},jb=function(n,t){Ib(n).each((function(n){n.removeAllRanges(),n.addRange(t)}))},Lb=function(n,t,e,r,o){var u=eb(n,t,e,r,o);jb(n,u)},Wb=function(n,t,e,r,o,u){t.collapse(e.dom,r),t.extend(o.dom,u)},zb=function(n,t){return lb(n,t).match({ltr:function(t,e,r,o){Lb(n,t,e,r,o)},rtl:function(t,e,r,o){Ib(n).each((function(u){if(u.setBaseAndExtent)u.setBaseAndExtent(t.dom,e,r.dom,o);else if(u.extend)try{Wb(n,u,t,e,r,o)}catch(i){Lb(n,r,o,t,e)}else Lb(n,r,o,t,e)}))}})},Ub=function(n,t,e,r,o){var u=_b(t,e,r,o);zb(n,u)},Hb=function(n,t,e){var r=Fb(t,e);zb(n,r)},Vb=function(n){var t=Gv.getWin(n).dom,e=function(n,e,r,o){return eb(t,n,e,r,o)},r=Bb(n);return lb(t,r).match({ltr:e,rtl:e})},qb=function(n){if(n.rangeCount>0){var t=n.getRangeAt(0),e=n.getRangeAt(n.rangeCount-1);return E.some(_v.create(bt.fromDom(t.startContainer),t.startOffset,bt.fromDom(e.endContainer),e.endOffset))}return E.none()},Kb=function(n){if(null===n.anchorNode||null===n.focusNode)return qb(n);var t=bt.fromDom(n.anchorNode),e=bt.fromDom(n.focusNode);return Nb(t,n.anchorOffset,e,n.focusOffset)?E.some(_v.create(t,n.anchorOffset,e,n.focusOffset)):qb(n)},$b=function(n,t,e){void 0===e&&(e=!0);var r=e?Jv:Yv,o=r(n,t);jb(n,o)},Xb=function(n){return Ib(n).filter((function(n){return n.rangeCount>0})).bind(Kb)},Gb=function(n){return Xb(n).map((function(n){return Gv.exact(n.start,n.soffset,n.finish,n.foffset)}))},Yb=function(n,t){var e=fb(n,t);return ob(e)},Jb=function(n,t,e){return kb(n,t,e)},Zb=function(n){Ib(n).each((function(n){return n.removeAllRanges()}))},Qb=tinymce.util.Tools.resolve("tinymce.util.VK"),ny=function(n,t,e){return ry(n,t,kv(e,Tf))},ty=function(n,t,e){return ry(n,t,Pv(e,Tf))},ey=function(n,t){var e=Gv.exact(t,0,t,0);return Vb(e)},ry=function(n,t,e){return e.fold(E.none,E.none,(function(t,e){return Oa(e).map((function(t){return ey(n,t)}))}),(function(e){return n.execCommand("mceTableInsertRowAfter"),ny(n,t,e)}))},oy=["table","li","dl"],uy=function(n,t,e){if(n.keyCode===Qb.TAB){var r=qa(t),o=function(n){var t=re(n);return Tt(n,r)||B(oy,t)},u=t.selection.getRng(),i=bt.fromDom(n.shiftKey?u.startContainer:u.endContainer);Er(i,o).each((function(r){n.preventDefault(),Fr(r,o).each(e.clear),t.selection.collapse(n.shiftKey);var u=n.shiftKey?ty:ny,i=u(t,o,r);i.each((function(n){t.selection.setRng(n)}))}))}},iy=function(n,t){return{selection:n,kill:t}},ay={create:iy},cy=function(n,t,e,r){return{start:Wv.on(n,t),finish:Wv.on(e,r)}},ly={create:cy},fy=function(n,t){var e=fb(n,t);return _v.create(bt.fromDom(e.startContainer),e.startOffset,bt.fromDom(e.endContainer),e.endOffset)},sy=ly.create,dy=function(n,t,e,r,o,u,i){return Tt(e,o)&&r===u?E.none():Xe(e,"td,th",t).bind((function(e){return Xe(o,"td,th",t).bind((function(r){return my(n,t,e,r,i)}))}))},my=function(n,t,e,r,o){return Tt(e,r)?E.none():eu(e,r,t).bind((function(t){var r=t.boxes.getOr([]);return r.length>1?(o(n,r,t.start,t.finish),E.some(ay.create(E.some(sy(e,0,e,Sa(e))),!0))):E.none()}))},py=function(n,t,e,r,o){var u=function(n){return o.clearBeforeUpdate(e),o.selectRange(e,n.boxes,n.start,n.finish),n.boxes};return au(r,n,t,o.firstSelectedSelector,o.lastSelectedSelector).map(u)},gy=function(n,t){return{item:n,mode:t}},hy=function(n,t,e,r){return void 0===r&&(r=vy),n.property().parent(t).map((function(n){return gy(n,r)}))},vy=function(n,t,e,r){return void 0===r&&(r=by),e.sibling(n,t).map((function(n){return gy(n,r)}))},by=function(n,t,e,r){void 0===r&&(r=by);var o=n.property().children(t),u=e.first(o);return u.map((function(n){return gy(n,r)}))},yy=[{current:hy,next:vy,fallback:E.none()},{current:vy,next:by,fallback:E.some(hy)},{current:by,next:by,fallback:E.some(vy)}],wy=function(n,t,e,r,o){void 0===o&&(o=yy);var u=q(o,(function(n){return n.current===e}));return u.bind((function(e){return e.current(n,t,r,e.next).orThunk((function(){return e.fallback.bind((function(e){return wy(n,t,e,r)}))}))}))},Cy=function(){var n=function(n,t){return n.query().prevSibling(t)},t=function(n){return n.length>0?E.some(n[n.length-1]):E.none()};return{sibling:n,first:t}},xy=function(){var n=function(n,t){return n.query().nextSibling(t)},t=function(n){return n.length>0?E.some(n[0]):E.none()};return{sibling:n,first:t}},Ty={left:Cy,right:xy},Sy=function(n,t,e,r,o,u){var i=wy(n,t,r,o);return i.bind((function(t){return u(t.item)?E.none():e(t.item)?E.some(t.item):Sy(n,t.item,e,t.mode,o,u)}))},Dy=function(n,t,e,r){return Sy(n,t,e,vy,Ty.left(),r)},Ay=function(n,t,e,r){return Sy(n,t,e,vy,Ty.right(),r)},Ry=function(n){return function(t){return 0===n.property().children(t).length}},Oy=function(n,t,e){return ky(n,t,Ry(n),e)},Ey=function(n,t,e){return Py(n,t,Ry(n),e)},ky=Dy,Py=Ay,Fy=Ho(),_y=function(n,t){return Oy(Fy,n,t)},By=function(n,t){return Ey(Fy,n,t)},My=function(n,t,e){return ky(Fy,n,t,e)},Ny=function(n,t,e){return Py(Fy,n,t,e)},Iy=function(n,t,e){return ze(n,t,e).isSome()},jy=su.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Ly=function(n,t,e){var r=n.getRect(t),o=n.getRect(e);return o.right>r.left&&o.left<r.right},Wy=function(n){return Xe(n,"tr")},zy=function(n,t,e,r,o,u,i){return Xe(r,"td,th",i).bind((function(e){return Xe(t,"td,th",i).map((function(t){return Tt(e,t)?Tt(r,e)&&Sa(e)===o?u(t):jy.none("in same cell"):Qo(Wy,[e,t]).fold((function(){return Ly(n,t,e)?jy.success():u(t)}),(function(n){return u(t)}))}))})).getOr(jy.none("default"))},Uy=function(n,t,e,r,o){return n.fold(t,e,r,o)},Hy=on(on({},jy),{verify:zy,cata:Uy}),Vy=function(n,t,e,r){return{parent:n,children:t,element:e,index:r}},qy=function(n){return ge(n).bind((function(t){var e=we(t);return Ky(e,n).map((function(r){return Vy(t,e,n,r)}))}))},Ky=function(n,t){return K(n,w(Tt,t))},$y=function(n){return"br"===re(n)},Xy=function(n,t,e){return t(n,e).bind((function(n){return ce(n)&&0===Lo(n).trim().length?Xy(n,t,e):E.some(n)}))},Gy=function(n,t,e){return e.traverse(t).orThunk((function(){return Xy(t,e.gather,n)})).map(e.relative)},Yy=function(n,t){return Ce(n,t).filter($y).orThunk((function(){return Ce(n,t-1).filter($y)}))},Jy=function(n,t,e,r){return Yy(t,e).bind((function(t){return r.traverse(t).fold((function(){return Xy(t,r.gather,n).map(r.relative)}),(function(n){return qy(n).map((function(n){return Wv.on(n.parent,n.index)}))}))}))},Zy=function(n,t,e,r){var o=$y(t)?Gy(n,t,r):Jy(n,t,e,r);return o.map((function(n){return{start:n,finish:n}}))},Qy=function(n){return Hy.cata(n,(function(n){return E.none()}),(function(){return E.none()}),(function(n){return E.some(id(n,0))}),(function(n){return E.some(id(n,Sa(n)))}))},nw=function(n,t){return{left:n.left,top:n.top+t,right:n.right,bottom:n.bottom+t}},tw=function(n,t){return{left:n.left,top:n.top-t,right:n.right,bottom:n.bottom-t}},ew=function(n,t,e){return{left:n.left+t,top:n.top+e,right:n.right+t,bottom:n.bottom+e}},rw=function(n){return n.top},ow=function(n){return n.bottom},uw=function(n,t,e){return e>=0&&e<Sa(t)?n.getRangedRect(t,e,t,e+1):e>0?n.getRangedRect(t,e-1,t,e):E.none()},iw=function(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom}},aw=function(n,t){return E.some(n.getRect(t))},cw=function(n,t,e){return ae(t)?aw(n,t).map(iw):ce(t)?uw(n,t,e).map(iw):E.none()},lw=function(n,t){return ae(t)?aw(n,t).map(iw):ce(t)?n.getRangedRect(t,0,t,Sa(t)).map(iw):E.none()},fw=5,sw=100,dw=su.generate([{none:[]},{retry:["caret"]}]),mw=function(n,t){return n.left<t.left||Math.abs(t.right-n.left)<1||n.left>t.right},pw=function(n,t,e){return Ue(t,ap).fold(T,(function(t){return lw(n,t).exists((function(n){return mw(e,n)}))}))},gw=function(n,t,e,r,o){var u=nw(o,fw);return Math.abs(e.bottom-r.bottom)<1||e.top>o.bottom?dw.retry(u):e.top===o.bottom?dw.retry(nw(o,1)):pw(n,t,o)?dw.retry(ew(u,fw,0)):dw.none()},hw=function(n,t,e,r,o){var u=tw(o,fw);return Math.abs(e.top-r.top)<1||e.bottom<o.top?dw.retry(u):e.bottom===o.top?dw.retry(tw(o,1)):pw(n,t,o)?dw.retry(ew(u,fw,0)):dw.none()},vw={point:rw,adjuster:hw,move:tw,gather:_y},bw={point:ow,adjuster:gw,move:nw,gather:By},yw=function(n,t,e){return n.elementFromPoint(t,e).filter((function(n){return"table"===re(n)})).isSome()},ww=function(n,t,e,r,o){return Cw(n,t,e,t.move(r,fw),o)},Cw=function(n,t,e,r,o){return 0===o?E.some(r):yw(n,r.left,t.point(r))?ww(n,t,e,r,o-1):n.situsFromPoint(r.left,t.point(r)).bind((function(u){return u.start.fold(E.none,(function(u){return lw(n,u).bind((function(i){return t.adjuster(n,u,i,e,r).fold(E.none,(function(r){return Cw(n,t,e,r,o-1)}))})).orThunk((function(){return E.some(r)}))}),E.none)}))},xw=function(n,t){return n.situsFromPoint(t.left,t.bottom+fw)},Tw=function(n,t){return n.situsFromPoint(t.left,t.top-fw)},Sw=function(n,t,e){return n.point(t)>e.getInnerHeight()?E.some(n.point(t)-e.getInnerHeight()):n.point(t)<0?E.some(-n.point(t)):E.none()},Dw=function(n,t,e){var r=n.move(e,fw),o=Cw(t,n,e,r,sw).getOr(r);return Sw(n,o,t).fold((function(){return t.situsFromPoint(o.left,n.point(o))}),(function(e){return t.scrollBy(0,e),t.situsFromPoint(o.left,n.point(o)-e)}))},Aw={tryUp:w(Dw,vw),tryDown:w(Dw,bw),ieTryUp:Tw,ieTryDown:xw,getJumpSize:v(fw)},Rw=20,Ow=function(n,t,e){return n.getSelection().bind((function(r){return Zy(t,r.finish,r.foffset,e).fold((function(){return E.some(id(r.finish,r.foffset))}),(function(o){var u=n.fromSitus(o),i=Hy.verify(n,r.finish,r.foffset,u.finish,u.foffset,e.failure,t);return Qy(i)}))}))},Ew=function(n,t,e,r,o,u){return 0===u?E.none():Fw(n,t,e,r,o).bind((function(i){var a=n.fromSitus(i),c=Hy.verify(n,e,r,a.finish,a.foffset,o.failure,t);return Hy.cata(c,(function(){return E.none()}),(function(){return E.some(i)}),(function(i){return Tt(e,i)&&0===r?kw(n,e,r,tw,o):Ew(n,t,i,0,o,u-1)}),(function(i){return Tt(e,i)&&r===Sa(i)?kw(n,e,r,nw,o):Ew(n,t,i,Sa(i),o,u-1)}))}))},kw=function(n,t,e,r,o){return cw(n,t,e).bind((function(t){return Pw(n,o,r(t,Aw.getJumpSize()))}))},Pw=function(n,t,e){var r=ut().browser;return r.isChrome()||r.isSafari()||r.isFirefox()||r.isEdge()?t.otherRetry(n,e):r.isIE()?t.ieRetry(n,e):E.none()},Fw=function(n,t,e,r,o){return cw(n,e,r).bind((function(t){return Pw(n,o,t)}))},_w=function(n,t,e){return Ow(n,t,e).bind((function(r){return Ew(n,t,r.element,r.offset,e,Rw).map(n.fromSitus)}))},Bw=function(n,t){return Iy(n,(function(n){return ge(n).exists((function(n){return Tt(n,t)}))}))},Mw=function(n,t,e,r,o){return Xe(r,"td,th",t).bind((function(r){return Xe(r,"table",t).bind((function(u){return Bw(o,u)?_w(n,t,e).bind((function(n){return Xe(n.finish,"td,th",t).map((function(t){return{start:r,finish:t,range:n}}))})):E.none()}))}))},Nw=function(n,t,e,r,o,u){return ut().browser.isIE()?E.none():u(r,t).orThunk((function(){return Mw(n,t,e,r,o).map((function(n){var t=n.range;return ay.create(E.some(sy(t.start,t.soffset,t.finish,t.foffset)),!0)}))}))},Iw=function(n,t){return Xe(n,"tr",t).bind((function(n){return Xe(n,"table",t).bind((function(e){var r=Le(e,"tr");return Tt(n,r[0])?My(e,(function(n){return Ea(n).isSome()}),t).map((function(n){var t=Sa(n);return ay.create(E.some(sy(n,t,n,t)),!0)})):E.none()}))}))},jw=function(n,t){return Xe(n,"tr",t).bind((function(n){return Xe(n,"table",t).bind((function(e){var r=Le(e,"tr");return Tt(n,r[r.length-1])?Ny(e,(function(n){return Oa(n).isSome()}),t).map((function(n){return ay.create(E.some(sy(n,0,n,0)),!0)})):E.none()}))}))},Lw=function(n,t,e,r,o,u,i){return Mw(n,e,r,o,u).bind((function(n){return my(t,e,n.start,n.finish,i)}))},Ww=function(n,t){return Xe(n,"td,th",t)},zw=function(n,t,e,r){var o=bh(),u=o.clear,i=function(u){o.on((function(o){r.clearBeforeUpdate(t),Ww(u.target,e).each((function(i){eu(o,i,e).each((function(e){var o=e.boxes.getOr([]);if(1===o.length){var a=o[0],c="false"===Sf(a),l=rr(xf(u.target),a,Tt);c&&l&&(r.selectRange(t,o,a,a),n.selectContents(a))}else o.length>1&&(r.selectRange(t,o,e.start,e.finish),n.selectContents(i))}))}))}))},a=function(n){r.clear(t),Ww(n.target,e).each(o.set)},c=function(n){i(n)},l=function(n){i(n),u()};return{clearstate:u,mousedown:a,mouseover:c,mouseup:l}},Uw={traverse:ye,gather:By,relative:Wv.before,otherRetry:Aw.tryDown,ieRetry:Aw.ieTryDown,failure:Hy.failedDown},Hw={traverse:be,gather:_y,relative:Wv.before,otherRetry:Aw.tryUp,ieRetry:Aw.ieTryUp,failure:Hy.failedUp},Vw=function(n){return function(t){return t===n}},qw=Vw(38),Kw=Vw(40),$w=function(n){return n>=37&&n<=40},Xw={isBackward:Vw(37),isForward:Vw(39)},Gw={isBackward:Vw(39),isForward:Vw(37)},Yw=function(n){var t=void 0!==n?n.dom:document,e=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return Zu(e,r)},Jw=function(n,t,e){var r=void 0!==e?e.dom:document,o=r.defaultView;o&&o.scrollBy(n,t)},Zw=function(n){var t=function(t,e){return bt.fromPoint(bt.fromDom(n.document),t,e)},e=function(n){return n.dom.getBoundingClientRect()},r=function(t,e,r,o){var u=Gv.exact(t,e,r,o);return Yb(n,u)},o=function(){return Gb(n).map((function(t){return fy(n,t)}))},u=function(t){var e=Gv.relative(t.start,t.finish);return fy(n,e)},i=function(t,e){return Jb(n,t,e).map((function(n){return ly.create(n.start,n.soffset,n.finish,n.foffset)}))},a=function(){Zb(n)},c=function(t){void 0===t&&(t=!1),Gb(n).each((function(e){return e.fold((function(n){return n.collapse(t)}),(function(e,r){var o=t?e:r;Hb(n,o,o)}),(function(e,r,o,u){var i=t?e:o,a=t?r:u;Ub(n,i,a,i,a)}))}))},l=function(t){$b(n,t,!1)},f=function(t){$b(n,t)},s=function(t){Ub(n,t.start,t.soffset,t.finish,t.foffset)},d=function(t,e){Hb(n,t,e)},m=function(){return n.innerHeight},p=function(){var t=Yw(bt.fromDom(n.document));return t.top},g=function(t,e){Jw(t,e,bt.fromDom(n.document))};return{elementFromPoint:t,getRect:e,getRangedRect:r,getSelection:o,fromSitus:u,situsFromPoint:i,clearSelection:a,collapseSelection:c,setSelection:s,setRelativeSelection:d,selectNode:l,selectContents:f,getInnerHeight:m,getScrollY:p,scrollBy:g}},Qw=function(n,t){return{rows:n,cols:t}},nC=function(n,t,e,r){var o=Zw(n),u=zw(o,t,e,r);return{clearstate:u.clearstate,mousedown:u.mousedown,mouseover:u.mouseover,mouseup:u.mouseup}},tC=function(n,t,e,r){var o=Zw(n),u=function(){return r.clear(t),E.none()},i=function(n,i,a,c,l,f){var s=n.raw,d=s.which,m=!0===s.shiftKey,p=ru(t,r.selectedSelector).fold((function(){return $w(d)&&!m&&r.clearBeforeUpdate(t),Kw(d)&&m?w(Lw,o,t,e,Uw,c,i,r.selectRange):qw(d)&&m?w(Lw,o,t,e,Hw,c,i,r.selectRange):Kw(d)?w(Nw,o,e,Uw,c,i,jw):qw(d)?w(Nw,o,e,Hw,c,i,Iw):E.none}),(function(n){var e=function(e){return function(){var u=rn(e,(function(e){return py(e.rows,e.cols,t,n,r)}));return u.fold((function(){return uu(t,r.firstSelectedSelector,r.lastSelectedSelector).map((function(n){var e=Kw(d)||f.isForward(d)?Wv.after:Wv.before;return o.setRelativeSelection(Wv.on(n.first,0),e(n.table)),r.clear(t),ay.create(E.none(),!0)}))}),(function(n){return E.some(ay.create(E.none(),!0))}))}};return Kw(d)&&m?e([Qw(1,0)]):qw(d)&&m?e([Qw(-1,0)]):f.isBackward(d)&&m?e([Qw(0,-1),Qw(-1,0)]):f.isForward(d)&&m?e([Qw(0,1),Qw(1,0)]):$w(d)&&!m?u:E.none}));return p()},a=function(n,o,u,i,a){return ru(t,r.selectedSelector).fold((function(){var c=n.raw,l=c.which,f=!0===c.shiftKey;return f&&$w(l)?dy(t,e,o,u,i,a,r.selectRange):E.none()}),E.none)};return{keydown:i,keyup:a}},eC=function(n,t,e,r){var o=Zw(n);return function(n,u){r.clearBeforeUpdate(t),eu(n,u,e).each((function(n){var e=n.boxes.getOr([]);r.selectRange(t,e,n.start,n.finish),o.selectContents(u),o.collapseSelection()}))}},rC=function(n,t){j(t,(function(t){ff(n,t)}))},oC=function(n){return function(t){cf(t,n)}},uC=function(n){return function(t){rC(t,n)}},iC=function(n){var t=oC(n.selected),e=uC([n.selected,n.lastSelected,n.firstSelected]),r=function(t){var r=Le(t,n.selectedSelector);j(r,e)},o=function(e,o,u,i){r(e),j(o,t),cf(u,n.firstSelected),cf(i,n.lastSelected)};return{clearBeforeUpdate:r,clear:r,selectRange:o,selectedSelector:n.selectedSelector,firstSelectedSelector:n.firstSelectedSelector,lastSelectedSelector:n.lastSelectedSelector}},aC=function(n,t,e){var r=function(t){tr(t,n.selected),tr(t,n.firstSelected),tr(t,n.lastSelected)},o=function(t){Ye(t,n.selected,"1")},u=function(n){i(n),e()},i=function(t){var e=Le(t,n.selectedSelector+","+n.firstSelectedSelector+","+n.lastSelectedSelector);j(e,r)},a=function(e,r,i,a){u(e),j(r,o),Ye(i,n.firstSelected,"1"),Ye(a,n.lastSelected,"1"),t(r,i,a)};return{clearBeforeUpdate:i,clear:u,selectRange:a,selectedSelector:n.selectedSelector,firstSelectedSelector:n.firstSelectedSelector,lastSelectedSelector:n.lastSelectedSelector}},cC={byClass:iC,byAttr:aC},lC=function(n,t){var e=n.slice(0,t[t.length-1].row+1),r=zd(e);return X(r,(function(n){var e=n.cells.slice(0,t[t.length-1].column+1);return I(e,(function(n){return n.element}))}))},fC=function(n,t){var e=n.slice(t[0].row+t[0].rowspan-1,n.length),r=zd(e);return X(r,(function(n){var e=n.cells.slice(t[0].column+t[0].colspan-1,n.cells.length);return I(e,(function(n){return n.element}))}))},sC=function(n,t,e){var r=lo.fromTable(n),o=Gd(r,t);return o.map((function(n){var t=Ld(r,e,!1),o=lC(t,n),u=fC(t,n);return{upOrLeftCells:o,downOrRightCells:u}}))},dC=tinymce.util.Tools.resolve("tinymce.Env"),mC=function(n){return!1===sf(bt.fromDom(n.target),"ephox-snooker-resizer-bar")};function pC(n,t,e){var r=function(t,r,o){e.targets().each((function(e){var u=Fr(r);u.each((function(u){var i=zs(n),a=Wa(p,bt.fromDom(n.getDoc()),i),c=sC(u,e,a);es(n,t,r,o,c)}))}))},o=function(){return rs(n)},u=cC.byAttr(pc,r,o);return n.on("init",(function(e){var r=n.getWin(),o=qa(n),i=Xa(n),a=function(){var t=n.selection,e=bt.fromDom(t.getStart()),r=bt.fromDom(t.getEnd()),i=Qo(Fr,[e,r]);i.fold((function(){return u.clear(o)}),p)},c=nC(r,o,i,u),l=tC(r,o,i,u),f=eC(r,o,i,u),s=function(n){return!0===n.raw.shiftKey};n.on("TableSelectorChange",(function(n){return f(n.start,n.finish)}));var d=function(t,e){s(t)&&(e.kill&&t.kill(),e.selection.each((function(t){var e=Gv.relative(t.start,t.finish),o=fb(r,e);n.selection.setRng(o)})))},m=function(t){var e=Ql(t);if(e.raw.shiftKey&&$w(e.raw.which)){var r=n.selection.getRng(),o=bt.fromDom(r.startContainer),u=bt.fromDom(r.endContainer);l.keyup(e,o,r.startOffset,u,r.endOffset).each((function(n){d(e,n)}))}},g=function(e){var r=Ql(e);t().each((function(n){return n.hideBars()}));var o=n.selection.getRng(),u=bt.fromDom(o.startContainer),i=bt.fromDom(o.endContainer),a=qu(Xw,Gw)(bt.fromDom(n.selection.getStart()));l.keydown(r,u,o.startOffset,i,o.endOffset,a).each((function(n){d(r,n)})),t().each((function(n){return n.showBars()}))},h=function(n){return 0===n.button},v=function(n){return void 0===n.buttons||(!(!dC.browser.isEdge()||0!==n.buttons)||0!==(1&n.buttons))},b=function(n){c.clearstate()},y=function(n){h(n)&&mC(n)&&c.mousedown(Ql(n))},w=function(n){v(n)&&mC(n)&&c.mouseover(Ql(n))},C=function(n){h(n)&&mC(n)&&c.mouseup(Ql(n))},x=function(){var n=gh(bt.fromDom(o)),t=gh(0),e=function(e){var r=bt.fromDom(e.target);if("td"===re(r)||"th"===re(r)){var o=n.get(),u=t.get();Tt(o,r)&&e.timeStamp-u<300&&(e.preventDefault(),f(r,r))}n.set(r),t.set(e.timeStamp)};return{touchEnd:e}},T=x();n.on("dragstart",b),n.on("mousedown",y),n.on("mouseover",w),n.on("mouseup",C),n.on("touchend",T.touchEnd),n.on("keyup",m),n.on("keydown",g),n.on("NodeChange",a)})),{clear:u.clear}}var gC=function(n,t){return Ke(n,t).isSome()},hC=function(n,t){var e=gh(E.none()),r=gh([]),o=E.none(),u=se("caption"),i=function(n){return o.forall((function(t){return!t[n]}))},a=function(){return Cc(tc(n),Xa(n))},c=function(){return Cc(ec(n),Xa(n))},l=function(){return a().bind((function(n){return ar(ur(Fr(n),c().bind(Fr),(function(e,r){return Tt(e,r)?u(n)?E.some(gc(n)):E.some(hc(t,e,n)):E.none()})))}))},f=function(n){var t=Fr(n.element);return t.map((function(t){var e=lo.fromTable(t),r=Gd(e,n).getOr([]),o=H(r,(function(n,t){return t.isLocked&&(n.onAny=!0,0===t.column?n.onFirst=!0:t.column+t.colspan>=e.grid.columns&&(n.onLast=!0)),n}),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Qd(e,n).isSome(),unmergeable:nm(e,n).isSome(),locked:o}}))},s=function(){e.set(an(l)()),o=e.get().bind(f),j(r.get(),(function(n){return n()}))},d=function(n){return n(),r.set(r.get().concat([n])),function(){r.set(z(r.get(),(function(t){return t!==n})))}},m=function(n,t){return d((function(){return e.get().fold((function(){n.setDisabled(!0)}),(function(e){n.setDisabled(t(e))}))}))},p=function(n,t,r){return d((function(){return e.get().fold((function(){n.setDisabled(!0),n.setActive(!1)}),(function(e){n.setDisabled(t(e)),n.setActive(r(e))}))}))},g=function(n){return o.exists((function(t){return t.locked[n]}))},h=function(n){return m(n,(function(n){return!1}))},v=function(n){return m(n,(function(n){return u(n.element)}))},b=function(n){return function(t){return m(t,(function(t){return u(t.element)||g(n)}))}},y=function(n){return function(t){return m(t,(function(t){return u(t.element)||n().isNone()}))}},w=function(n,t){return function(e){return m(e,(function(e){return u(e.element)||n().isNone()||g(t)}))}},C=function(n){return m(n,(function(n){return i("mergeable")}))},x=function(n){return m(n,(function(n){return i("unmergeable")}))},S=function(t){return p(t,T,(function(t){var e=Fr(t.element,Xa(n));return e.exists((function(n){return gC(n,"caption")}))}))},D=function(t,e){return function(r){return p(r,(function(n){return u(n.element)}),(function(){return n.queryCommandValue(t)===e}))}},A=D("mceTableRowType","header"),R=D("mceTableColType","th");return n.on("NodeChange ExecCommand TableSelectorChange",s),{onSetupTable:h,onSetupCellOrRow:v,onSetupColumn:b,onSetupPasteable:y,onSetupPasteableColumn:w,onSetupMergeable:C,onSetupUnmergeable:x,resetTargets:s,onSetupTableWithCaption:S,onSetupTableRowHeaders:A,onSetupTableColumnHeaders:R,targets:e.get}},vC=function(n,t,e,r){n.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(n){return n("inserttable | cell row column | advtablesort | tableprops deletetable")}});var o=function(t){return function(){return n.execCommand(t)}};n.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:o("mceTableProps"),icon:"table",onSetup:e.onSetupTable}),n.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:o("mceTableDelete"),icon:"table-delete-table",onSetup:e.onSetupTable}),n.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:o("mceTableCellProps"),icon:"table-cell-properties",onSetup:e.onSetupCellOrRow}),n.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:o("mceTableMergeCells"),icon:"table-merge-cells",onSetup:e.onSetupMergeable}),n.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:o("mceTableSplitCells"),icon:"table-split-cells",onSetup:e.onSetupUnmergeable}),n.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:o("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:e.onSetupCellOrRow}),n.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:o("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:e.onSetupCellOrRow}),n.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:o("mceTableDeleteRow"),icon:"table-delete-row",onSetup:e.onSetupCellOrRow}),n.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:o("mceTableRowProps"),icon:"table-row-properties",onSetup:e.onSetupCellOrRow}),n.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:o("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:e.onSetupColumn("onFirst")}),n.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:o("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:e.onSetupColumn("onLast")}),n.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:o("mceTableDeleteCol"),icon:"table-delete-column",onSetup:e.onSetupColumn("onAny")}),n.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:o("mceTableCutRow"),onSetup:e.onSetupCellOrRow}),n.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:o("mceTableCopyRow"),onSetup:e.onSetupCellOrRow}),n.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:o("mceTablePasteRowBefore"),onSetup:e.onSetupPasteable(r.getRows)}),n.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:o("mceTablePasteRowAfter"),onSetup:e.onSetupPasteable(r.getRows)}),n.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:o("mceTableCutCol"),onSetup:e.onSetupColumn("onAny")}),n.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:o("mceTableCopyCol"),onSetup:e.onSetupColumn("onAny")}),n.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:o("mceTablePasteColBefore"),onSetup:e.onSetupPasteableColumn(r.getColumns,"onFirst")}),n.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:o("mceTablePasteColAfter"),onSetup:e.onSetupPasteableColumn(r.getColumns,"onLast")}),n.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:o("mceInsertTable"),icon:"table"});var u=Sh(Ps(n));0!==u.length&&n.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Dh(n,t,u,"tableclass",(function(t){return n.execCommand("mceTableToggleClass",!1,t)})),onSetup:e.onSetupTable});var i=Sh(Es(n));0!==i.length&&n.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Dh(n,t,i,"tablecellclass",(function(t){return n.execCommand("mceTableCellToggleClass",!1,t)})),onSetup:e.onSetupCellOrRow}),n.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Dh(n,t,nh,"tablecellverticalalign",Th(n,"vertical-align")),onSetup:e.onSetupCellOrRow}),n.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Dh(n,t,vs(n),"tablecellborderwidth",Th(n,"border-width")),onSetup:e.onSetupCellOrRow}),n.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Dh(n,t,bs(n),"tablecellborderstyle",Th(n,"border-style")),onSetup:e.onSetupCellOrRow}),n.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:o("mceTableToggleCaption"),icon:"table-caption",onSetup:e.onSetupTableWithCaption}),n.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(t){return t(Ah(n,Hs(n),"background-color"))},onSetup:e.onSetupCellOrRow}),n.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(t){return t(Ah(n,Vs(n),"border-color"))},onSetup:e.onSetupCellOrRow}),n.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:Rh(n),onSetup:e.onSetupTableRowHeaders}),n.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:Oh(n),onSetup:e.onSetupTableColumnHeaders})},bC=function(n){var t=function(t){return n.dom.is(t,"table")&&n.getBody().contains(t)},e=Ms(n);e.length>0&&n.ui.registry.addContextToolbar("table",{predicate:t,items:e,scope:"node",position:"node"})},yC=function(n,t,e,r){var o=function(t){return function(){return n.execCommand(t)}},u=function(t){n.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})},i={text:"Table properties",onSetup:e.onSetupTable,onAction:o("mceTableProps")},a={text:"Delete table",icon:"table-delete-table",onSetup:e.onSetupTable,onAction:o("mceTableDelete")};n.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:o("mceTableInsertRowBefore"),onSetup:e.onSetupCellOrRow}),n.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:o("mceTableInsertRowAfter"),onSetup:e.onSetupCellOrRow}),n.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:o("mceTableDeleteRow"),onSetup:e.onSetupCellOrRow}),n.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:o("mceTableRowProps"),onSetup:e.onSetupCellOrRow}),n.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:o("mceTableCutRow"),onSetup:e.onSetupCellOrRow}),n.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:o("mceTableCopyRow"),onSetup:e.onSetupCellOrRow}),n.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:o("mceTablePasteRowBefore"),onSetup:e.onSetupPasteable(r.getRows)}),n.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:o("mceTablePasteRowAfter"),onSetup:e.onSetupPasteable(r.getRows)});var c={type:"nestedmenuitem",text:"Row",getSubmenuItems:v("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};n.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:o("mceTableInsertColBefore"),onSetup:e.onSetupColumn("onFirst")}),n.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:o("mceTableInsertColAfter"),onSetup:e.onSetupColumn("onLast")}),n.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:o("mceTableDeleteCol"),onSetup:e.onSetupColumn("onAny")}),n.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:o("mceTableCutCol"),onSetup:e.onSetupColumn("onAny")}),n.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:o("mceTableCopyCol"),onSetup:e.onSetupColumn("onAny")}),n.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:o("mceTablePasteColBefore"),onSetup:e.onSetupPasteableColumn(r.getColumns,"onFirst")}),n.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:o("mceTablePasteColAfter"),onSetup:e.onSetupPasteableColumn(r.getColumns,"onLast")});var l={type:"nestedmenuitem",text:"Column",getSubmenuItems:v("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};n.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:o("mceTableCellProps"),onSetup:e.onSetupCellOrRow}),n.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:o("mceTableMergeCells"),onSetup:e.onSetupMergeable}),n.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:o("mceTableSplitCells"),onSetup:e.onSetupUnmergeable});var f={type:"nestedmenuitem",text:"Cell",getSubmenuItems:v("tablecellprops tablemergecells tablesplitcells")};!1===Rs(n)?n.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:o("mceInsertTable")}):n.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:u}]}}),n.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:o("mceInsertTable")}),n.ui.registry.addMenuItem("tableprops",i),n.ui.registry.addMenuItem("deletetable",a),n.ui.registry.addNestedMenuItem("row",c),n.ui.registry.addNestedMenuItem("column",l),n.ui.registry.addNestedMenuItem("cell",f),n.ui.registry.addContextMenu("table",{update:function(){return e.resetTargets(),e.targets().fold(v(""),(function(n){return"caption"===re(n.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"}))}});var s=Sh(Ps(n));0!==s.length&&n.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return xh(n,t,s,"tableclass",(function(t){return n.execCommand("mceTableToggleClass",!1,t)}))},onSetup:e.onSetupTable});var d=Sh(Es(n));0!==d.length&&n.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return xh(n,t,d,"tablecellclass",(function(t){return n.execCommand("mceTableCellToggleClass",!1,t)}))},onSetup:e.onSetupCellOrRow}),n.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return xh(n,t,nh,"tablecellverticalalign",Th(n,"vertical-align"))},onSetup:e.onSetupCellOrRow}),n.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return xh(n,t,vs(n),"tablecellborderwidth",Th(n,"border-width"))},onSetup:e.onSetupCellOrRow}),n.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return xh(n,t,bs(n),"tablecellborderstyle",Th(n,"border-style"))},onSetup:e.onSetupCellOrRow}),n.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:o("mceTableToggleCaption"),onSetup:e.onSetupTableWithCaption}),n.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return Ah(n,Hs(n),"background-color")},onSetup:e.onSetupCellOrRow}),n.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return Ah(n,Vs(n),"border-color")},onSetup:e.onSetupCellOrRow}),n.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:Rh(n),onSetup:e.onSetupTableRowHeaders}),n.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:Oh(n),onSetup:e.onSetupTableColumnHeaders})},wC=function(n){var t=vu((function(){return qa(n)}),(function(){return xc(tc(n),Xa(n))}),pc.selectedSelector),e=hC(n,t),r=ud(n),o=pC(n,r.lazyResize,e),u=xg(n,o,r.lazyWire),i=wv();return bv(n,u,o,t,i),yv(n,u,t),Oc(n,t,u),yC(n,t,e,i),vC(n,t,e,i),bC(n),n.on("PreInit",(function(){n.serializer.addTempAttr(pc.firstSelected),n.serializer.addTempAttr(pc.lastSelected),Sv(n)})),xs(n)&&n.on("keydown",(function(t){uy(t,n,o)})),n.on("remove",(function(){r.destroy()})),Ug(n,i,r,e)};function CC(){bu.add("table",wC)}CC()})()},"9ab4":function(n,t,e){"use strict";e.r(t),e.d(t,"__extends",(function(){return o})),e.d(t,"__assign",(function(){return u})),e.d(t,"__rest",(function(){return i})),e.d(t,"__decorate",(function(){return a})),e.d(t,"__param",(function(){return c})),e.d(t,"__metadata",(function(){return l})),e.d(t,"__awaiter",(function(){return f})),e.d(t,"__generator",(function(){return s})),e.d(t,"__createBinding",(function(){return d})),e.d(t,"__exportStar",(function(){return m})),e.d(t,"__values",(function(){return p})),e.d(t,"__read",(function(){return g})),e.d(t,"__spread",(function(){return h})),e.d(t,"__spreadArrays",(function(){return v})),e.d(t,"__spreadArray",(function(){return b})),e.d(t,"__await",(function(){return y})),e.d(t,"__asyncGenerator",(function(){return w})),e.d(t,"__asyncDelegator",(function(){return C})),e.d(t,"__asyncValues",(function(){return x})),e.d(t,"__makeTemplateObject",(function(){return T})),e.d(t,"__importStar",(function(){return D})),e.d(t,"__importDefault",(function(){return A})),e.d(t,"__classPrivateFieldGet",(function(){return R})),e.d(t,"__classPrivateFieldSet",(function(){return O})),e.d(t,"__classPrivateFieldIn",(function(){return E}));var r=function(n,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])},r(n,t)};function o(n,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}r(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var u=function(){return u=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e],t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},u.apply(this,arguments)};function i(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]])}return e}function a(n,t,e,r){var o,u=arguments.length,i=u<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(u<3?o(i):u>3?o(t,e,i):o(t,e))||i);return u>3&&i&&Object.defineProperty(t,e,i),i}function c(n,t){return function(e,r){t(e,r,n)}}function l(n,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(n,t)}function f(n,t,e,r){function o(n){return n instanceof e?n:new e((function(t){t(n)}))}return new(e||(e=Promise))((function(e,u){function i(n){try{c(r.next(n))}catch(t){u(t)}}function a(n){try{c(r["throw"](n))}catch(t){u(t)}}function c(n){n.done?e(n.value):o(n.value).then(i,a)}c((r=r.apply(n,t||[])).next())}))}function s(n,t){var e,r,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(n){return function(t){return c([n,t])}}function c(u){if(e)throw new TypeError("Generator is already executing.");while(i)try{if(e=1,r&&(o=2&u[0]?r["return"]:u[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(o=i.trys,!(o=o.length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(n,i)}catch(a){u=[6,a],r=0}finally{e=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var d=Object.create?function(n,t,e,r){void 0===r&&(r=e);var o=Object.getOwnPropertyDescriptor(t,e);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(n,r,o)}:function(n,t,e,r){void 0===r&&(r=e),n[r]=t[e]};function m(n,t){for(var e in n)"default"===e||Object.prototype.hasOwnProperty.call(t,e)||d(t,n,e)}function p(n){var t="function"===typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"===typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(n,t){var e="function"===typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,o,u=e.call(n),i=[];try{while((void 0===t||t-- >0)&&!(r=u.next()).done)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(e=u["return"])&&e.call(u)}finally{if(o)throw o.error}}return i}function h(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(g(arguments[t]));return n}function v(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;var r=Array(n),o=0;for(t=0;t<e;t++)for(var u=arguments[t],i=0,a=u.length;i<a;i++,o++)r[o]=u[i];return r}function b(n,t,e){if(e||2===arguments.length)for(var r,o=0,u=t.length;o<u;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return n.concat(r||Array.prototype.slice.call(t))}function y(n){return this instanceof y?(this.v=n,this):new y(n)}function w(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=e.apply(n,t||[]),u=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(n){o[n]&&(r[n]=function(t){return new Promise((function(e,r){u.push([n,t,e,r])>1||a(n,t)}))})}function a(n,t){try{c(o[n](t))}catch(e){s(u[0][3],e)}}function c(n){n.value instanceof y?Promise.resolve(n.value.v).then(l,f):s(u[0][2],n)}function l(n){a("next",n)}function f(n){a("throw",n)}function s(n,t){n(t),u.shift(),u.length&&a(u[0][0],u[0][1])}}function C(n){var t,e;return t={},r("next"),r("throw",(function(n){throw n})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=n[r]?function(t){return(e=!e)?{value:y(n[r](t)),done:"return"===r}:o?o(t):t}:o}}function x(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n="function"===typeof p?p(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(e){t[e]=n[e]&&function(t){return new Promise((function(r,u){t=n[e](t),o(r,u,t.done,t.value)}))}}function o(n,t,e,r){Promise.resolve(r).then((function(t){n({value:t,done:e})}),t)}}function T(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}var S=Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n["default"]=t};function D(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)"default"!==e&&Object.prototype.hasOwnProperty.call(n,e)&&d(t,n,e);return S(t,n),t}function A(n){return n&&n.__esModule?n:{default:n}}function R(n,t,e,r){if("a"===e&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?r:"a"===e?r.call(n):r?r.value:t.get(n)}function O(n,t,e,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?n!==t||!o:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(n,e):o?o.value=e:t.set(n,e),e}function E(n,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof n?t===n:n.has(t)}},a7bc:function(n,t){n.exports=/[\0-\x1F\x7F-\x9F]/},bc54:function(n,t,e){e("7c4f")},c361:function(n,t){(function(){"use strict";var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(n){var t=n.getParam("nonbreaking_force_tab",0);return"boolean"===typeof t?!0===t?3:0:t},e=function(n){return n.getParam("nonbreaking_wrap",!0,"boolean")},r=function(n,t){for(var e="",r=0;r<t;r++)e+=n;return e},o=function(n){return!!n.plugins.visualchars&&n.plugins.visualchars.isEnabled()},u=function(n,t){var u=function(){return o(n)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"},i=function(){return'<span class="'+u()+'" contenteditable="false">'+r("&nbsp;",t)+"</span>"},a=e(n),c=a||n.plugins.visualchars?i():r("&nbsp;",t);n.undoManager.transact((function(){return n.insertContent(c)}))},i=function(n){n.addCommand("mceNonBreaking",(function(){u(n,1)}))},a=tinymce.util.Tools.resolve("tinymce.util.VK"),c=function(n){var e=t(n);e>0&&n.on("keydown",(function(t){if(t.keyCode===a.TAB&&!t.isDefaultPrevented()){if(t.shiftKey)return;t.preventDefault(),t.stopImmediatePropagation(),u(n,e)}}))},l=function(n){var t=function(){return n.execCommand("mceNonBreaking")};n.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:t}),n.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:t})};function f(){n.add("nonbreaking",(function(n){i(n),l(n),c(n)}))}f()})()},cbc0:function(n,t,e){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},r.apply(this,arguments)}function o(n,t){if(null==n)return{};var e,r,o={},u=Object.keys(n);for(r=0;r<u.length;r++)e=u[r],t.indexOf(e)>=0||(o[e]=n[e]);return o}e.r(t),e.d(t,"useUncontrolled",(function(){return v})),e.d(t,"useUncontrolledProp",(function(){return h})),e.d(t,"uncontrollable",(function(){return x}));var u=e("7037"),i=e.n(u),a=e("40b6"),c=e.n(a),l=function(){};function f(n,t){var e={};return Object.keys(n).forEach((function(n){e[d(n)]=l})),e}function s(n,t){return void 0!==n[t]}function d(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function m(n){return!!n&&("function"!==typeof n||n.prototype&&n.prototype.isReactComponent)}function p(n){var t=g(n,"string");return"symbol"===typeof t?t:String(t)}function g(n,t){if("object"!==typeof n||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var r=e.call(n,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}function h(n,t,e){var r=Object(u["useRef"])(void 0!==n),o=Object(u["useState"])(t),i=o[0],a=o[1],c=void 0!==n,l=r.current;return r.current=c,!c&&l&&i!==t&&a(t),[c?n:i,Object(u["useCallback"])((function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];e&&e.apply(void 0,[n].concat(r)),a(n)}),[e])]}function v(n,t){return Object.keys(t).reduce((function(e,u){var i,a=e,c=a[d(u)],l=a[u],f=o(a,[d(u),u].map(p)),s=t[u],m=h(l,c,n[s]),g=m[0],v=m[1];return r({},f,(i={},i[u]=g,i[s]=v,i))}),n)}function b(n,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,t){return n.__proto__=t,n},b(n,t)}function y(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,b(n,t)}var w=e("5422"),C="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function x(n,t,e){void 0===e&&(e=[]);var u=n.displayName||n.name||"Component",a=m(n),l=Object.keys(t),p=l.map(d);!a&&e.length&&c()(!1);var g=function(u){function a(){for(var n,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];n=u.call.apply(u,[this].concat(i))||this,n.handlers=Object.create(null),l.forEach((function(e){var o=t[e],u=function(t){if(n.props[o]){var u;n._notifying=!0;for(var i=arguments.length,a=new Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=arguments[c];(u=n.props)[o].apply(u,[t].concat(a)),n._notifying=!1}n.unmounted||n.setState((function(n){var o,u=n.values;return{values:r(Object.create(null),u,(o={},o[e]=t,o))}}))};n.handlers[o]=u})),e.length&&(n.attachRef=function(t){n.inner=t});var c=Object.create(null);return l.forEach((function(t){c[t]=n.props[d(t)]})),n.state={values:c,prevProps:{}},n}y(a,u);var c=a.prototype;return c.shouldComponentUpdate=function(){return!this._notifying},a.getDerivedStateFromProps=function(n,t){var e=t.values,o=t.prevProps,u={values:r(Object.create(null),e),prevProps:{}};return l.forEach((function(t){u.prevProps[t]=n[t],!s(n,t)&&s(o,t)&&(u.values[t]=n[d(t)])})),u},c.componentWillUnmount=function(){this.unmounted=!0},c.render=function(){var t=this,e=this.props,u=e.innerRef,a=o(e,["innerRef"]);p.forEach((function(n){delete a[n]}));var c={};return l.forEach((function(n){var e=t.props[n];c[n]=void 0!==e?e:t.state.values[n]})),i.a.createElement(n,r({},a,c,this.handlers,{ref:u||this.attachRef}))},a}(i.a.Component);Object(w["a"])(g),g.displayName="Uncontrolled("+u+")",g.propTypes=r({innerRef:function(){}},f(t,u)),e.forEach((function(n){g.prototype[n]=function(){var t;return(t=this.inner)[n].apply(t,arguments)}}));var h=g;return i.a.forwardRef&&(h=i.a.forwardRef((function(n,t){return i.a.createElement(g,r({},n,{innerRef:t,__source:{fileName:C,lineNumber:128},__self:this}))})),h.propTypes=g.propTypes),h.ControlledComponent=n,h.deferControlTo=function(n,e,o){return void 0===e&&(e={}),x(n,r({},t,e),o)},h}},cbc7:function(n,t){n.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},cf08:function(n,t){(function(){"use strict";var n=function(n){var t=n,e=function(){return t},r=function(n){t=n};return{get:e,set:r}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(n){var t=function(){return n.get()};return{isEnabled:t}},r=function(n,t){return n.fire("VisualChars",{state:t})},o=function(n){var t=typeof n;return null===n?"null":"object"===t&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":t},u=function(n){return function(t){return o(t)===n}},i=function(n){return function(t){return typeof t===n}},a=u("string"),c=i("boolean"),l=i("number"),f=function(){},s=function(n){return function(){return n}},d=function(n){return n},m=s(!1),p=s(!0),g=function(){return h},h=function(){var n=function(n){return n()},t=d,e={fold:function(n,t){return n()},isSome:m,isNone:p,getOr:t,getOrThunk:n,getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.")},getOrNull:s(null),getOrUndefined:s(void 0),or:t,orThunk:n,map:g,each:f,bind:g,exists:m,forall:p,filter:function(){return g()},toArray:function(){return[]},toString:s("none()")};return e}(),v=function(n){var t=s(n),e=function(){return o},r=function(t){return t(n)},o={fold:function(t,e){return e(n)},isSome:p,isNone:m,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:e,orThunk:e,map:function(t){return v(t(n))},each:function(t){t(n)},bind:r,exists:r,forall:r,filter:function(t){return t(n)?o:h},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return o},b=function(n){return null===n||void 0===n?h:v(n)},y={some:v,none:g,from:b},w=function(n,t){for(var e=n.length,r=new Array(e),o=0;o<e;o++){var u=n[o];r[o]=t(u,o)}return r},C=function(n,t){for(var e=0,r=n.length;e<r;e++){var o=n[e];t(o,e)}},x=function(n,t){for(var e=[],r=0,o=n.length;r<o;r++){var u=n[r];t(u,r)&&e.push(u)}return e},T=Object.keys,S=function(n,t){for(var e=T(n),r=0,o=e.length;r<o;r++){var u=e[r],i=n[u];t(i,u)}};"undefined"!==typeof window?window:Function("return this;")();var D=3,A=function(n){return n.dom.nodeType},R=function(n){return n.dom.nodeValue},O=function(n){return function(t){return A(t)===n}},E=O(D),k=function(n,t,e){if(!(a(e)||c(e)||l(e)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",e,":: Element ",n),new Error("Attribute value was not simple");n.setAttribute(t,e+"")},P=function(n,t,e){k(n.dom,t,e)},F=function(n,t){var e=n.dom.getAttribute(t);return null===e?void 0:e},_=function(n,t){n.dom.removeAttribute(t)},B=function(n,t){var e=F(n,t);return void 0===e||""===e?[]:e.split(" ")},M=function(n,t,e){var r=B(n,t),o=r.concat([e]);return P(n,t,o.join(" ")),!0},N=function(n,t,e){var r=x(B(n,t),(function(n){return n!==e}));return r.length>0?P(n,t,r.join(" ")):_(n,t),!1},I=function(n){return void 0!==n.dom.classList},j=function(n){return B(n,"class")},L=function(n,t){return M(n,"class",t)},W=function(n,t){return N(n,"class",t)},z=function(n,t){I(n)?n.dom.classList.add(t):L(n,t)},U=function(n){var t=I(n)?n.dom.classList:j(n);0===t.length&&_(n,"class")},H=function(n,t){if(I(n)){var e=n.dom.classList;e.remove(t)}else W(n,t);U(n)},V=function(n,t){var e=t||document,r=e.createElement("div");if(r.innerHTML=n,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",n),new Error("HTML must have a single root node");return $(r.childNodes[0])},q=function(n,t){var e=t||document,r=e.createElement(n);return $(r)},K=function(n,t){var e=t||document,r=e.createTextNode(n);return $(r)},$=function(n){if(null===n||void 0===n)throw new Error("Node cannot be null or undefined");return{dom:n}},X=function(n,t,e){return y.from(n.dom.elementFromPoint(t,e)).map($)},G={fromHtml:V,fromTag:q,fromText:K,fromDom:$,fromPoint:X},Y={" ":"nbsp","­":"shy"},J=function(n,t){var e="";return S(n,(function(n,t){e+=t})),new RegExp("["+e+"]",t?"g":"")},Z=function(n){var t="";return S(n,(function(n){t&&(t+=","),t+="span.mce-"+n})),t},Q=J(Y),nn=J(Y,!0),tn=Z(Y),en="mce-nbsp",rn=function(n){return'<span data-mce-bogus="1" class="mce-'+Y[n]+'">'+n+"</span>"},on=function(n){var t=R(n);return E(n)&&void 0!==t&&Q.test(t)},un=function(n,t){var e=[],r=n.dom,o=w(r.childNodes,G.fromDom);return C(o,(function(n){t(n)&&(e=e.concat([n])),e=e.concat(un(n,t))})),e},an=function(n,t){while(n.parentNode){if(n.parentNode===t)return n;n=n.parentNode}},cn=function(n){return n.replace(nn,rn)},ln=function(n){return"span"===n.nodeName.toLowerCase()&&n.classList.contains("mce-nbsp-wrap")},fn=function(n,t){var e=un(G.fromDom(t),on);C(e,(function(t){var e=t.dom.parentNode;if(ln(e))z(G.fromDom(e),en);else{var r=cn(n.dom.encode(R(t))),o=n.dom.create("div",null,r),u=void 0;while(u=o.lastChild)n.dom.insertAfter(u,t.dom);n.dom.remove(t.dom)}}))},sn=function(n,t){var e=n.dom.select(tn,t);C(e,(function(t){ln(t)?H(G.fromDom(t),en):n.dom.remove(t,!0)}))},dn=function(n){var t=n.getBody(),e=n.selection.getBookmark(),r=an(n.selection.getNode(),t);r=void 0!==r?r:t,sn(n,r),fn(n,r),n.selection.moveToBookmark(e)},mn=function(n,t){r(n,t.get());var e=n.getBody();!0===t.get()?fn(n,e):sn(n,e)},pn=function(n,t){t.set(!t.get());var e=n.selection.getBookmark();mn(n,t),n.selection.moveToBookmark(e)},gn=function(n,t){n.addCommand("mceVisualChars",(function(){pn(n,t)}))},hn=function(n){return n.getParam("visualchars_default_state",!1)},vn=function(n){return!1!==n.getParam("forced_root_block")},bn=function(n,t){n.on("init",(function(){mn(n,t)}))},yn=tinymce.util.Tools.resolve("tinymce.util.Delay"),wn=function(n,t){var e=yn.debounce((function(){dn(n)}),300);vn(n)&&n.on("keydown",(function(r){!0===t.get()&&(13===r.keyCode?dn(n):e())})),n.on("remove",e.stop)},Cn=function(n,t){return function(e){e.setActive(t.get());var r=function(n){return e.setActive(n.state)};return n.on("VisualChars",r),function(){return n.off("VisualChars",r)}}},xn=function(n,t){var e=function(){return n.execCommand("mceVisualChars")};n.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:e,onSetup:Cn(n,t)}),n.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:e,onSetup:Cn(n,t)})};function Tn(){t.add("visualchars",(function(t){var r=n(hn(t));return gn(t,r),xn(t,r),wn(t,r),bn(t,r),e(r)}))}Tn()})()},d4c3:function(n,t){(function(){"use strict";var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),e=function(n){n.addCommand("mcePrint",(function(){t.browser.isIE()?n.getDoc().execCommand("print",!1,null):n.getWin().print()}))},r=function(n){var t=function(){return n.execCommand("mcePrint")};n.ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:t}),n.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:t})};function o(){n.add("print",(function(n){e(n),r(n),n.addShortcut("Meta+P","","mcePrint")}))}o()})()},d5d1:function(n,t,e){"use strict";t.Any=e("cbc7"),t.Cc=e("a7bc"),t.Cf=e("6fd1"),t.P=e("7ca0"),t.Z=e("4fc2")},d938:function(n,t,e){var r=e("b639").Buffer;n.exports=function(n){if(n instanceof Uint8Array){if(0===n.byteOffset&&n.byteLength===n.buffer.byteLength)return n.buffer;if("function"===typeof n.buffer.slice)return n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}if(r.isBuffer(n)){for(var t=new Uint8Array(n.length),e=n.length,o=0;o<e;o++)t[o]=n[o];return t.buffer}throw new Error("Argument must be a Buffer")}},e8b0:function(n,t){(function(){"use strict";var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(n){return n},e=function(){return e=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e],t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},e.apply(this,arguments)},r="\ufeff",o=function(n){return n.replace(/\uFEFF/g,"")},u=function(n,t){for(var e=n.length,r=new Array(e),o=0;o<e;o++){var u=n[o];r[o]=t(u,o)}return r},i="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",a={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:i},c={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},l=[new RegExp(a.aletter),new RegExp(a.midnumlet),new RegExp(a.midletter),new RegExp(a.midnum),new RegExp(a.numeric),new RegExp(a.cr),new RegExp(a.lf),new RegExp(a.newline),new RegExp(a.extend),new RegExp(a.format),new RegExp(a.katakana),new RegExp(a.extendnumlet),new RegExp("@")],f="",s=new RegExp("^"+a.punctuation+"$"),d=/^\s+$/,m=l,p=c.OTHER,g=function(n){for(var t=p,e=m.length,r=0;r<e;++r){var o=m[r];if(o&&o.test(n)){t=r;break}}return t},h=function(n){var t={};return function(e){if(t[e])return t[e];var r=n(e);return t[e]=r,r}},v=function(n){var t=h(g);return u(n,t)},b=function(n,t){var e=n[t],r=n[t+1];if(t<0||t>n.length-1&&0!==t)return!1;if(e===c.ALETTER&&r===c.ALETTER)return!1;var o=n[t+2];if(e===c.ALETTER&&(r===c.MIDLETTER||r===c.MIDNUMLET||r===c.AT)&&o===c.ALETTER)return!1;var u=n[t-1];return(e!==c.MIDLETTER&&e!==c.MIDNUMLET&&r!==c.AT||r!==c.ALETTER||u!==c.ALETTER)&&((e!==c.NUMERIC&&e!==c.ALETTER||r!==c.NUMERIC&&r!==c.ALETTER)&&((e!==c.MIDNUM&&e!==c.MIDNUMLET||r!==c.NUMERIC||u!==c.NUMERIC)&&((e!==c.NUMERIC||r!==c.MIDNUM&&r!==c.MIDNUMLET||o!==c.NUMERIC)&&(e!==c.EXTEND&&e!==c.FORMAT&&u!==c.EXTEND&&u!==c.FORMAT&&r!==c.EXTEND&&r!==c.FORMAT&&((e!==c.CR||r!==c.LF)&&(e===c.NEWLINE||e===c.CR||e===c.LF||(r===c.NEWLINE||r===c.CR||r===c.LF||(e!==c.KATAKANA||r!==c.KATAKANA)&&((r!==c.EXTENDNUMLET||e!==c.ALETTER&&e!==c.NUMERIC&&e!==c.KATAKANA&&e!==c.EXTENDNUMLET)&&((e!==c.EXTENDNUMLET||r!==c.ALETTER&&r!==c.NUMERIC&&r!==c.KATAKANA)&&e!==c.AT)))))))))},y=f,w=d,C=s,x=function(n){return"http"===n||"https"===n},T=function(n,t){var e;for(e=t;e<n.length;e++)if(w.test(n[e]))break;return e},S=function(n,t){var e=T(n,t+1),r=n.slice(t+1,e).join(y);return"://"===r.substr(0,3)?e:t},D=function(n,t,e,r){for(var o=[],u=[],i=0;i<e.length;++i)if(u.push(n[i]),b(e,i)){var a=t[i];if((r.includeWhitespace||!w.test(a))&&(r.includePunctuation||!C.test(a))){var c=i-u.length+1,l=i+1,f=t.slice(c,l).join(y);if(x(f)){var s=S(t,i),d=n.slice(l,s);Array.prototype.push.apply(u,d),i=s}o.push(u)}u=[]}return o},A=function(){return{includeWhitespace:!1,includePunctuation:!1}},R=function(n,t,o){o=e(e({},A()),o);for(var u=[],i=[],a=0;a<n.length;a++){var c=t(n[a]);c!==r&&(u.push(n[a]),i.push(c))}var l=v(i);return D(u,i,l,o)},O=R,E=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),k=function(n,t){var e=t.getBlockElements(),r=t.getShortEndedElements(),u=function(n){return e[n.nodeName]||r[n.nodeName]},i=[],a="",c=new E(n,n);while(n=c.next())3===n.nodeType?a+=o(n.data):u(n)&&a.length&&(i.push(a),a="");return a.length&&i.push(a),i},P=function(n){return n.replace(/\u200B/g,"")},F=function(n){return n.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},_=function(n,e){var r=P(k(n,e).join("\n"));return O(r.split(""),t).length},B=function(n,t){var e=k(n,t).join("");return F(e)},M=function(n,t){var e=k(n,t).join("").replace(/\s/g,"");return F(e)},N=function(n,t){return function(){return t(n.getBody(),n.schema)}},I=function(n,t){return function(){return t(n.selection.getRng().cloneContents(),n.schema)}},j=function(n){return N(n,_)},L=function(n){return{body:{getWordCount:j(n),getCharacterCount:N(n,B),getCharacterCountWithoutSpaces:N(n,M)},selection:{getWordCount:I(n,_),getCharacterCount:I(n,B),getCharacterCountWithoutSpaces:I(n,M)},getCount:j(n)}},W=function(n,t){n.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},z=function(n,t){n.addCommand("mceWordCount",(function(){return W(n,t)}))},U=tinymce.util.Tools.resolve("tinymce.util.Delay"),H=function(n,t){n.fire("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})},V=function(n,t){H(n,t)},q=function(n,t,e){var r=U.debounce((function(){return V(n,t)}),e);n.on("init",(function(){V(n,t),U.setEditorTimeout(n,(function(){n.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",r)}),0)}))},K=function(n){var t=function(){return n.execCommand("mceWordCount")};n.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:t}),n.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:t})};function $(t){void 0===t&&(t=300),n.add("wordcount",(function(n){var e=L(n);return z(n,e),K(n),q(n,e,t),e}))}$()})()},ebac:function(n,t,e){e("080b")},eda9:function(n,t,e){e("c361")}}]);