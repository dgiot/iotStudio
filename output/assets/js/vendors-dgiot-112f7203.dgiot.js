/*!
 *  build: 杭州数蛙科技有限公司 
 *  copyright: dgiot-dashboard 
 *  author: h7ml(h7ml@qq.com) 
 *  Time: 2022年06月27日16时29分37秒
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vendors-dgiot-112f7203"],{1116:function(e,t,i){},4927:function(e,t,i){"use strict";i.d(t,"a",(function(){return Te}));i("ba17");var o=i("290d"),n=i("a152"),r=i("938f"),s=i("a837"),a=i("9909"),d=i("b3de"),l=i("f6cd"),u=i("abe6"),c=i("1902"),h=i("6a29"),f=i("2c73"),p=i("09fc"),g=i("617a"),m=i("1a49"),_=i("bb89"),v=function(){function e(e,t,i,o){this.configuration=e,this.viewModel=t,this.outgoingEvents=i,this.commandDelegate=o}return e.prototype._execMouseCommand=function(e,t){t.source="mouse",this.commandDelegate.executeEditorCommand(e,t)},e.prototype.paste=function(e,t,i,o,n){this.commandDelegate.paste(e,t,i,o,n)},e.prototype.type=function(e,t){this.commandDelegate.type(e,t)},e.prototype.replacePreviousChar=function(e,t,i){this.commandDelegate.replacePreviousChar(e,t,i)},e.prototype.compositionStart=function(e){this.commandDelegate.compositionStart(e)},e.prototype.compositionEnd=function(e){this.commandDelegate.compositionEnd(e)},e.prototype.cut=function(e){this.commandDelegate.cut(e)},e.prototype.setSelection=function(e,t){this.commandDelegate.executeEditorCommand(g["a"].SetSelection,{source:e,selection:t})},e.prototype._validateViewColumn=function(e){var t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new m["a"](e.lineNumber,t):e},e.prototype._hasMulticursorModifier=function(e){switch(this.configuration.options.get(59)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey}return!1},e.prototype._hasNonMulticursorModifier=function(e){switch(this.configuration.options.get(59)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey}return!1},e.prototype.dispatchMouse=function(e){var t=_["d"]&&this.configuration.options.get(81);e.middleButton&&!t?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():3===e.mouseDownCount?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):2===e.mouseDownCount?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)},e.prototype._usualArgs=function(e){return e=this._validateViewColumn(e),{position:this._convertViewToModelPosition(e),viewPosition:e}},e.prototype.moveTo=function(e){this._execMouseCommand(g["a"].MoveTo,this._usualArgs(e))},e.prototype._moveToSelect=function(e){this._execMouseCommand(g["a"].MoveToSelect,this._usualArgs(e))},e.prototype._columnSelect=function(e,t,i){e=this._validateViewColumn(e),this._execMouseCommand(g["a"].ColumnSelect,{position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})},e.prototype._createCursor=function(e,t){e=this._validateViewColumn(e),this._execMouseCommand(g["a"].CreateCursor,{position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})},e.prototype._lastCursorMoveToSelect=function(e){this._execMouseCommand(g["a"].LastCursorMoveToSelect,this._usualArgs(e))},e.prototype._wordSelect=function(e){this._execMouseCommand(g["a"].WordSelect,this._usualArgs(e))},e.prototype._wordSelectDrag=function(e){this._execMouseCommand(g["a"].WordSelectDrag,this._usualArgs(e))},e.prototype._lastCursorWordSelect=function(e){this._execMouseCommand(g["a"].LastCursorWordSelect,this._usualArgs(e))},e.prototype._lineSelect=function(e){this._execMouseCommand(g["a"].LineSelect,this._usualArgs(e))},e.prototype._lineSelectDrag=function(e){this._execMouseCommand(g["a"].LineSelectDrag,this._usualArgs(e))},e.prototype._lastCursorLineSelect=function(e){this._execMouseCommand(g["a"].LastCursorLineSelect,this._usualArgs(e))},e.prototype._lastCursorLineSelectDrag=function(e){this._execMouseCommand(g["a"].LastCursorLineSelectDrag,this._usualArgs(e))},e.prototype._selectAll=function(){this._execMouseCommand(g["a"].SelectAll,{})},e.prototype._convertViewToModelPosition=function(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)},e.prototype.emitKeyDown=function(e){this.outgoingEvents.emitKeyDown(e)},e.prototype.emitKeyUp=function(e){this.outgoingEvents.emitKeyUp(e)},e.prototype.emitContextMenu=function(e){this.outgoingEvents.emitContextMenu(e)},e.prototype.emitMouseMove=function(e){this.outgoingEvents.emitMouseMove(e)},e.prototype.emitMouseLeave=function(e){this.outgoingEvents.emitMouseLeave(e)},e.prototype.emitMouseUp=function(e){this.outgoingEvents.emitMouseUp(e)},e.prototype.emitMouseDown=function(e){this.outgoingEvents.emitMouseDown(e)},e.prototype.emitMouseDrag=function(e){this.outgoingEvents.emitMouseDrag(e)},e.prototype.emitMouseDrop=function(e){this.outgoingEvents.emitMouseDrop(e)},e.prototype.emitMouseWheel=function(e){this.outgoingEvents.emitMouseWheel(e)},e}(),y=i("9e43"),w=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),D=function(e){function t(t){var i=e.call(this)||this;return i.onDidContentSizeChange=null,i.onDidScroll=null,i.onDidGainFocus=null,i.onDidLoseFocus=null,i.onKeyDown=null,i.onKeyUp=null,i.onContextMenu=null,i.onMouseMove=null,i.onMouseLeave=null,i.onMouseUp=null,i.onMouseDown=null,i.onMouseDrag=null,i.onMouseDrop=null,i.onMouseWheel=null,i._viewModel=t,i}return w(t,e),t.prototype.emitContentSizeChange=function(e){this.onDidContentSizeChange&&this.onDidContentSizeChange(e)},t.prototype.emitScrollChanged=function(e){this.onDidScroll&&this.onDidScroll(e)},t.prototype.emitViewFocusGained=function(){this.onDidGainFocus&&this.onDidGainFocus(void 0)},t.prototype.emitViewFocusLost=function(){this.onDidLoseFocus&&this.onDidLoseFocus(void 0)},t.prototype.emitKeyDown=function(e){this.onKeyDown&&this.onKeyDown(e)},t.prototype.emitKeyUp=function(e){this.onKeyUp&&this.onKeyUp(e)},t.prototype.emitContextMenu=function(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseMove=function(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseLeave=function(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseUp=function(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseDown=function(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseDrag=function(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseDrop=function(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseWheel=function(e){this.onMouseWheel&&this.onMouseWheel(e)},t.prototype._convertViewToModelMouseEvent=function(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e},t.prototype._convertViewToModelMouseTarget=function(e){return t.convertViewToModelMouseTarget(e,this._viewModel.coordinatesConverter)},t.convertViewToModelMouseTarget=function(e,t){return new C(e.element,e.type,e.mouseColumn,e.position?t.convertViewPositionToModelPosition(e.position):null,e.range?t.convertViewRangeToModelRange(e.range):null,e.detail)},t}(a["a"]),C=function(){function e(e,t,i,o,n,r){this.element=e,this.type=t,this.mouseColumn=i,this.position=o,this.range=n,this.detail=r}return e.prototype.toString=function(){return y["b"].toString(this)},e}(),b=i("8c28"),S=i("5e53"),L=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),E=function(e){function t(t){var i=e.call(this,t)||this;return i._visibleLines=new b["b"](i),i.domNode=i._visibleLines.domNode,i._dynamicOverlays=[],i._isFocused=!1,i.domNode.setClassName("view-overlays"),i}return L(t,e),t.prototype.shouldRender=function(){if(e.prototype.shouldRender.call(this))return!0;for(var t=0,i=this._dynamicOverlays.length;t<i;t++){var o=this._dynamicOverlays[t];if(o.shouldRender())return!0}return!1},t.prototype.dispose=function(){e.prototype.dispose.call(this);for(var t=0,i=this._dynamicOverlays.length;t<i;t++){var o=this._dynamicOverlays[t];o.dispose()}this._dynamicOverlays=[]},t.prototype.getDomNode=function(){return this.domNode},t.prototype.createVisibleLine=function(){return new N(this._context.configuration,this._dynamicOverlays)},t.prototype.addDynamicOverlay=function(e){this._dynamicOverlays.push(e)},t.prototype.onConfigurationChanged=function(e){this._visibleLines.onConfigurationChanged(e);for(var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=t;o<=i;o++){var n=this._visibleLines.getVisibleLine(o);n.onConfigurationChanged(e)}return!0},t.prototype.onFlushed=function(e){return this._visibleLines.onFlushed(e)},t.prototype.onFocusChanged=function(e){return this._isFocused=e.isFocused,!0},t.prototype.onLinesChanged=function(e){return this._visibleLines.onLinesChanged(e)},t.prototype.onLinesDeleted=function(e){return this._visibleLines.onLinesDeleted(e)},t.prototype.onLinesInserted=function(e){return this._visibleLines.onLinesInserted(e)},t.prototype.onScrollChanged=function(e){return this._visibleLines.onScrollChanged(e)||!0},t.prototype.onTokensChanged=function(e){return this._visibleLines.onTokensChanged(e)},t.prototype.onZonesChanged=function(e){return this._visibleLines.onZonesChanged(e)},t.prototype.prepareRender=function(e){for(var t=this._dynamicOverlays.filter((function(e){return e.shouldRender()})),i=0,o=t.length;i<o;i++){var n=t[i];n.prepareRender(e),n.onDidRender()}},t.prototype.render=function(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)},t.prototype._viewOverlaysRender=function(e){this._visibleLines.renderLines(e.viewportData)},t}(S["b"]),N=function(){function e(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(49),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}return e.prototype.getDomNode=function(){return this._domNode?this._domNode.domNode:null},e.prototype.setDomNode=function(e){this._domNode=Object(h["b"])(e)},e.prototype.onContentChanged=function(){},e.prototype.onTokensChanged=function(){},e.prototype.onConfigurationChanged=function(e){this._lineHeight=this._configuration.options.get(49)},e.prototype.renderLine=function(e,t,i,o){for(var n="",r=0,s=this._dynamicOverlays.length;r<s;r++){var a=this._dynamicOverlays[r];n+=a.render(i.startLineNumber,e)}return this._renderedContent!==n&&(this._renderedContent=n,o.appendASCIIString('<div style="position:absolute;top:'),o.appendASCIIString(String(t)),o.appendASCIIString("px;width:100%;height:"),o.appendASCIIString(String(this._lineHeight)),o.appendASCIIString('px;">'),o.appendASCIIString(n),o.appendASCIIString("</div>"),!0)},e.prototype.layoutLine=function(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))},e}(),M=function(e){function t(t){var i=e.call(this,t)||this,o=i._context.configuration.options,n=o.get(107);return i._contentWidth=n.contentWidth,i.domNode.setHeight(0),i}return L(t,e),t.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options,o=i.get(107);return this._contentWidth=o.contentWidth,e.prototype.onConfigurationChanged.call(this,t)||!0},t.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollWidthChanged},t.prototype._viewOverlaysRender=function(t){e.prototype._viewOverlaysRender.call(this,t),this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth))},t}(E),R=function(e){function t(t){var i=e.call(this,t)||this,o=i._context.configuration.options,n=o.get(107);return i._contentLeft=n.contentLeft,i.domNode.setClassName("margin-view-overlays"),i.domNode.setWidth(1),l["a"].applyFontInfo(i.domNode,o.get(34)),i}return L(t,e),t.prototype.onConfigurationChanged=function(t){var i=this._context.configuration.options;l["a"].applyFontInfo(this.domNode,i.get(34));var o=i.get(107);return this._contentLeft=o.contentLeft,e.prototype.onConfigurationChanged.call(this,t)||!0},t.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollHeightChanged},t.prototype._viewOverlaysRender=function(t){e.prototype._viewOverlaysRender.call(this,t);var i=Math.min(t.scrollHeight,1e6);this.domNode.setHeight(i),this.domNode.setWidth(this._contentLeft)},t}(E),O=i("ae0f"),I=i("95a6"),T=i("2211"),x=i("0c3a"),P=i("acc2"),V=i("c764"),W=i("8de8"),F=i("f6fe"),A=i("13e4"),H=i("9a1c"),k=i("d383"),U=i("4628"),j=i("d891"),z=i("8771"),Z=i("2409"),B=i("d0fd"),K=i("9d88"),q=i("b7c6"),G=i("df63"),X=i("4040"),J=i("2383"),Y=i("5e76"),Q=i("6a65"),$=i("22dc"),ee=i("2441"),te=i("0f46"),ie=i("2a6b"),oe=i("c478"),ne=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),re=function(e){function t(t,i,o,n,r,s){var a=e.call(this)||this;a._cursor=r,a._renderAnimationFrame=null,a.outgoingEvents=s;var d=new v(i,n,a.outgoingEvents,t);a.eventDispatcher=new $["a"]((function(e){return a._renderOnce(e)})),a.eventDispatcher.addEventHandler(a),a._context=new Q["a"](i,o.getTheme(),n,a.eventDispatcher),a._register(o.onThemeChange((function(e){a._context.theme=e,a.eventDispatcher.emit(new ee["o"]),a.render(!0,!1)}))),a.viewParts=[],a._textAreaHandler=new p["a"](a._context,d,a.createTextAreaHandlerHelper()),a.viewParts.push(a._textAreaHandler),a.linesContent=Object(h["b"])(document.createElement("div")),a.linesContent.setClassName("lines-content monaco-editor-background"),a.linesContent.setPosition("absolute"),a.domNode=Object(h["b"])(document.createElement("div")),a.domNode.setClassName(a.getEditorClassName()),a.overflowGuardContainer=Object(h["b"])(document.createElement("div")),S["a"].write(a.overflowGuardContainer,3),a.overflowGuardContainer.setClassName("overflow-guard"),a._scrollbar=new x["a"](a._context,a.linesContent,a.domNode,a.overflowGuardContainer),a.viewParts.push(a._scrollbar),a.viewLines=new F["a"](a._context,a.linesContent),a.viewZones=new X["a"](a._context),a.viewParts.push(a.viewZones);var l=new z["a"](a._context);a.viewParts.push(l);var u=new K["a"](a._context);a.viewParts.push(u);var c=new M(a._context);a.viewParts.push(c),c.addDynamicOverlay(new I["a"](a._context)),c.addDynamicOverlay(new q["a"](a._context)),c.addDynamicOverlay(new V["a"](a._context)),c.addDynamicOverlay(new T["a"](a._context));var g=new R(a._context);a.viewParts.push(g),g.addDynamicOverlay(new I["b"](a._context)),g.addDynamicOverlay(new P["c"](a._context)),g.addDynamicOverlay(new k["a"](a._context)),g.addDynamicOverlay(new A["a"](a._context)),g.addDynamicOverlay(new W["a"](a._context));var m=new H["a"](a._context);m.getDomNode().appendChild(a.viewZones.marginDomNode),m.getDomNode().appendChild(g.getDomNode()),a.viewParts.push(m),a.contentWidgets=new O["a"](a._context,a.domNode),a.viewParts.push(a.contentWidgets),a.viewCursors=new G["a"](a._context),a.viewParts.push(a.viewCursors),a.overlayWidgets=new j["a"](a._context),a.viewParts.push(a.overlayWidgets);var _=new B["a"](a._context);a.viewParts.push(_);var y=new U["a"](a._context);if(a.viewParts.push(y),l){var w=a._scrollbar.getOverviewRulerLayoutInfo();w.parent.insertBefore(l.getDomNode(),w.insertBefore)}return a.linesContent.appendChild(c.getDomNode()),a.linesContent.appendChild(_.domNode),a.linesContent.appendChild(a.viewZones.domNode),a.linesContent.appendChild(a.viewLines.getDomNode()),a.linesContent.appendChild(a.contentWidgets.domNode),a.linesContent.appendChild(a.viewCursors.getDomNode()),a.overflowGuardContainer.appendChild(m.getDomNode()),a.overflowGuardContainer.appendChild(a._scrollbar.getDomNode()),a.overflowGuardContainer.appendChild(u.getDomNode()),a.overflowGuardContainer.appendChild(a._textAreaHandler.textArea),a.overflowGuardContainer.appendChild(a._textAreaHandler.textAreaCover),a.overflowGuardContainer.appendChild(a.overlayWidgets.getDomNode()),a.overflowGuardContainer.appendChild(y.getDomNode()),a.domNode.appendChild(a.overflowGuardContainer),a.domNode.appendChild(a.contentWidgets.overflowingContentWidgetsDomNode),a._applyLayout(),a.pointerHandler=a._register(new f["a"](a._context,d,a.createPointerHandlerHelper())),a._register(n.addEventListener((function(e){a.eventDispatcher.emitMany(e)}))),a._register(a._cursor.addEventListener((function(e){a.eventDispatcher.emitMany(e)}))),a}return ne(t,e),t.prototype._flushAccumulatedAndRenderNow=function(){this._renderNow()},t.prototype.createPointerHandlerHelper=function(){var e=this;return{viewDomNode:this.domNode.domNode,linesContentDomNode:this.linesContent.domNode,focusTextArea:function(){e.focus()},getLastRenderData:function(){var t=e.viewCursors.getLastRenderData()||[],i=e._textAreaHandler.getLastRenderData();return new y["d"](t,i)},shouldSuppressMouseDownOnViewZone:function(t){return e.viewZones.shouldSuppressMouseDownOnViewZone(t)},shouldSuppressMouseDownOnWidget:function(t){return e.contentWidgets.shouldSuppressMouseDownOnWidget(t)},getPositionFromDOMInfo:function(t,i){return e._flushAccumulatedAndRenderNow(),e.viewLines.getPositionFromDOMInfo(t,i)},visibleRangeForPosition:function(t,i){return e._flushAccumulatedAndRenderNow(),e.viewLines.visibleRangeForPosition(new m["a"](t,i))},getLineWidth:function(t){return e._flushAccumulatedAndRenderNow(),e.viewLines.getLineWidth(t)}}},t.prototype.createTextAreaHandlerHelper=function(){var e=this;return{visibleRangeForPositionRelativeToEditor:function(t,i){return e._flushAccumulatedAndRenderNow(),e.viewLines.visibleRangeForPosition(new m["a"](t,i))}}},t.prototype._applyLayout=function(){var e=this._context.configuration.options,t=e.get(107);this.domNode.setWidth(t.width),this.domNode.setHeight(t.height),this.overflowGuardContainer.setWidth(t.width),this.overflowGuardContainer.setHeight(t.height),this.linesContent.setWidth(1e6),this.linesContent.setHeight(1e6)},t.prototype.getEditorClassName=function(){var e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(104)+" "+Object(oe["d"])(this._context.theme.type)+e},t.prototype.onConfigurationChanged=function(e){return this.domNode.setClassName(this.getEditorClassName()),this._applyLayout(),!1},t.prototype.onContentSizeChanged=function(e){return this.outgoingEvents.emitContentSizeChange(e),!1},t.prototype.onFocusChanged=function(e){return this.domNode.setClassName(this.getEditorClassName()),this._context.model.setHasFocus(e.isFocused),e.isFocused?this.outgoingEvents.emitViewFocusGained():this.outgoingEvents.emitViewFocusLost(),!1},t.prototype.onScrollChanged=function(e){return this.outgoingEvents.emitScrollChanged(e),!1},t.prototype.onThemeChanged=function(e){return this.domNode.setClassName(this.getEditorClassName()),!1},t.prototype.dispose=function(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this.eventDispatcher.removeEventHandler(this),this.outgoingEvents.dispose(),this.viewLines.dispose();for(var t=0,i=this.viewParts.length;t<i;t++)this.viewParts[t].dispose();this.viewParts=[],e.prototype.dispose.call(this)},t.prototype._renderOnce=function(e){var t=se(e);return this._scheduleRender(),t},t.prototype._scheduleRender=function(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=n["N"](this._onRenderScheduled.bind(this),100))},t.prototype._onRenderScheduled=function(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()},t.prototype._renderNow=function(){var e=this;se((function(){return e._actualRender()}))},t.prototype._getViewPartsToRender=function(){for(var e=[],t=0,i=0,o=this.viewParts.length;i<o;i++){var n=this.viewParts[i];n.shouldRender()&&(e[t++]=n)}return e},t.prototype._actualRender=function(){if(n["F"](this.domNode.domNode)){var e=this._getViewPartsToRender();if(this.viewLines.shouldRender()||0!==e.length){var t=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);var i=new te["a"](this._cursor.getViewSelections(),t,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this.contentWidgets.shouldRender()&&this.contentWidgets.onBeforeRender(i),this.viewLines.shouldRender()&&(this.viewLines.renderText(i),this.viewLines.onDidRender(),e=this._getViewPartsToRender());for(var o=new Y["d"](this._context.viewLayout,i,this.viewLines),r=0,s=e.length;r<s;r++){var a=e[r];a.prepareRender(o)}for(r=0,s=e.length;r<s;r++){a=e[r];a.render(o),a.onDidRender()}}}},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)},t.prototype.restoreState=function(e){this._context.viewLayout.setScrollPositionNow({scrollTop:e.scrollTop}),this._context.model.tokenizeViewport(),this._renderNow(),this.viewLines.updateLineWidths(),this._context.viewLayout.setScrollPositionNow({scrollLeft:e.scrollLeft})},t.prototype.getOffsetForColumn=function(e,t){var i=this._context.model.validateModelPosition({lineNumber:e,column:t}),o=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();var n=this.viewLines.visibleRangeForPosition(new m["a"](o.lineNumber,o.column));return n?n.left:-1},t.prototype.getTargetAtClientPoint=function(e,t){var i=this.pointerHandler.getTargetAtClientPoint(e,t);return i?D.convertViewToModelMouseTarget(i,this._context.model.coordinatesConverter):null},t.prototype.createOverviewRuler=function(e){return new Z["a"](this._context,e)},t.prototype.change=function(e){var t=this;return this._renderOnce((function(){var i=t.viewZones.changeViewZones(e);return i&&(t._context.viewLayout.onHeightMaybeChanged(),t._context.privateViewEventBus.emit(new ee["r"])),i}))},t.prototype.render=function(e,t){if(t){this.viewLines.forceShouldRender();for(var i=0,o=this.viewParts.length;i<o;i++){var n=this.viewParts[i];n.forceShouldRender()}}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()},t.prototype.focus=function(){this._textAreaHandler.focusTextArea()},t.prototype.isFocused=function(){return this._textAreaHandler.isFocused()},t.prototype.setAriaOptions=function(e){this._textAreaHandler.setAriaOptions(e)},t.prototype.addContentWidget=function(e){this.contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()},t.prototype.layoutContentWidget=function(e){var t=e.position&&e.position.range||null;if(null===t){var i=e.position?e.position.position:null;null!==i&&(t=new J["a"](i.lineNumber,i.column,i.lineNumber,i.column))}var o=e.position?e.position.preference:null;this.contentWidgets.setWidgetPosition(e.widget,t,o),this._scheduleRender()},t.prototype.removeContentWidget=function(e){this.contentWidgets.removeWidget(e.widget),this._scheduleRender()},t.prototype.addOverlayWidget=function(e){this.overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()},t.prototype.layoutOverlayWidget=function(e){var t=e.position?e.position.preference:null,i=this.overlayWidgets.setWidgetPosition(e.widget,t);i&&this._scheduleRender()},t.prototype.removeOverlayWidget=function(e){this.overlayWidgets.removeWidget(e.widget),this._scheduleRender()},t}(ie["a"]);function se(e){try{return e()}catch(t){Object(r["e"])(t)}}var ae=i("97d3"),de=i("03e3"),le=i("3ef5"),ue=i("f1d6"),ce=i("d60e"),he=i("93e6"),fe=i("62eb"),pe=i("1a1f"),ge=i("da9f"),me=i("e54c"),_e=i("3c28"),ve=i("7842"),ye=i("e36d"),we=i("0ba0"),De=i("971a"),Ce=i("118d"),be=i("d721"),Se=i("3738"),Le=i("1636"),Ee=i("ea63"),Ne=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Me=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Re=function(e,t){return function(i,o){t(i,o,e)}},Oe=0,Ie=function(){function e(e,t,i,o,n,r){this.model=e,this.viewModel=t,this.cursor=i,this.view=o,this.hasRealView=n,this.listenersToRemove=r}return e.prototype.dispose=function(){Object(a["e"])(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.cursor.dispose(),this.viewModel.dispose()},e}(),Te=function(e){function t(t,i,o,n,a,d,l,c,h,f){var p,g=e.call(this)||this;g._onDidDispose=g._register(new s["a"]),g.onDidDispose=g._onDidDispose.event,g._onDidChangeModelContent=g._register(new s["a"]),g.onDidChangeModelContent=g._onDidChangeModelContent.event,g._onDidChangeModelLanguage=g._register(new s["a"]),g.onDidChangeModelLanguage=g._onDidChangeModelLanguage.event,g._onDidChangeModelLanguageConfiguration=g._register(new s["a"]),g.onDidChangeModelLanguageConfiguration=g._onDidChangeModelLanguageConfiguration.event,g._onDidChangeModelOptions=g._register(new s["a"]),g.onDidChangeModelOptions=g._onDidChangeModelOptions.event,g._onDidChangeModelDecorations=g._register(new s["a"]),g.onDidChangeModelDecorations=g._onDidChangeModelDecorations.event,g._onDidChangeConfiguration=g._register(new s["a"]),g.onDidChangeConfiguration=g._onDidChangeConfiguration.event,g._onDidChangeModel=g._register(new s["a"]),g.onDidChangeModel=g._onDidChangeModel.event,g._onDidChangeCursorPosition=g._register(new s["a"]),g.onDidChangeCursorPosition=g._onDidChangeCursorPosition.event,g._onDidChangeCursorSelection=g._register(new s["a"]),g.onDidChangeCursorSelection=g._onDidChangeCursorSelection.event,g._onDidAttemptReadOnlyEdit=g._register(new s["a"]),g.onDidAttemptReadOnlyEdit=g._onDidAttemptReadOnlyEdit.event,g._onDidLayoutChange=g._register(new s["a"]),g.onDidLayoutChange=g._onDidLayoutChange.event,g._editorTextFocus=g._register(new xe),g.onDidFocusEditorText=g._editorTextFocus.onDidChangeToTrue,g.onDidBlurEditorText=g._editorTextFocus.onDidChangeToFalse,g._editorWidgetFocus=g._register(new xe),g.onDidFocusEditorWidget=g._editorWidgetFocus.onDidChangeToTrue,g.onDidBlurEditorWidget=g._editorWidgetFocus.onDidChangeToFalse,g._onWillType=g._register(new s["a"]),g.onWillType=g._onWillType.event,g._onDidType=g._register(new s["a"]),g.onDidType=g._onDidType.event,g._onDidCompositionStart=g._register(new s["a"]),g.onDidCompositionStart=g._onDidCompositionStart.event,g._onDidCompositionEnd=g._register(new s["a"]),g.onDidCompositionEnd=g._onDidCompositionEnd.event,g._onDidPaste=g._register(new s["a"]),g.onDidPaste=g._onDidPaste.event,g._onMouseUp=g._register(new s["a"]),g.onMouseUp=g._onMouseUp.event,g._onMouseDown=g._register(new s["a"]),g.onMouseDown=g._onMouseDown.event,g._onMouseDrag=g._register(new s["a"]),g.onMouseDrag=g._onMouseDrag.event,g._onMouseDrop=g._register(new s["a"]),g.onMouseDrop=g._onMouseDrop.event,g._onContextMenu=g._register(new s["a"]),g.onContextMenu=g._onContextMenu.event,g._onMouseMove=g._register(new s["a"]),g.onMouseMove=g._onMouseMove.event,g._onMouseLeave=g._register(new s["a"]),g.onMouseLeave=g._onMouseLeave.event,g._onMouseWheel=g._register(new s["a"]),g.onMouseWheel=g._onMouseWheel.event,g._onKeyUp=g._register(new s["a"]),g.onKeyUp=g._onKeyUp.event,g._onKeyDown=g._register(new s["a"]),g.onKeyDown=g._onKeyDown.event,g._onDidContentSizeChange=g._register(new s["a"]),g.onDidContentSizeChange=g._onDidContentSizeChange.event,g._onDidScrollChange=g._register(new s["a"]),g.onDidScrollChange=g._onDidScrollChange.event,g._onDidChangeViewZones=g._register(new s["a"]),g.onDidChangeViewZones=g._onDidChangeViewZones.event,g._domElement=t,g._id=++Oe,g._decorationTypeKeysToIds={},g._decorationTypeSubtypes={},g.isSimpleWidget=o.isSimpleWidget||!1,g._telemetryData=o.telemetryData,i=i||{},g._configuration=g._register(g._createConfiguration(i,f)),g._register(g._configuration.onDidChange((function(e){g._onDidChangeConfiguration.fire(e);var t=g._configuration.options;if(e.hasChanged(107)){var i=t.get(107);g._onDidLayoutChange.fire(i)}}))),g._contextKeyService=g._register(l.createScoped(g._domElement)),g._notificationService=h,g._codeEditorService=a,g._commandService=d,g._themeService=c,g._register(new Pe(g,g._contextKeyService)),g._register(new Ve(g,g._contextKeyService)),g._instantiationService=n.createChild(new De["a"]([ye["c"],g._contextKeyService])),g._modelData=null,g._contributions={},g._actions={},g._focusTracker=new We(t),g._focusTracker.onChange((function(){g._editorWidgetFocus.setValue(g._focusTracker.hasFocus())})),g._contentWidgets={},g._overlayWidgets={},p=Array.isArray(o.contributions)?o.contributions:u["d"].getEditorContributions();for(var m=0,_=p;m<_.length;m++){var v=_[m];try{var y=g._instantiationService.createInstance(v.ctor,g);g._contributions[v.id]=y}catch(w){Object(r["e"])(w)}}return u["d"].getEditorActions().forEach((function(e){var t=new ce["a"](e.id,e.label,e.alias,Object(Se["n"])(e.precondition),(function(){return g._instantiationService.invokeFunction((function(t){return Promise.resolve(e.runEditorCommand(t,g,null))}))}),g._contextKeyService);g._actions[t.id]=t})),g._codeEditorService.addCodeEditor(g),g}return Ne(t,e),t.prototype._createConfiguration=function(e,t){return new l["a"](this.isSimpleWidget,e,this._domElement,t)},t.prototype.getId=function(){return this.getEditorType()+":"+this._id},t.prototype.getEditorType=function(){return he["a"].ICodeEditor},t.prototype.dispose=function(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();for(var t=Object.keys(this._contributions),i=0,o=t.length;i<o;i++){var n=t[i];this._contributions[n].dispose()}this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),e.prototype.dispose.call(this)},t.prototype.invokeWithinContext=function(e){return this._instantiationService.invokeFunction(e)},t.prototype.updateOptions=function(e){this._configuration.updateOptions(e)},t.prototype.getOptions=function(){return this._configuration.options},t.prototype.getOption=function(e){return this._configuration.options.get(e)},t.prototype.getRawOptions=function(){return this._configuration.getRawOptions()},t.prototype.getValue=function(e){if(void 0===e&&(e=null),!this._modelData)return"";var t=!(!e||!e.preserveBOM),i=0;return e&&e.lineEnding&&"\n"===e.lineEnding?i=1:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(i=2),this._modelData.model.getValue(i,t)},t.prototype.setValue=function(e){this._modelData&&this._modelData.model.setValue(e)},t.prototype.getModel=function(){return this._modelData?this._modelData.model:null},t.prototype.setModel=function(e){void 0===e&&(e=null);var t=e;if((null!==this._modelData||null!==t)&&(!this._modelData||this._modelData.model!==t)){var i=this.hasTextFocus(),o=this._detachModel();this._attachModel(t),i&&this.hasModel()&&this.focus();var n={oldModelUrl:o?o.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(n),this._postDetachModelCleanup(o)}},t.prototype._removeDecorationTypes=function(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(var e in this._decorationTypeSubtypes){var t=this._decorationTypeSubtypes[e];for(var i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}},t.prototype.getVisibleRanges=function(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]},t.prototype.getWhitespaces=function(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]},t._getVerticalOffsetForPosition=function(e,t,i){var o=e.model.validatePosition({lineNumber:t,column:i}),n=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(n.lineNumber)},t.prototype.getTopForLineNumber=function(e){return this._modelData?t._getVerticalOffsetForPosition(this._modelData,e,1):-1},t.prototype.getTopForPosition=function(e,i){return this._modelData?t._getVerticalOffsetForPosition(this._modelData,e,i):-1},t.prototype.setHiddenAreas=function(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map((function(e){return J["a"].lift(e)})))},t.prototype.getVisibleColumnFromPosition=function(e){if(!this._modelData)return e.column;var t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return le["a"].visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1},t.prototype.getPosition=function(){return this._modelData?this._modelData.cursor.getPosition():null},t.prototype.setPosition=function(e){if(this._modelData){if(!m["a"].isIPosition(e))throw new Error("Invalid arguments");this._modelData.cursor.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}},t.prototype._sendRevealRange=function(e,t,i,o){if(this._modelData){if(!J["a"].isIRange(e))throw new Error("Invalid arguments");var n=this._modelData.model.validateRange(e),r=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(n);this._modelData.cursor.emitCursorRevealRange("api",r,t,i,o)}},t.prototype.revealLine=function(e,t){void 0===t&&(t=0),this._revealLine(e,0,t)},t.prototype.revealLineInCenter=function(e,t){void 0===t&&(t=0),this._revealLine(e,1,t)},t.prototype.revealLineInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this._revealLine(e,2,t)},t.prototype._revealLine=function(e,t,i){if("number"!==typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new J["a"](e,1,e,1),t,!1,i)},t.prototype.revealPosition=function(e,t){void 0===t&&(t=0),this._revealPosition(e,0,!0,t)},t.prototype.revealPositionInCenter=function(e,t){void 0===t&&(t=0),this._revealPosition(e,1,!0,t)},t.prototype.revealPositionInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this._revealPosition(e,2,!0,t)},t.prototype._revealPosition=function(e,t,i,o){if(!m["a"].isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new J["a"](e.lineNumber,e.column,e.lineNumber,e.column),t,i,o)},t.prototype.getSelection=function(){return this._modelData?this._modelData.cursor.getSelection():null},t.prototype.getSelections=function(){return this._modelData?this._modelData.cursor.getSelections():null},t.prototype.setSelection=function(e){var t=ue["a"].isISelection(e),i=J["a"].isIRange(e);if(!t&&!i)throw new Error("Invalid arguments");if(t)this._setSelectionImpl(e);else if(i){var o={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(o)}},t.prototype._setSelectionImpl=function(e){if(this._modelData){var t=new ue["a"](e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.cursor.setSelections("api",[t])}},t.prototype.revealLines=function(e,t,i){void 0===i&&(i=0),this._revealLines(e,t,0,i)},t.prototype.revealLinesInCenter=function(e,t,i){void 0===i&&(i=0),this._revealLines(e,t,1,i)},t.prototype.revealLinesInCenterIfOutsideViewport=function(e,t,i){void 0===i&&(i=0),this._revealLines(e,t,2,i)},t.prototype._revealLines=function(e,t,i,o){if("number"!==typeof e||"number"!==typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new J["a"](e,1,t,1),i,!1,o)},t.prototype.revealRange=function(e,t,i,o){void 0===t&&(t=0),void 0===i&&(i=!1),void 0===o&&(o=!0),this._revealRange(e,i?1:0,o,t)},t.prototype.revealRangeInCenter=function(e,t){void 0===t&&(t=0),this._revealRange(e,1,!0,t)},t.prototype.revealRangeInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this._revealRange(e,2,!0,t)},t.prototype.revealRangeAtTop=function(e,t){void 0===t&&(t=0),this._revealRange(e,3,!0,t)},t.prototype._revealRange=function(e,t,i,o){if(!J["a"].isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(J["a"].lift(e),t,i,o)},t.prototype.setSelections=function(e,t){if(void 0===t&&(t="api"),this._modelData){if(!e||0===e.length)throw new Error("Invalid arguments");for(var i=0,o=e.length;i<o;i++)if(!ue["a"].isISelection(e[i]))throw new Error("Invalid arguments");this._modelData.cursor.setSelections(t,e)}},t.prototype.getContentWidth=function(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1},t.prototype.getScrollWidth=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1},t.prototype.getScrollLeft=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1},t.prototype.getContentHeight=function(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1},t.prototype.getScrollHeight=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1},t.prototype.getScrollTop=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1},t.prototype.setScrollLeft=function(e){if(this._modelData){if("number"!==typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollLeft:e})}},t.prototype.setScrollTop=function(e){if(this._modelData){if("number"!==typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollTop:e})}},t.prototype.setScrollPosition=function(e){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPositionNow(e)},t.prototype.saveViewState=function(){if(!this._modelData)return null;for(var e={},t=Object.keys(this._contributions),i=0,o=t;i<o.length;i++){var n=o[i],r=this._contributions[n];"function"===typeof r.saveViewState&&(e[n]=r.saveViewState())}var s=this._modelData.cursor.saveState(),a=this._modelData.viewModel.saveState();return{cursorState:s,viewState:a,contributionsState:e}},t.prototype.restoreViewState=function(e){if(this._modelData&&this._modelData.hasRealView){var t=e;if(t&&t.cursorState&&t.viewState){var i=t.cursorState;Array.isArray(i)?this._modelData.cursor.restoreState(i):this._modelData.cursor.restoreState([i]);for(var o=t.contributionsState||{},n=Object.keys(this._contributions),r=0,s=n.length;r<s;r++){var a=n[r],d=this._contributions[a];"function"===typeof d.restoreViewState&&d.restoreViewState(o[a])}var l=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(l)}}},t.prototype.getContribution=function(e){return this._contributions[e]||null},t.prototype.getActions=function(){for(var e=[],t=Object.keys(this._actions),i=0,o=t.length;i<o;i++){var n=t[i];e.push(this._actions[n])}return e},t.prototype.getSupportedActions=function(){var e=this.getActions();return e=e.filter((function(e){return e.isSupported()})),e},t.prototype.getAction=function(e){return this._actions[e]||null},t.prototype.trigger=function(e,t,i){if(i=i||{},t===he["b"].Type){if(!this._modelData||"string"!==typeof i.text||0===i.text.length)return;return"keyboard"===e&&this._onWillType.fire(i.text),this._modelData.cursor.trigger(e,t,i),void("keyboard"===e&&this._onDidType.fire(i.text))}if(t!==he["b"].Paste){var o=this.getAction(t);o?Promise.resolve(o.run()).then(void 0,r["e"]):this._modelData&&(this._triggerEditorCommand(e,t,i)||(this._modelData.cursor.trigger(e,t,i),t===he["b"].CompositionStart&&this._onDidCompositionStart.fire(),t===he["b"].CompositionEnd&&this._onDidCompositionEnd.fire()))}else{if(!this._modelData||"string"!==typeof i.text||0===i.text.length)return;var n=this._modelData.cursor.getSelection().getStartPosition();this._modelData.cursor.trigger(e,t,i);var s=this._modelData.cursor.getSelection().getStartPosition();"keyboard"===e&&this._onDidPaste.fire({range:new J["a"](n.lineNumber,n.column,s.lineNumber,s.column),mode:i.mode})}},t.prototype._triggerEditorCommand=function(e,t,i){var o=this,n=u["d"].getEditorCommand(t);return!!n&&(i=i||{},i.source=e,this._instantiationService.invokeFunction((function(e){Promise.resolve(n.runEditorCommand(e,o,i)).then(void 0,r["e"])})),!0)},t.prototype._getCursors=function(){return this._modelData?this._modelData.cursor:null},t.prototype.pushUndoStop=function(){return!!this._modelData&&(!this._configuration.options.get(68)&&(this._modelData.model.pushStackElement(),!0))},t.prototype.executeEdits=function(e,t,i){return!!this._modelData&&(!this._configuration.options.get(68)&&(o=i?Array.isArray(i)?function(){return i}:i:function(){return null},this._modelData.cursor.executeEdits(e,t,o),!0));var o},t.prototype.executeCommand=function(e,t){this._modelData&&this._modelData.cursor.trigger(e,he["b"].ExecuteCommand,t)},t.prototype.executeCommands=function(e,t){this._modelData&&this._modelData.cursor.trigger(e,he["b"].ExecuteCommands,t)},t.prototype.changeDecorations=function(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null},t.prototype.getLineDecorations=function(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,Object(ae["j"])(this._configuration.options)):null},t.prototype.deltaDecorations=function(e,t){return this._modelData?0===e.length&&0===t.length?e:this._modelData.model.deltaDecorations(e,t,this._id):[]},t.prototype.removeDecorations=function(e){var t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]},t.prototype.getLayoutInfo=function(){var e=this._configuration.options,t=e.get(107);return t},t.prototype.createOverviewRuler=function(e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(e):null},t.prototype.getContainerDomNode=function(){return this._domElement},t.prototype.getDomNode=function(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarMouseDown(e)},t.prototype.layout=function(e){this._configuration.observeReferenceElement(e),this.render()},t.prototype.focus=function(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()},t.prototype.hasTextFocus=function(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()},t.prototype.hasWidgetFocus=function(){return this._focusTracker&&this._focusTracker.hasFocus()},t.prototype.addContentWidget=function(e){var t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)},t.prototype.layoutContentWidget=function(e){var t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){var i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}},t.prototype.removeContentWidget=function(e){var t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){var i=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(i)}},t.prototype.addOverlayWidget=function(e){var t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)},t.prototype.layoutOverlayWidget=function(e){var t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){var i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}},t.prototype.removeOverlayWidget=function(e){var t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){var i=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(i)}},t.prototype.changeViewZones=function(e){if(this._modelData&&this._modelData.hasRealView){var t=this._modelData.view.change(e);t&&this._onDidChangeViewZones.fire()}},t.prototype.getTargetAtClientPoint=function(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(e,t):null},t.prototype.getScrolledVisiblePosition=function(e){if(!this._modelData||!this._modelData.hasRealView)return null;var i=this._modelData.model.validatePosition(e),o=this._configuration.options,n=o.get(107),r=t._getVerticalOffsetForPosition(this._modelData,i.lineNumber,i.column)-this.getScrollTop(),s=this._modelData.view.getOffsetForColumn(i.lineNumber,i.column)+n.glyphMarginWidth+n.lineNumbersWidth+n.decorationsWidth-this.getScrollLeft();return{top:r,left:s,height:o.get(49)}},t.prototype.getOffsetForColumn=function(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(e,t):-1},t.prototype.render=function(e){void 0===e&&(e=!1),this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,e)},t.prototype.setAriaOptions=function(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.setAriaOptions(e)},t.prototype.applyFontInfo=function(e){l["a"].applyFontInfoSlow(e,this._configuration.options.get(34))},t.prototype._attachModel=function(e){var t=this;if(e){var i=[];this._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setMaxLineNumber(e.getLineCount()),e.onBeforeAttached();var r=new _e["a"](this._id,this._configuration,e,Ee["a"].create(),Le["a"].create(this._configuration.options),(function(e){return n["P"](e)}));i.push(e.onDidChangeDecorations((function(e){return t._onDidChangeModelDecorations.fire(e)}))),i.push(e.onDidChangeLanguage((function(i){t._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),t._onDidChangeModelLanguage.fire(i)}))),i.push(e.onDidChangeLanguageConfiguration((function(e){return t._onDidChangeModelLanguageConfiguration.fire(e)}))),i.push(e.onDidChangeContent((function(e){return t._onDidChangeModelContent.fire(e)}))),i.push(e.onDidChangeOptions((function(e){return t._onDidChangeModelOptions.fire(e)}))),i.push(e.onWillDispose((function(){return t.setModel(null)})));var s=new de["a"](this._configuration,e,r);i.push(s.onDidReachMaxCursorCount((function(){t._notificationService.warn(o["a"]("cursors.maximum","The number of cursors has been limited to {0}.",de["a"].MAX_CURSOR_COUNT))}))),i.push(s.onDidAttemptReadOnlyEdit((function(){t._onDidAttemptReadOnlyEdit.fire(void 0)}))),i.push(s.onDidChange((function(e){for(var i=[],o=0,n=e.selections.length;o<n;o++)i[o]=e.selections[o].getPosition();var r={position:i[0],secondaryPositions:i.slice(1),reason:e.reason,source:e.source};t._onDidChangeCursorPosition.fire(r);var s={selection:e.selections[0],secondarySelections:e.selections.slice(1),modelVersionId:e.modelVersionId,oldSelections:e.oldSelections,oldModelVersionId:e.oldModelVersionId,source:e.source,reason:e.reason};t._onDidChangeCursorSelection.fire(s)})));var a=this._createView(r,s),d=a[0],l=a[1];if(l){this._domElement.appendChild(d.domNode.domNode);for(var u=Object.keys(this._contentWidgets),c=0,h=u.length;c<h;c++){var f=u[c];d.addContentWidget(this._contentWidgets[f])}u=Object.keys(this._overlayWidgets);for(c=0,h=u.length;c<h;c++){f=u[c];d.addOverlayWidget(this._overlayWidgets[f])}d.render(!1,!0),d.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new Ie(e,r,s,d,l,i)}else this._modelData=null},t.prototype._createView=function(e,t){var i,o=this;i=this.isSimpleWidget?{executeEditorCommand:function(e,i){e.runCoreEditorCommand(t,i)},paste:function(e,t,i,n,r){o.trigger(e,he["b"].Paste,{text:t,pasteOnNewLine:i,multicursorText:n,mode:r})},type:function(e,t){o.trigger(e,he["b"].Type,{text:t})},replacePreviousChar:function(e,t,i){o.trigger(e,he["b"].ReplacePreviousChar,{text:t,replaceCharCnt:i})},compositionStart:function(e){o.trigger(e,he["b"].CompositionStart,void 0)},compositionEnd:function(e){o.trigger(e,he["b"].CompositionEnd,void 0)},cut:function(e){o.trigger(e,he["b"].Cut,void 0)}}:{executeEditorCommand:function(e,i){e.runCoreEditorCommand(t,i)},paste:function(e,t,i,n,r){o._commandService.executeCommand(he["b"].Paste,{text:t,pasteOnNewLine:i,multicursorText:n,mode:r})},type:function(e,t){o._commandService.executeCommand(he["b"].Type,{text:t})},replacePreviousChar:function(e,t,i){o._commandService.executeCommand(he["b"].ReplacePreviousChar,{text:t,replaceCharCnt:i})},compositionStart:function(e){o._commandService.executeCommand(he["b"].CompositionStart,{})},compositionEnd:function(e){o._commandService.executeCommand(he["b"].CompositionEnd,{})},cut:function(e){o._commandService.executeCommand(he["b"].Cut,{})}};var n=new D(e);n.onDidContentSizeChange=function(e){return o._onDidContentSizeChange.fire(e)},n.onDidScroll=function(e){return o._onDidScrollChange.fire(e)},n.onDidGainFocus=function(){return o._editorTextFocus.setValue(!0)},n.onDidLoseFocus=function(){return o._editorTextFocus.setValue(!1)},n.onContextMenu=function(e){return o._onContextMenu.fire(e)},n.onMouseDown=function(e){return o._onMouseDown.fire(e)},n.onMouseUp=function(e){return o._onMouseUp.fire(e)},n.onMouseDrag=function(e){return o._onMouseDrag.fire(e)},n.onMouseDrop=function(e){return o._onMouseDrop.fire(e)},n.onKeyUp=function(e){return o._onKeyUp.fire(e)},n.onMouseMove=function(e){return o._onMouseMove.fire(e)},n.onMouseLeave=function(e){return o._onMouseLeave.fire(e)},n.onMouseWheel=function(e){return o._onMouseWheel.fire(e)},n.onKeyDown=function(e){return o._onKeyDown.fire(e)};var r=new re(i,this._configuration,this._themeService,e,t,n);return[r,!0]},t.prototype._postDetachModelCleanup=function(e){e&&e.removeAllDecorationsWithOwnerId(this._id)},t.prototype._detachModel=function(){if(!this._modelData)return null;var e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.removeChild(t),e},t.prototype._removeDecorationType=function(e){this._codeEditorService.removeDecorationType(e)},t.prototype.hasModel=function(){return null!==this._modelData},t=Me([Re(3,we["a"]),Re(4,c["a"]),Re(5,ve["b"]),Re(6,ye["c"]),Re(7,oe["c"]),Re(8,Ce["a"]),Re(9,be["b"])],t),t}(a["a"]),xe=function(e){function t(){var t=e.call(this)||this;return t._onDidChangeToTrue=t._register(new s["a"]),t.onDidChangeToTrue=t._onDidChangeToTrue.event,t._onDidChangeToFalse=t._register(new s["a"]),t.onDidChangeToFalse=t._onDidChangeToFalse.event,t._value=0,t}return Ne(t,e),t.prototype.setValue=function(e){var t=e?2:1;this._value!==t&&(this._value=t,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())},t}(a["a"]),Pe=function(e){function t(t,i){var o=e.call(this)||this;return o._editor=t,i.createKey("editorId",t.getId()),o._editorSimpleInput=fe["a"].editorSimpleInput.bindTo(i),o._editorFocus=fe["a"].focus.bindTo(i),o._textInputFocus=fe["a"].textInputFocus.bindTo(i),o._editorTextFocus=fe["a"].editorTextFocus.bindTo(i),o._editorTabMovesFocus=fe["a"].tabMovesFocus.bindTo(i),o._editorReadonly=fe["a"].readOnly.bindTo(i),o._hasMultipleSelections=fe["a"].hasMultipleSelections.bindTo(i),o._hasNonEmptySelection=fe["a"].hasNonEmptySelection.bindTo(i),o._canUndo=fe["a"].canUndo.bindTo(i),o._canRedo=fe["a"].canRedo.bindTo(i),o._register(o._editor.onDidChangeConfiguration((function(){return o._updateFromConfig()}))),o._register(o._editor.onDidChangeCursorSelection((function(){return o._updateFromSelection()}))),o._register(o._editor.onDidFocusEditorWidget((function(){return o._updateFromFocus()}))),o._register(o._editor.onDidBlurEditorWidget((function(){return o._updateFromFocus()}))),o._register(o._editor.onDidFocusEditorText((function(){return o._updateFromFocus()}))),o._register(o._editor.onDidBlurEditorText((function(){return o._updateFromFocus()}))),o._register(o._editor.onDidChangeModel((function(){return o._updateFromModel()}))),o._register(o._editor.onDidChangeConfiguration((function(){return o._updateFromModel()}))),o._updateFromConfig(),o._updateFromSelection(),o._updateFromFocus(),o._updateFromModel(),o._editorSimpleInput.set(o._editor.isSimpleWidget),o}return Ne(t,e),t.prototype._updateFromConfig=function(){var e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(106)),this._editorReadonly.set(e.get(68))},t.prototype._updateFromSelection=function(){var e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some((function(e){return!e.isEmpty()})))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())},t.prototype._updateFromFocus=function(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())},t.prototype._updateFromModel=function(){var e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))},t}(a["a"]),Ve=function(e){function t(t,i){var o=e.call(this)||this;o._editor=t,o._contextKeyService=i,o._langId=fe["a"].languageId.bindTo(i),o._hasCompletionItemProvider=fe["a"].hasCompletionItemProvider.bindTo(i),o._hasCodeActionsProvider=fe["a"].hasCodeActionsProvider.bindTo(i),o._hasCodeLensProvider=fe["a"].hasCodeLensProvider.bindTo(i),o._hasDefinitionProvider=fe["a"].hasDefinitionProvider.bindTo(i),o._hasDeclarationProvider=fe["a"].hasDeclarationProvider.bindTo(i),o._hasImplementationProvider=fe["a"].hasImplementationProvider.bindTo(i),o._hasTypeDefinitionProvider=fe["a"].hasTypeDefinitionProvider.bindTo(i),o._hasHoverProvider=fe["a"].hasHoverProvider.bindTo(i),o._hasDocumentHighlightProvider=fe["a"].hasDocumentHighlightProvider.bindTo(i),o._hasDocumentSymbolProvider=fe["a"].hasDocumentSymbolProvider.bindTo(i),o._hasReferenceProvider=fe["a"].hasReferenceProvider.bindTo(i),o._hasRenameProvider=fe["a"].hasRenameProvider.bindTo(i),o._hasSignatureHelpProvider=fe["a"].hasSignatureHelpProvider.bindTo(i),o._hasDocumentFormattingProvider=fe["a"].hasDocumentFormattingProvider.bindTo(i),o._hasDocumentSelectionFormattingProvider=fe["a"].hasDocumentSelectionFormattingProvider.bindTo(i),o._hasMultipleDocumentFormattingProvider=fe["a"].hasMultipleDocumentFormattingProvider.bindTo(i),o._hasMultipleDocumentSelectionFormattingProvider=fe["a"].hasMultipleDocumentSelectionFormattingProvider.bindTo(i),o._isInWalkThrough=fe["a"].isInEmbeddedEditor.bindTo(i);var n=function(){return o._update()};return o._register(t.onDidChangeModel(n)),o._register(t.onDidChangeModelLanguage(n)),o._register(pe["d"].onDidChange(n)),o._register(pe["a"].onDidChange(n)),o._register(pe["b"].onDidChange(n)),o._register(pe["f"].onDidChange(n)),o._register(pe["e"].onDidChange(n)),o._register(pe["p"].onDidChange(n)),o._register(pe["z"].onDidChange(n)),o._register(pe["o"].onDidChange(n)),o._register(pe["h"].onDidChange(n)),o._register(pe["l"].onDidChange(n)),o._register(pe["t"].onDidChange(n)),o._register(pe["u"].onDidChange(n)),o._register(pe["g"].onDidChange(n)),o._register(pe["i"].onDidChange(n)),o._register(pe["w"].onDidChange(n)),n(),o}return Ne(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.reset=function(){var e=this;this._contextKeyService.bufferChangeEvents((function(){e._langId.reset(),e._hasCompletionItemProvider.reset(),e._hasCodeActionsProvider.reset(),e._hasCodeLensProvider.reset(),e._hasDefinitionProvider.reset(),e._hasDeclarationProvider.reset(),e._hasImplementationProvider.reset(),e._hasTypeDefinitionProvider.reset(),e._hasHoverProvider.reset(),e._hasDocumentHighlightProvider.reset(),e._hasDocumentSymbolProvider.reset(),e._hasReferenceProvider.reset(),e._hasRenameProvider.reset(),e._hasDocumentFormattingProvider.reset(),e._hasDocumentSelectionFormattingProvider.reset(),e._hasSignatureHelpProvider.reset(),e._isInWalkThrough.reset()}))},t.prototype._update=function(){var e=this,t=this._editor.getModel();t?this._contextKeyService.bufferChangeEvents((function(){e._langId.set(t.getLanguageIdentifier().language),e._hasCompletionItemProvider.set(pe["d"].has(t)),e._hasCodeActionsProvider.set(pe["a"].has(t)),e._hasCodeLensProvider.set(pe["b"].has(t)),e._hasDefinitionProvider.set(pe["f"].has(t)),e._hasDeclarationProvider.set(pe["e"].has(t)),e._hasImplementationProvider.set(pe["p"].has(t)),e._hasTypeDefinitionProvider.set(pe["z"].has(t)),e._hasHoverProvider.set(pe["o"].has(t)),e._hasDocumentHighlightProvider.set(pe["h"].has(t)),e._hasDocumentSymbolProvider.set(pe["l"].has(t)),e._hasReferenceProvider.set(pe["t"].has(t)),e._hasRenameProvider.set(pe["u"].has(t)),e._hasSignatureHelpProvider.set(pe["w"].has(t)),e._hasDocumentFormattingProvider.set(pe["g"].has(t)||pe["i"].has(t)),e._hasDocumentSelectionFormattingProvider.set(pe["i"].has(t)),e._hasMultipleDocumentFormattingProvider.set(pe["g"].all(t).length+pe["i"].all(t).length>1),e._hasMultipleDocumentSelectionFormattingProvider.set(pe["i"].all(t).length>1),e._isInWalkThrough.set(t.uri.scheme===d["b"].walkThroughSnippet)})):this.reset()},t}(a["a"]),We=function(e){function t(t){var i=e.call(this)||this;return i._onChange=i._register(new s["a"]),i.onChange=i._onChange.event,i._hasFocus=!1,i._domFocusTracker=i._register(n["S"](t)),i._register(i._domFocusTracker.onDidFocus((function(){i._hasFocus=!0,i._onChange.fire(void 0)}))),i._register(i._domFocusTracker.onDidBlur((function(){i._hasFocus=!1,i._onChange.fire(void 0)}))),i}return Ne(t,e),t.prototype.hasFocus=function(){return this._hasFocus},t}(a["a"]),Fe=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Ae=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function He(e){return Fe+encodeURIComponent(e.toString())+Ae}var ke=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Ue=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function je(e){return ke+encodeURIComponent(e.toString())+Ue}Object(oe["e"])((function(e,t){var i=e.getColor(me["o"]);i&&t.addRule(".monaco-editor .squiggly-error { border-bottom: 4px double "+i+"; }");var o=e.getColor(me["p"]);o&&t.addRule('.monaco-editor .squiggly-error { background: url("data:image/svg+xml,'+He(o)+'") repeat-x bottom left; }');var n=e.getColor(me["A"]);n&&t.addRule(".monaco-editor .squiggly-warning { border-bottom: 4px double "+n+"; }");var r=e.getColor(me["B"]);r&&t.addRule('.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,'+He(r)+'") repeat-x bottom left; }');var s=e.getColor(me["v"]);s&&t.addRule(".monaco-editor .squiggly-info { border-bottom: 4px double "+s+"; }");var a=e.getColor(me["w"]);a&&t.addRule('.monaco-editor .squiggly-info { background: url("data:image/svg+xml,'+He(a)+'") repeat-x bottom left; }');var d=e.getColor(me["s"]);d&&t.addRule(".monaco-editor .squiggly-hint { border-bottom: 2px dotted "+d+"; }");var l=e.getColor(me["t"]);l&&t.addRule('.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,'+je(l)+'") no-repeat bottom left; }');var u=e.getColor(ge["l"]);u&&t.addRule(".monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: "+u.rgba.a+"; }");var c=e.getColor(ge["k"]);c&&t.addRule(".monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed "+c+"; }");var h=e.getColor(me["r"])||"inherit";t.addRule(".monaco-editor .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: "+h+"}")}))},"5e53":function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return a}));var o=i("6a29"),n=i("2a6b"),r=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),s=function(e){function t(t){var i=e.call(this)||this;return i._context=t,i._context.addEventHandler(i),i}return r(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),e.prototype.dispose.call(this)},t}(n["a"]),a=function(){function e(){}return e.write=function(e,t){o["a"],e.setAttribute("data-mprt",String(t))},e.read=function(e){var t=e.getAttribute("data-mprt");return null===t?0:parseInt(t,10)},e.collect=function(e,t){var i=[],o=0;while(e&&e!==document.body){if(e===t)break;e.nodeType===e.ELEMENT_NODE&&(i[o++]=this.read(e)),e=e.parentElement}for(var n=new Uint8Array(o),r=0;r<o;r++)n[r]=i[o-r-1];return n},e}()},"5f6b":function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var o=i("7d09"),n=i("a837"),r=i("9909"),s=i("0dc3"),a=i("2383"),d=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),l={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},u=function(e){function t(t,i){void 0===i&&(i={});var o=e.call(this)||this;return o._onDidUpdate=o._register(new n["a"]),o._editor=t,o._options=s["d"](i,l,!1),o.disposed=!1,o.nextIdx=-1,o.ranges=[],o.ignoreSelectionChange=!1,o.revealFirst=Boolean(o._options.alwaysRevealFirst),o._register(o._editor.onDidDispose((function(){return o.dispose()}))),o._register(o._editor.onDidUpdateDiff((function(){return o._onDiffUpdated()}))),o._options.followsCaret&&o._register(o._editor.getModifiedEditor().onDidChangeCursorPosition((function(e){o.ignoreSelectionChange||(o.nextIdx=-1)}))),o._options.alwaysRevealFirst&&o._register(o._editor.getModifiedEditor().onDidChangeModel((function(e){o.revealFirst=!0}))),o._init(),o}return d(t,e),t.prototype._init=function(){this._editor.getLineChanges()},t.prototype._onDiffUpdated=function(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))},t.prototype._compute=function(e){var t=this;this.ranges=[],e&&e.forEach((function(e){!t._options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach((function(e){t.ranges.push({rhs:!0,range:new a["a"](e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})})):t.ranges.push({rhs:!0,range:new a["a"](e.modifiedStartLineNumber,1,e.modifiedStartLineNumber,1)})})),this.ranges.sort((function(e,t){return e.range.getStartPosition().isBeforeOrEqual(t.range.getStartPosition())?-1:t.range.getStartPosition().isBeforeOrEqual(e.range.getStartPosition())?1:0})),this._onDidUpdate.fire(this)},t.prototype._initIdx=function(e){var t=!1,i=this._editor.getPosition();if(i){for(var o=0,n=this.ranges.length;o<n&&!t;o++){var r=this.ranges[o].range;i.isBeforeOrEqual(r.getStartPosition())&&(this.nextIdx=o+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0},t.prototype._move=function(e,t){if(o["a"](!this.disposed,"Illegal State - diff navigator has been disposed"),this.canNavigate()){-1===this.nextIdx?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));var i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{var n=i.range.getStartPosition();this._editor.setPosition(n),this._editor.revealPositionInCenter(n,t)}finally{this.ignoreSelectionChange=!1}}},t.prototype.canNavigate=function(){return this.ranges&&this.ranges.length>0},t.prototype.next=function(e){void 0===e&&(e=0),this._move(!0,e)},t.prototype.previous=function(e){void 0===e&&(e=0),this._move(!1,e)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.ranges=[],this.disposed=!0},t}(r["a"])},"6ccc":function(e,t,i){},"8c28":function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return s}));var o=i("6a29"),n=i("9e49"),r=function(){function e(e){this._createLine=e,this._set(1,[])}return e.prototype.flush=function(){this._set(1,[])},e.prototype._set=function(e,t){this._lines=t,this._rendLineNumberStart=e},e.prototype._get=function(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}},e.prototype.getStartLineNumber=function(){return this._rendLineNumberStart},e.prototype.getEndLineNumber=function(){return this._rendLineNumberStart+this._lines.length-1},e.prototype.getCount=function(){return this._lines.length},e.prototype.getLine=function(e){var t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]},e.prototype.onLinesDeleted=function(e,t){if(0===this.getCount())return null;var i=this.getStartLineNumber(),o=this.getEndLineNumber();if(t<i){var n=t-e+1;return this._rendLineNumberStart-=n,null}if(e>o)return null;for(var r=0,s=0,a=i;a<=o;a++){var d=a-this._rendLineNumberStart;e<=a&&a<=t&&(0===s?(r=d,s=1):s++)}if(e<i){var l=0;l=t<i?t-e+1:i-e,this._rendLineNumberStart-=l}var u=this._lines.splice(r,s);return u},e.prototype.onLinesChanged=function(e,t){if(0===this.getCount())return!1;for(var i=this.getStartLineNumber(),o=this.getEndLineNumber(),n=!1,r=e;r<=t;r++)r>=i&&r<=o&&(this._lines[r-this._rendLineNumberStart].onContentChanged(),n=!0);return n},e.prototype.onLinesInserted=function(e,t){if(0===this.getCount())return null;var i=t-e+1,o=this.getStartLineNumber(),n=this.getEndLineNumber();if(e<=o)return this._rendLineNumberStart+=i,null;if(e>n)return null;if(i+e>n){var r=this._lines.splice(e-this._rendLineNumberStart,n-e+1);return r}for(var s=[],a=0;a<i;a++)s[a]=this._createLine();var d=e-this._rendLineNumberStart,l=this._lines.slice(0,d),u=this._lines.slice(d,this._lines.length-i),c=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=l.concat(s).concat(u),c},e.prototype.onTokensChanged=function(e){if(0===this.getCount())return!1;for(var t=this.getStartLineNumber(),i=this.getEndLineNumber(),o=!1,n=0,r=e.length;n<r;n++){var s=e[n];if(!(s.toLineNumber<t||s.fromLineNumber>i))for(var a=Math.max(t,s.fromLineNumber),d=Math.min(i,s.toLineNumber),l=a;l<=d;l++){var u=l-this._rendLineNumberStart;this._lines[u].onTokensChanged(),o=!0}}return o},e}(),s=function(){function e(e){var t=this;this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new r((function(){return t._host.createVisibleLine()}))}return e.prototype._createDomNode=function(){var e=Object(o["b"])(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e},e.prototype.onConfigurationChanged=function(e){return!!e.hasChanged(107)},e.prototype.onFlushed=function(e){return this._linesCollection.flush(),!0},e.prototype.onLinesChanged=function(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)},e.prototype.onLinesDeleted=function(e){var t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(var i=0,o=t.length;i<o;i++){var n=t[i].getDomNode();n&&this.domNode.domNode.removeChild(n)}return!0},e.prototype.onLinesInserted=function(e){var t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(var i=0,o=t.length;i<o;i++){var n=t[i].getDomNode();n&&this.domNode.domNode.removeChild(n)}return!0},e.prototype.onScrollChanged=function(e){return e.scrollTopChanged},e.prototype.onTokensChanged=function(e){return this._linesCollection.onTokensChanged(e.ranges)},e.prototype.onZonesChanged=function(e){return!0},e.prototype.getStartLineNumber=function(){return this._linesCollection.getStartLineNumber()},e.prototype.getEndLineNumber=function(){return this._linesCollection.getEndLineNumber()},e.prototype.getVisibleLine=function(e){return this._linesCollection.getLine(e)},e.prototype.renderLines=function(e){var t=this._linesCollection._get(),i=new a(this.domNode.domNode,this._host,e),o={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},n=i.render(o,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(n.rendLineNumberStart,n.lines)},e}(),a=function(){function e(e,t,i){this.domNode=e,this.host=t,this.viewportData=i}return e.prototype.render=function(e,t,i,o){var n={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(n.rendLineNumberStart+n.linesLength-1<t||i<n.rendLineNumberStart){n.rendLineNumberStart=t,n.linesLength=i-t+1,n.lines=[];for(var r=t;r<=i;r++)n.lines[r-t]=this.host.createVisibleLine();return this._finishRendering(n,!0,o),n}if(this._renderUntouchedLines(n,Math.max(t-n.rendLineNumberStart,0),Math.min(i-n.rendLineNumberStart,n.linesLength-1),o,t),n.rendLineNumberStart>t){var s=t,a=Math.min(i,n.rendLineNumberStart-1);s<=a&&(this._insertLinesBefore(n,s,a,o,t),n.linesLength+=a-s+1)}else if(n.rendLineNumberStart<t){var d=Math.min(n.linesLength,t-n.rendLineNumberStart);d>0&&(this._removeLinesBefore(n,d),n.linesLength-=d)}if(n.rendLineNumberStart=t,n.rendLineNumberStart+n.linesLength-1<i){s=n.rendLineNumberStart+n.linesLength,a=i;s<=a&&(this._insertLinesAfter(n,s,a,o,t),n.linesLength+=a-s+1)}else if(n.rendLineNumberStart+n.linesLength-1>i){s=Math.max(0,i-n.rendLineNumberStart+1),a=n.linesLength-1,d=a-s+1;d>0&&(this._removeLinesAfter(n,d),n.linesLength-=d)}return this._finishRendering(n,!1,o),n},e.prototype._renderUntouchedLines=function(e,t,i,o,n){for(var r=e.rendLineNumberStart,s=e.lines,a=t;a<=i;a++){var d=r+a;s[a].layoutLine(d,o[d-n])}},e.prototype._insertLinesBefore=function(e,t,i,o,n){for(var r=[],s=0,a=t;a<=i;a++)r[s++]=this.host.createVisibleLine();e.lines=r.concat(e.lines)},e.prototype._removeLinesBefore=function(e,t){for(var i=0;i<t;i++){var o=e.lines[i].getDomNode();o&&this.domNode.removeChild(o)}e.lines.splice(0,t)},e.prototype._insertLinesAfter=function(e,t,i,o,n){for(var r=[],s=0,a=t;a<=i;a++)r[s++]=this.host.createVisibleLine();e.lines=e.lines.concat(r)},e.prototype._removeLinesAfter=function(e,t){for(var i=e.linesLength-t,o=0;o<t;o++){var n=e.lines[i+o].getDomNode();n&&this.domNode.removeChild(n)}e.lines.splice(i,t)},e.prototype._finishRenderingNewLines=function(e,t,i,o){var n=this.domNode.lastChild;t||!n?this.domNode.innerHTML=i:n.insertAdjacentHTML("afterend",i);for(var r=this.domNode.lastChild,s=e.linesLength-1;s>=0;s--){var a=e.lines[s];o[s]&&(a.setDomNode(r),r=r.previousSibling)}},e.prototype._finishRenderingInvalidLines=function(e,t,i){var o=document.createElement("div");o.innerHTML=t;for(var n=0;n<e.linesLength;n++){var r=e.lines[n];if(i[n]){var s=o.firstChild,a=r.getDomNode();a.parentNode.replaceChild(s,a),r.setDomNode(s)}}},e.prototype._finishRendering=function(t,i,o){var n=e._sb,r=t.linesLength,s=t.lines,a=t.rendLineNumberStart,d=[];n.reset();for(var l=!1,u=0;u<r;u++){var c=s[u];d[u]=!1;var h=c.getDomNode();if(!h){var f=c.renderLine(u+a,o[u],this.viewportData,n);f&&(d[u]=!0,l=!0)}}l&&this._finishRenderingNewLines(t,i,n.build(),d),n.reset();var p=!1,g=[];for(u=0;u<r;u++){c=s[u];if(g[u]=!1,!d[u]){f=c.renderLine(u+a,o[u],this.viewportData,n);f&&(g[u]=!0,p=!0)}}p&&this._finishRenderingInvalidLines(t,n.build(),g)},e._sb=Object(n["a"])(1e5),e}()},ba17:function(e,t,i){},bb38:function(e,t,i){"use strict";i.d(t,"a",(function(){return re}));i("1116");var o=i("290d"),n=i("a152"),r=i("6a29"),s=i("23b3"),a=i("0ef4"),d=i("a837"),l=i("9909"),u=i("0dc3"),c=i("f6cd"),h=i("6439"),f=i("1902"),p=i("4927"),g=(i("6ccc"),i("8324")),m=i("a8378"),_=i("8c7e"),v=i("abe6"),y=i("97d3"),w=i("ffd0"),D=i("1a49"),C=i("da9f"),b=i("556f"),S=i("a4db"),L=i("e36d"),E=i("e54c"),N=i("c478"),M=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),R=3,O=function(){function e(e,t,i,o){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=i,this.modifiedLineEnd=o}return e.prototype.getType=function(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0},e}(),I=function(){function e(e){this.entries=e}return e}(),T=function(e){function t(t){var i=e.call(this)||this;return i._width=0,i._diffEditor=t,i._isVisible=!1,i.shadow=Object(r["b"])(document.createElement("div")),i.shadow.setClassName("diff-review-shadow"),i.actionBarContainer=Object(r["b"])(document.createElement("div")),i.actionBarContainer.setClassName("diff-review-actions"),i._actionBar=i._register(new g["a"](i.actionBarContainer.domNode)),i._actionBar.push(new _["a"]("diffreview.close",o["a"]("label.close","Close"),"close-diff-review",!0,(function(){return i.hide(),Promise.resolve(null)})),{label:!1,icon:!0}),i.domNode=Object(r["b"])(document.createElement("div")),i.domNode.setClassName("diff-review monaco-editor-background"),i._content=Object(r["b"])(document.createElement("div")),i._content.setClassName("diff-review-content"),i.scrollbar=i._register(new m["a"](i._content.domNode,{})),i.domNode.domNode.appendChild(i.scrollbar.getDomNode()),i._register(t.onDidUpdateDiff((function(){i._isVisible&&(i._diffs=i._compute(),i._render())}))),i._register(t.getModifiedEditor().onDidChangeCursorPosition((function(){i._isVisible&&i._render()}))),i._register(t.getOriginalEditor().onDidFocusEditorWidget((function(){i._isVisible&&i.hide()}))),i._register(t.getModifiedEditor().onDidFocusEditorWidget((function(){i._isVisible&&i.hide()}))),i._register(n["k"](i.domNode.domNode,"click",(function(e){e.preventDefault();var t=n["r"](e.target,"diff-review-row");t&&i._goToRow(t)}))),i._register(n["k"](i.domNode.domNode,"keydown",(function(e){(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),i._goToRow(i._getNextRow())),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),i._goToRow(i._getPrevRow())),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),i.hide()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),i.accept())}))),i._diffs=[],i._currentDiff=null,i}return M(t,e),t.prototype.prev=function(){var e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var t=-1,i=0,o=this._diffs.length;i<o;i++)if(this._diffs[i]===this._currentDiff){t=i;break}e=this._diffs.length+t-1}else e=this._findDiffIndex(this._diffEditor.getPosition());0!==this._diffs.length&&(e%=this._diffs.length,this._diffEditor.setPosition(new D["a"](this._diffs[e].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},t.prototype.next=function(){var e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var t=-1,i=0,o=this._diffs.length;i<o;i++)if(this._diffs[i]===this._currentDiff){t=i;break}e=t+1}else e=this._findDiffIndex(this._diffEditor.getPosition());0!==this._diffs.length&&(e%=this._diffs.length,this._diffEditor.setPosition(new D["a"](this._diffs[e].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},t.prototype.accept=function(){var e=-1,t=this._getCurrentFocusedRow();if(t){var i=parseInt(t.getAttribute("data-line"),10);isNaN(i)||(e=i)}this.hide(),-1!==e&&(this._diffEditor.setPosition(new D["a"](e,1)),this._diffEditor.revealPosition(new D["a"](e,1),1))},t.prototype.hide=function(){this._isVisible=!1,this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()},t.prototype._getPrevRow=function(){var e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()},t.prototype._getNextRow=function(){var e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()},t.prototype._getFirstRow=function(){return this.domNode.domNode.querySelector(".diff-review-row")},t.prototype._getCurrentFocusedRow=function(){var e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null},t.prototype._goToRow=function(e){var t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()},t.prototype.isVisible=function(){return this._isVisible},t.prototype.layout=function(e,t,i){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(i),this._content.setHeight(i),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))},t.prototype._compute=function(){var e=this._diffEditor.getLineChanges();if(!e||0===e.length)return[];var i=this._diffEditor.getOriginalEditor().getModel(),o=this._diffEditor.getModifiedEditor().getModel();return i&&o?t._mergeAdjacent(e,i.getLineCount(),o.getLineCount()):[]},t._mergeAdjacent=function(e,t,i){if(!e||0===e.length)return[];for(var o=[],n=0,r=0,s=e.length;r<s;r++){var a=e[r],d=a.originalStartLineNumber,l=a.originalEndLineNumber,u=a.modifiedStartLineNumber,c=a.modifiedEndLineNumber,h=[],f=0,p=0===l?d:d-1,g=0===c?u:u-1,m=1,_=1;if(r>0){var v=e[r-1];m=0===v.originalEndLineNumber?v.originalStartLineNumber+1:v.originalEndLineNumber+1,_=0===v.modifiedEndLineNumber?v.modifiedStartLineNumber+1:v.modifiedEndLineNumber+1}var y=p-R+1,w=g-R+1;if(y<m){var D=m-y;y+=D,w+=D}if(w<_){D=_-w;y+=D,w+=D}h[f++]=new O(y,p,w,g),0!==l&&(h[f++]=new O(d,l,0,0)),0!==c&&(h[f++]=new O(0,0,u,c));var C=0===l?d+1:l+1,b=0===c?u+1:c+1,S=t,L=i;if(r+1<s){var E=e[r+1];S=0===E.originalEndLineNumber?E.originalStartLineNumber:E.originalStartLineNumber-1,L=0===E.modifiedEndLineNumber?E.modifiedStartLineNumber:E.modifiedStartLineNumber-1}var N=C+R-1,M=b+R-1;if(N>S){D=S-N;N+=D,M+=D}if(M>L){D=L-M;N+=D,M+=D}h[f++]=new O(C,N,b,M),o[n++]=new I(h)}var T=o[0].entries,x=[],P=0;for(r=1,s=o.length;r<s;r++){var V=o[r].entries,W=T[T.length-1],F=V[0];0===W.getType()&&0===F.getType()&&F.originalLineStart<=W.originalLineEnd?(T[T.length-1]=new O(W.originalLineStart,F.originalLineEnd,W.modifiedLineStart,F.modifiedLineEnd),T=T.concat(V.slice(1))):(x[P++]=new I(T),T=V)}return x[P++]=new I(T),x},t.prototype._findDiffIndex=function(e){for(var t=e.lineNumber,i=0,o=this._diffs.length;i<o;i++){var n=this._diffs[i].entries,r=n[n.length-1].modifiedLineEnd;if(t<=r)return i}return 0},t.prototype._render=function(){var e=this._diffEditor.getOriginalEditor().getOptions(),i=this._diffEditor.getModifiedEditor().getOptions(),r=this._diffEditor.getOriginalEditor().getModel(),s=this._diffEditor.getModifiedEditor().getModel(),a=r.getOptions(),d=s.getOptions();if(!this._isVisible||!r||!s)return n["o"](this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();var l=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[l]!==this._currentDiff){this._currentDiff=this._diffs[l];var u=this._diffs[l].entries,h=document.createElement("div");h.className="diff-review-table",h.setAttribute("role","list"),c["a"].applyFontInfoSlow(h,i.get(34));for(var f=0,p=0,g=0,m=0,_=0,v=u.length;_<v;_++){var y=u[_],w=y.originalLineStart,D=y.originalLineEnd,C=y.modifiedLineStart,b=y.modifiedLineEnd;0!==w&&(0===f||w<f)&&(f=w),0!==D&&(0===p||D>p)&&(p=D),0!==C&&(0===g||C<g)&&(g=C),0!==b&&(0===m||b>m)&&(m=b)}var S=document.createElement("div");S.className="diff-review-row";var L=document.createElement("div");L.className="diff-review-cell diff-review-summary";var E=p-f+1,N=m-g+1;L.appendChild(document.createTextNode(l+1+"/"+this._diffs.length+": @@ -"+f+","+E+" +"+g+","+N+" @@")),S.setAttribute("data-line",String(g));var M=function(e){return 0===e?o["a"]("no_lines","no lines"):1===e?o["a"]("one_line","1 line"):o["a"]("more_lines","{0} lines",e)},R=M(E),O=M(N);S.setAttribute("aria-label",o["a"]({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines", "1 line" or "X lines", localized separately.']},"Difference {0} of {1}: original {2}, {3}, modified {4}, {5}",l+1,this._diffs.length,f,R,g,O)),S.appendChild(L),S.setAttribute("role","listitem"),h.appendChild(S);var I=g;for(_=0,v=u.length;_<v;_++){y=u[_];t._renderSection(h,y,I,this._width,e,r,a,i,s,d),0!==y.modifiedLineStart&&(I=y.modifiedLineEnd)}n["o"](this._content.domNode),this._content.domNode.appendChild(h),this.scrollbar.scanDomNode()}},t._renderSection=function(e,t,i,n,r,s,a,d,l,u){var c=t.getType(),h="diff-review-row",f="",p="diff-review-spacer";switch(c){case 1:h="diff-review-row line-insert",f=" char-insert",p="diff-review-spacer insert-sign";break;case 2:h="diff-review-row line-delete",f=" char-delete",p="diff-review-spacer delete-sign";break}for(var g=t.originalLineStart,m=t.originalLineEnd,_=t.modifiedLineStart,v=t.modifiedLineEnd,y=Math.max(v-_,m-g),w=r.get(107),D=w.glyphMarginWidth+w.lineNumbersWidth,C=d.get(107),b=10+C.glyphMarginWidth+C.lineNumbersWidth,S=0;S<=y;S++){var L=0===g?0:g+S,E=0===_?0:_+S,N=document.createElement("div");N.style.minWidth=n+"px",N.className=h,N.setAttribute("role","listitem"),0!==E&&(i=E),N.setAttribute("data-line",String(i));var M=document.createElement("div");M.className="diff-review-cell",N.appendChild(M);var R=document.createElement("span");R.style.width=D+"px",R.style.minWidth=D+"px",R.className="diff-review-line-number"+f,0!==L?R.appendChild(document.createTextNode(String(L))):R.innerHTML="&#160;",M.appendChild(R);var O=document.createElement("span");O.style.width=b+"px",O.style.minWidth=b+"px",O.style.paddingRight="10px",O.className="diff-review-line-number"+f,0!==E?O.appendChild(document.createTextNode(String(E))):O.innerHTML="&#160;",M.appendChild(O);var I=document.createElement("span");I.className=p,I.innerHTML="&#160;&#160;",M.appendChild(I);var T=void 0;0!==E?(M.insertAdjacentHTML("beforeend",this._renderLine(l,d,u.tabSize,E)),T=l.getLineContent(E)):(M.insertAdjacentHTML("beforeend",this._renderLine(s,r,a.tabSize,L)),T=s.getLineContent(L)),0===T.length&&(T=o["a"]("blankLine","blank"));var x="";switch(c){case 0:x=o["a"]("equalLine","original {0}, modified {1}: {2}",L,E,T);break;case 1:x=o["a"]("insertLine","+ modified {0}: {1}",E,T);break;case 2:x=o["a"]("deleteLine","- original {0}: {1}",L,T);break}N.setAttribute("aria-label",x),e.appendChild(N)}},t._renderLine=function(e,t,i,o){var n=e.getLineContent(o),r=t.get(34),s=16793600,a=new Uint32Array(2);a[0]=n.length,a[1]=s;var d=new w["a"](a,n),l=S["d"].isBasicASCII(n,e.mightContainNonBasicASCII()),u=S["d"].containsRTL(n,l,e.mightContainRTL()),c=Object(b["e"])(new b["c"](r.isMonospace&&!t.get(23),r.canUseHalfwidthRightwardsArrow,n,!1,l,u,0,d,[],i,0,r.spaceWidth,r.middotWidth,t.get(88),t.get(74),t.get(69),t.get(35)!==y["d"].OFF,null));return c.html},t}(l["a"]);Object(N["e"])((function(e,t){var i=e.getColor(C["h"]);i&&t.addRule(".monaco-diff-editor .diff-review-line-number { color: "+i+"; }");var o=e.getColor(E["rb"]);o&&t.addRule(".monaco-diff-editor .diff-review-shadow { box-shadow: "+o+" 0 -6px 6px -6px inset; }")}));var x=function(e){function t(){return e.call(this,{id:"editor.action.diffReview.next",label:o["a"]("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:L["a"].has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})||this}return M(t,e),t.prototype.run=function(e,t){var i=V(e);i&&i.diffReviewNext()},t}(v["b"]),P=function(e){function t(){return e.call(this,{id:"editor.action.diffReview.prev",label:o["a"]("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:L["a"].has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})||this}return M(t,e),t.prototype.run=function(e,t){var i=V(e);i&&i.diffReviewPrev()},t}(v["b"]);function V(e){for(var t=e.get(f["a"]),i=t.listDiffEditors(),o=0,n=i.length;o<n;o++){var r=i[o];if(r.hasWidgetFocus())return r}return null}Object(v["e"])(x),Object(v["e"])(P);var W=i("2383"),F=i("9e49"),A=i("93e6"),H=i("cdbd"),k=i("9672"),U=i("1723"),j=i("117f"),z=i("0ba0"),Z=i("971a"),B=i("118d"),K=i("77cf"),q=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),G=function(e,t,i,o){function n(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{d(o.next(e))}catch(t){r(t)}}function a(e){try{d(o["throw"](e))}catch(t){r(t)}}function d(e){e.done?i(e.value):n(e.value).then(s,a)}d((o=o.apply(e,t||[])).next())}))},X=function(e,t){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return d([e,t])}}function d(r){if(i)throw new TypeError("Generator is already executing.");while(s)try{if(i=1,o&&(n=2&r[0]?o["return"]:r[0]?o["throw"]||((n=o["return"])&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(n=s.trys,!(n=n.length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},J=function(e){function t(t,i,r,s,a,d){var l=e.call(this)||this;l._viewZoneId=t,l._marginDomNode=i,l.editor=r,l.diff=s,l._contextMenuService=a,l._clipboardService=d,l._visibility=!1,l._marginDomNode.style.zIndex="10",l._diffActions=document.createElement("div"),l._diffActions.className="codicon codicon-lightbulb lightbulb-glyph",l._diffActions.style.position="absolute";var u=r.getOption(49),c=r.getModel().getEOL();l._diffActions.style.right="0px",l._diffActions.style.visibility="hidden",l._diffActions.style.height=u+"px",l._diffActions.style.lineHeight=u+"px",l._marginDomNode.appendChild(l._diffActions);var h=[];h.push(new _["a"]("diff.clipboard.copyDeletedContent",s.originalEndLineNumber>s.modifiedStartLineNumber?o["a"]("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):o["a"]("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"),void 0,!0,(function(){return G(l,void 0,void 0,(function(){return X(this,(function(e){switch(e.label){case 0:return[4,this._clipboardService.writeText(s.originalContent.join(c)+c)];case 1:return e.sent(),[2]}}))}))})));var f=0,p=void 0;s.originalEndLineNumber>s.modifiedStartLineNumber&&(p=new _["a"]("diff.clipboard.copyDeletedLineContent",o["a"]("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",s.originalStartLineNumber),void 0,!0,(function(){return G(l,void 0,void 0,(function(){return X(this,(function(e){switch(e.label){case 0:return[4,this._clipboardService.writeText(s.originalContent[f])];case 1:return e.sent(),[2]}}))}))})),h.push(p));var g=r.getOption(68);g||h.push(new _["a"]("diff.inline.revertChange",o["a"]("diff.inline.revertChange.label","Revert this change"),void 0,!0,(function(){return G(l,void 0,void 0,(function(){var e;return X(this,(function(t){return 0===s.modifiedEndLineNumber?(e=r.getModel().getLineMaxColumn(s.modifiedStartLineNumber),r.executeEdits("diffEditor",[{range:new W["a"](s.modifiedStartLineNumber,e,s.modifiedStartLineNumber,e),text:c+s.originalContent.join(c)}])):(e=r.getModel().getLineMaxColumn(s.modifiedEndLineNumber),r.executeEdits("diffEditor",[{range:new W["a"](s.modifiedStartLineNumber,1,s.modifiedEndLineNumber,e),text:s.originalContent.join(c)}])),[2]}))}))})));var m=function(e,t){l._contextMenuService.showContextMenu({getAnchor:function(){return{x:e,y:t}},getActions:function(){return p&&(p.label=o["a"]("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",s.originalStartLineNumber+f)),h},autoSelectFirstItem:!0})};return l._register(n["k"](l._diffActions,"mousedown",(function(e){var t=n["v"](l._diffActions),i=t.top,o=t.height,r=Math.floor(u/3);e.preventDefault(),m(e.posx,i+o+r)}))),l._register(r.onMouseMove((function(e){if(8===e.target.type||5===e.target.type){var t=e.target.detail.viewZoneId;t===l._viewZoneId?(l.visibility=!0,f=l._updateLightBulbPosition(l._marginDomNode,e.event.browserEvent.y,u)):l.visibility=!1}else l.visibility=!1}))),l._register(r.onMouseDown((function(e){if(e.event.rightButton&&(8===e.target.type||5===e.target.type)){var t=e.target.detail.viewZoneId;t===l._viewZoneId&&(e.event.preventDefault(),f=l._updateLightBulbPosition(l._marginDomNode,e.event.browserEvent.y,u),m(e.event.posx,e.event.posy+u))}}))),l}return q(t,e),Object.defineProperty(t.prototype,"visibility",{get:function(){return this._visibility},set:function(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")},enumerable:!0,configurable:!0}),t.prototype._updateLightBulbPosition=function(e,t,i){var o=n["v"](e).top,r=t-o,s=Math.floor(r/i),a=s*i;return this._diffActions.style.top=a+"px",s},t}(l["a"]),Y=i("938f"),Q=i("dbbe"),$=i("539e"),ee=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),te=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ie=function(e,t){return function(i,o){t(i,o,e)}},oe=function(){function e(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this.inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}return e.prototype.getForeignViewZones=function(e){var t=this;return e.filter((function(e){return!t._zonesMap[String(e.id)]}))},e.prototype.clean=function(e){var t=this;this._zones.length>0&&e.changeViewZones((function(e){for(var i=0,o=t._zones.length;i<o;i++)e.removeZone(t._zones[i])})),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])},e.prototype.apply=function(e,t,i,o){var n=this,r=o?h["a"].capture(e):null;e.changeViewZones((function(t){for(var o=0,r=n._zones.length;o<r;o++)t.removeZone(n._zones[o]);o=0;for(var s=n.inlineDiffMargins.length;o<s;o++)n.inlineDiffMargins[o].dispose();n._zones=[],n._zonesMap={},n.inlineDiffMargins=[];o=0;for(var a=i.zones.length;o<a;o++){var d=i.zones[o];d.suppressMouseDown=!0;var l=t.addZone(d);n._zones.push(l),n._zonesMap[String(l)]=!0,i.zones[o].diff&&d.marginDomNode&&n._clipboardService&&(d.suppressMouseDown=!1,n.inlineDiffMargins.push(new J(l,d.marginDomNode,e,i.zones[o].diff,n._contextMenuService,n._clipboardService)))}})),r&&r.restore(e),this._decorations=e.deltaDecorations(this._decorations,i.decorations),t&&t.setZones(i.overviewZones)},e}(),ne=0,re=function(e){function t(i,o,s,l,u,c,h,f,p,g,m){var _=e.call(this)||this;_._editorProgressService=m,_._onDidDispose=_._register(new d["a"]),_.onDidDispose=_._onDidDispose.event,_._onDidUpdateDiff=_._register(new d["a"]),_.onDidUpdateDiff=_._onDidUpdateDiff.event,_._lastOriginalWarning=null,_._lastModifiedWarning=null,_._editorWorkerService=l,_._codeEditorService=h,_._contextKeyService=_._register(u.createScoped(i)),_._contextKeyService.createKey("isInDiffEditor",!0),_._themeService=f,_._notificationService=p,_.id=++ne,_._state=0,_._updatingDiffProgress=null,_._domElement=i,o=o||{},_._renderSideBySide=!0,"undefined"!==typeof o.renderSideBySide&&(_._renderSideBySide=o.renderSideBySide),_._maxComputationTime=5e3,"undefined"!==typeof o.maxComputationTime&&(_._maxComputationTime=o.maxComputationTime),_._ignoreTrimWhitespace=!0,"undefined"!==typeof o.ignoreTrimWhitespace&&(_._ignoreTrimWhitespace=o.ignoreTrimWhitespace),_._renderIndicators=!0,"undefined"!==typeof o.renderIndicators&&(_._renderIndicators=o.renderIndicators),_._originalIsEditable=!1,"undefined"!==typeof o.originalEditable&&(_._originalIsEditable=Boolean(o.originalEditable)),_._updateDecorationsRunner=_._register(new a["d"]((function(){return _._updateDecorations()}),0)),_._containerDomElement=document.createElement("div"),_._containerDomElement.className=t._getClassName(_._themeService.getTheme(),_._renderSideBySide),_._containerDomElement.style.position="relative",_._containerDomElement.style.height="100%",_._domElement.appendChild(_._containerDomElement),_._overviewViewportDomElement=Object(r["b"])(document.createElement("div")),_._overviewViewportDomElement.setClassName("diffViewport"),_._overviewViewportDomElement.setPosition("absolute"),_._overviewDomElement=document.createElement("div"),_._overviewDomElement.className="diffOverview",_._overviewDomElement.style.position="absolute",_._overviewDomElement.appendChild(_._overviewViewportDomElement.domNode),_._register(n["k"](_._overviewDomElement,"mousedown",(function(e){_.modifiedEditor.delegateVerticalScrollbarMouseDown(e)}))),_._containerDomElement.appendChild(_._overviewDomElement),_._originalDomNode=document.createElement("div"),_._originalDomNode.className="editor original",_._originalDomNode.style.position="absolute",_._originalDomNode.style.height="100%",_._containerDomElement.appendChild(_._originalDomNode),_._modifiedDomNode=document.createElement("div"),_._modifiedDomNode.className="editor modified",_._modifiedDomNode.style.position="absolute",_._modifiedDomNode.style.height="100%",_._containerDomElement.appendChild(_._modifiedDomNode),_._beginUpdateDecorationsTimeout=-1,_._currentlyChangingViewZones=!1,_._diffComputationToken=0,_._originalEditorState=new oe(g,s),_._modifiedEditorState=new oe(g,s),_._isVisible=!0,_._isHandlingScrollEvent=!1,_._elementSizeObserver=_._register(new $["a"](_._containerDomElement,void 0,(function(){return _._onDidContainerSizeChanged()}))),o.automaticLayout&&_._elementSizeObserver.startObserving(),_._diffComputationResult=null;var y=_._contextKeyService.createScoped();y.createKey("isInDiffLeftEditor",!0);var w=new Z["a"];w.set(L["c"],y);var D=c.createChild(w),C=_._contextKeyService.createScoped();C.createKey("isInDiffRightEditor",!0);var b=new Z["a"];b.set(L["c"],C);var S=c.createChild(b);_.originalEditor=_._createLeftHandSideEditor(o,D),_.modifiedEditor=_._createRightHandSideEditor(o,S),_._originalOverviewRuler=null,_._modifiedOverviewRuler=null,_._reviewPane=new T(_),_._containerDomElement.appendChild(_._reviewPane.domNode.domNode),_._containerDomElement.appendChild(_._reviewPane.shadow.domNode),_._containerDomElement.appendChild(_._reviewPane.actionBarContainer.domNode),_._enableSplitViewResizing=!0,"undefined"!==typeof o.enableSplitViewResizing&&(_._enableSplitViewResizing=o.enableSplitViewResizing),_._renderSideBySide?_._setStrategy(new ce(_._createDataSource(),_._enableSplitViewResizing)):_._setStrategy(new fe(_._createDataSource(),_._enableSplitViewResizing)),_._register(f.onThemeChange((function(e){_._strategy&&_._strategy.applyColors(e)&&_._updateDecorationsRunner.schedule(),_._containerDomElement.className=t._getClassName(_._themeService.getTheme(),_._renderSideBySide)})));for(var E=v["d"].getDiffEditorContributions(),N=0,M=E;N<M.length;N++){var R=M[N];try{_._register(c.createInstance(R.ctor,_))}catch(O){Object(Y["e"])(O)}}return _._codeEditorService.addDiffEditor(_),_}return ee(t,e),t.prototype._setState=function(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))},t.prototype.hasWidgetFocus=function(){return n["D"](document.activeElement,this._domElement)},t.prototype.diffReviewNext=function(){this._reviewPane.next()},t.prototype.diffReviewPrev=function(){this._reviewPane.prev()},t._getClassName=function(e,t){var i="monaco-diff-editor monaco-editor-background ";return t&&(i+="side-by-side "),i+=Object(N["d"])(e.type),i},t.prototype._recreateOverviewRulers=function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this.originalEditor.hasModel()&&(this._originalOverviewRuler=this.originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this.modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this.modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers()},t.prototype._createLeftHandSideEditor=function(e,t){var i=this,o=this._createInnerEditor(t,this._originalDomNode,this._adjustOptionsForLeftHandSide(e,this._originalIsEditable));return this._register(o.onDidScrollChange((function(e){i._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(i._isHandlingScrollEvent=!0,i.modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),i._isHandlingScrollEvent=!1,i._layoutOverviewViewport())}))),this._register(o.onDidChangeViewZones((function(){i._onViewZonesChanged()}))),this._register(o.onDidChangeModelContent((function(){i._isVisible&&i._beginUpdateDecorationsSoon()}))),o},t.prototype._createRightHandSideEditor=function(e,t){var i=this,o=this._createInnerEditor(t,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e));return this._register(o.onDidScrollChange((function(e){i._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(i._isHandlingScrollEvent=!0,i.originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),i._isHandlingScrollEvent=!1,i._layoutOverviewViewport())}))),this._register(o.onDidChangeViewZones((function(){i._onViewZonesChanged()}))),this._register(o.onDidChangeConfiguration((function(e){e.hasChanged(34)&&o.getModel()&&i._onViewZonesChanged()}))),this._register(o.onDidChangeModelContent((function(){i._isVisible&&i._beginUpdateDecorationsSoon()}))),this._register(o.onDidChangeModelOptions((function(e){e.tabSize&&i._updateDecorationsRunner.schedule()}))),o},t.prototype._createInnerEditor=function(e,t,i){return e.createInstance(p["a"],t,i,{})},t.prototype.dispose=function(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this.originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this.modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),e.prototype.dispose.call(this)},t.prototype.getId=function(){return this.getEditorType()+":"+this.id},t.prototype.getEditorType=function(){return A["a"].IDiffEditor},t.prototype.getLineChanges=function(){return this._diffComputationResult?this._diffComputationResult.changes:null},t.prototype.getOriginalEditor=function(){return this.originalEditor},t.prototype.getModifiedEditor=function(){return this.modifiedEditor},t.prototype.updateOptions=function(e){var i=!1;"undefined"!==typeof e.renderSideBySide&&this._renderSideBySide!==e.renderSideBySide&&(this._renderSideBySide=e.renderSideBySide,i=!0),"undefined"!==typeof e.maxComputationTime&&(this._maxComputationTime=e.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());var o=!1;"undefined"!==typeof e.ignoreTrimWhitespace&&this._ignoreTrimWhitespace!==e.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=e.ignoreTrimWhitespace,o=!0),"undefined"!==typeof e.renderIndicators&&this._renderIndicators!==e.renderIndicators&&(this._renderIndicators=e.renderIndicators,o=!0),o&&this._beginUpdateDecorations(),"undefined"!==typeof e.originalEditable&&(this._originalIsEditable=Boolean(e.originalEditable)),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e,this._originalIsEditable)),"undefined"!==typeof e.enableSplitViewResizing&&(this._enableSplitViewResizing=e.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),i&&(this._renderSideBySide?this._setStrategy(new ce(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new fe(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=t._getClassName(this._themeService.getTheme(),this._renderSideBySide))},t.prototype.getModel=function(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}},t.prototype.setModel=function(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(e?e.original:null),this.modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()},t.prototype.getDomNode=function(){return this._domElement},t.prototype.getVisibleColumnFromPosition=function(e){return this.modifiedEditor.getVisibleColumnFromPosition(e)},t.prototype.getPosition=function(){return this.modifiedEditor.getPosition()},t.prototype.setPosition=function(e){this.modifiedEditor.setPosition(e)},t.prototype.revealLine=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealLine(e,t)},t.prototype.revealLineInCenter=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealLineInCenter(e,t)},t.prototype.revealLineInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)},t.prototype.revealPosition=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealPosition(e,t)},t.prototype.revealPositionInCenter=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealPositionInCenter(e,t)},t.prototype.revealPositionInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)},t.prototype.getSelection=function(){return this.modifiedEditor.getSelection()},t.prototype.getSelections=function(){return this.modifiedEditor.getSelections()},t.prototype.setSelection=function(e){this.modifiedEditor.setSelection(e)},t.prototype.setSelections=function(e){this.modifiedEditor.setSelections(e)},t.prototype.revealLines=function(e,t,i){void 0===i&&(i=0),this.modifiedEditor.revealLines(e,t,i)},t.prototype.revealLinesInCenter=function(e,t,i){void 0===i&&(i=0),this.modifiedEditor.revealLinesInCenter(e,t,i)},t.prototype.revealLinesInCenterIfOutsideViewport=function(e,t,i){void 0===i&&(i=0),this.modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,i)},t.prototype.revealRange=function(e,t,i,o){void 0===t&&(t=0),void 0===i&&(i=!1),void 0===o&&(o=!0),this.modifiedEditor.revealRange(e,t,i,o)},t.prototype.revealRangeInCenter=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealRangeInCenter(e,t)},t.prototype.revealRangeInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)},t.prototype.revealRangeAtTop=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealRangeAtTop(e,t)},t.prototype.getSupportedActions=function(){return this.modifiedEditor.getSupportedActions()},t.prototype.saveViewState=function(){var e=this.originalEditor.saveViewState(),t=this.modifiedEditor.saveViewState();return{original:e,modified:t}},t.prototype.restoreViewState=function(e){if(e.original&&e.modified){var t=e;this.originalEditor.restoreViewState(t.original),this.modifiedEditor.restoreViewState(t.modified)}},t.prototype.layout=function(e){this._elementSizeObserver.observe(e)},t.prototype.focus=function(){this.modifiedEditor.focus()},t.prototype.hasTextFocus=function(){return this.originalEditor.hasTextFocus()||this.modifiedEditor.hasTextFocus()},t.prototype.trigger=function(e,t,i){this.modifiedEditor.trigger(e,t,i)},t.prototype.changeDecorations=function(e){return this.modifiedEditor.changeDecorations(e)},t.prototype._onDidContainerSizeChanged=function(){this._doLayout()},t.prototype._getReviewHeight=function(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0},t.prototype._layoutOverviewRulers=function(){if(this._originalOverviewRuler&&this._modifiedOverviewRuler){var e=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),o=t.ENTIRE_DIFF_OVERVIEW_WIDTH-2*t.ONE_OVERVIEW_WIDTH,n=this.modifiedEditor.getLayoutInfo();n&&(this._originalOverviewRuler.setLayout({top:0,width:t.ONE_OVERVIEW_WIDTH,right:o+t.ONE_OVERVIEW_WIDTH,height:e-i}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:t.ONE_OVERVIEW_WIDTH,height:e-i}))}},t.prototype._onViewZonesChanged=function(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()},t.prototype._beginUpdateDecorationsSoon=function(){var e=this;-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout((function(){return e._beginUpdateDecorations()}),t.UPDATE_DIFF_DECORATIONS_DELAY)},t._equals=function(e,t){return!e&&!t||!(!e||!t)&&e.toString()===t.toString()},t.prototype._beginUpdateDecorations=function(){var e=this;this._beginUpdateDecorationsTimeout=-1;var i=this.originalEditor.getModel(),n=this.modifiedEditor.getModel();if(i&&n){this._diffComputationToken++;var r=this._diffComputationToken;this._setState(1),this._editorWorkerService.canComputeDiff(i.uri,n.uri)?this._editorWorkerService.computeDiff(i.uri,n.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then((function(t){r===e._diffComputationToken&&i===e.originalEditor.getModel()&&n===e.modifiedEditor.getModel()&&(e._setState(2),e._diffComputationResult=t,e._updateDecorationsRunner.schedule(),e._onDidUpdateDiff.fire())}),(function(t){r===e._diffComputationToken&&i===e.originalEditor.getModel()&&n===e.modifiedEditor.getModel()&&(e._setState(2),e._diffComputationResult=null,e._updateDecorationsRunner.schedule())})):t._equals(i.uri,this._lastOriginalWarning)&&t._equals(n.uri,this._lastModifiedWarning)||(this._lastOriginalWarning=i.uri,this._lastModifiedWarning=n.uri,this._notificationService.warn(o["a"]("diff.tooLarge","Cannot compare files because one file is too large.")))}},t.prototype._cleanViewZonesAndDecorations=function(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)},t.prototype._updateDecorations=function(){if(this.originalEditor.getModel()&&this.modifiedEditor.getModel()&&this._originalOverviewRuler&&this._modifiedOverviewRuler){var e=this._diffComputationResult?this._diffComputationResult.changes:[],t=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces()),o=this._strategy.getEditorsDiffDecorations(e,this._ignoreTrimWhitespace,this._renderIndicators,t,i,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,o.original,!1),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,o.modified,!0)}finally{this._currentlyChangingViewZones=!1}}},t.prototype._adjustOptionsForSubEditor=function(e){var t=u["a"](e||{});return t.inDiffEditor=!0,t.wordWrap="off",t.wordWrapMinified=!1,t.automaticLayout=!1,t.scrollbar=t.scrollbar||{},t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=!1,t.fixedOverflowWidgets=!0,t.minimap||(t.minimap={}),t.minimap.enabled=!1,t},t.prototype._adjustOptionsForLeftHandSide=function(e,t){var i=this._adjustOptionsForSubEditor(e);return i.readOnly=!t,i.extraEditorClassName="original-in-monaco-diff-editor",i},t.prototype._adjustOptionsForRightHandSide=function(e){var i=this._adjustOptionsForSubEditor(e);return i.revealHorizontalRightPadding=y["e"].revealHorizontalRightPadding.defaultValue+t.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar.verticalHasArrows=!1,i.extraEditorClassName="modified-in-monaco-diff-editor",i},t.prototype.doLayout=function(){this._elementSizeObserver.observe(),this._doLayout()},t.prototype._doLayout=function(){var e=this._elementSizeObserver.getWidth(),i=this._elementSizeObserver.getHeight(),o=this._getReviewHeight(),n=this._strategy.layout();this._originalDomNode.style.width=n+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=e-n+"px",this._modifiedDomNode.style.left=n+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=i-o+"px",this._overviewDomElement.style.width=t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=e-t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(t.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this.originalEditor.layout({width:n,height:i-o}),this.modifiedEditor.layout({width:e-n-t.ENTIRE_DIFF_OVERVIEW_WIDTH,height:i-o}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(i-o,e,o),this._layoutOverviewViewport()},t.prototype._layoutOverviewViewport=function(){var e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))},t.prototype._computeOverviewViewport=function(){var e=this.modifiedEditor.getLayoutInfo();if(!e)return null;var t=this.modifiedEditor.getScrollTop(),i=this.modifiedEditor.getScrollHeight(),o=Math.max(0,e.height),n=Math.max(0,o-0),r=i>0?n/i:0,s=Math.max(0,Math.floor(e.height*r)),a=Math.floor(t*r);return{height:s,top:a}},t.prototype._createDataSource=function(){var e=this;return{getWidth:function(){return e._elementSizeObserver.getWidth()},getHeight:function(){return e._elementSizeObserver.getHeight()-e._getReviewHeight()},getContainerDomNode:function(){return e._containerDomElement},relayoutEditors:function(){e._doLayout()},getOriginalEditor:function(){return e.originalEditor},getModifiedEditor:function(){return e.modifiedEditor}}},t.prototype._setStrategy=function(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()},t.prototype._getLineChangeAtOrBeforeLineNumber=function(e,t){var i=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===i.length||e<t(i[0]))return null;var o=0,n=i.length-1;while(o<n){var r=Math.floor((o+n)/2),s=t(i[r]),a=r+1<=n?t(i[r+1]):1073741824;e<s?n=r-1:e>=a?o=r+1:(o=r,n=r)}return i[o]},t.prototype._getEquivalentLineForOriginalLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,(function(e){return e.originalStartLineNumber}));if(!t)return e;var i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),o=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),n=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-i;return s<=n?o+Math.min(s,r):o+r-n+s},t.prototype._getEquivalentLineForModifiedLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,(function(e){return e.modifiedStartLineNumber}));if(!t)return e;var i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),o=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),n=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-o;return s<=r?i+Math.min(s,n):i+n-r+s},t.prototype.getDiffLineInformationForOriginal=function(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null},t.prototype.getDiffLineInformationForModified=function(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null},t.ONE_OVERVIEW_WIDTH=15,t.ENTIRE_DIFF_OVERVIEW_WIDTH=30,t.UPDATE_DIFF_DECORATIONS_DELAY=200,t=te([ie(3,k["a"]),ie(4,L["c"]),ie(5,z["a"]),ie(6,f["a"]),ie(7,N["c"]),ie(8,B["a"]),ie(9,K["a"]),ie(10,Q["a"])],t),t}(l["a"]),se=function(e){function t(t){var i=e.call(this)||this;return i._dataSource=t,i._insertColor=null,i._removeColor=null,i}return ee(t,e),t.prototype.applyColors=function(e){var t=(e.getColor(E["j"])||E["g"]).transparent(2),i=(e.getColor(E["l"])||E["h"]).transparent(2),o=!t.equals(this._insertColor)||!i.equals(this._removeColor);return this._insertColor=t,this._removeColor=i,o},t.prototype.getEditorsDiffDecorations=function(e,t,i,o,n,r,s){n=n.sort((function(e,t){return e.afterLineNumber-t.afterLineNumber})),o=o.sort((function(e,t){return e.afterLineNumber-t.afterLineNumber}));var a=this._getViewZones(e,o,n,r,s,i),d=this._getOriginalEditorDecorations(e,t,i,r,s),l=this._getModifiedEditorDecorations(e,t,i,r,s);return{original:{decorations:d.decorations,overviewZones:d.overviewZones,zones:a.original},modified:{decorations:l.decorations,overviewZones:l.overviewZones,zones:a.modified}}},t}(l["a"]),ae=function(){function e(e){this._source=e,this._index=-1,this.current=null,this.advance()}return e.prototype.advance=function(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null},e}(),de=function(){function e(e,t,i,o,n){this.lineChanges=e,this.originalForeignVZ=t,this.originalLineHeight=i,this.modifiedForeignVZ=o,this.modifiedLineHeight=n}return e.prototype.getViewZones=function(){for(var t={original:[],modified:[]},i=0,o=0,n=0,r=0,s=0,a=0,d=function(e,t){return e.afterLineNumber-t.afterLineNumber},l=function(e,t){if(null===t.domNode&&e.length>0){var i=e[e.length-1];if(i.afterLineNumber===t.afterLineNumber&&null===i.domNode)return void(i.heightInLines+=t.heightInLines)}e.push(t)},u=new ae(this.modifiedForeignVZ),c=new ae(this.originalForeignVZ),h=0,f=this.lineChanges.length;h<=f;h++){var p=h<f?this.lineChanges[h]:null;null!==p?(n=p.originalStartLineNumber+(p.originalEndLineNumber>0?-1:0),r=p.modifiedStartLineNumber+(p.modifiedEndLineNumber>0?-1:0),o=p.originalEndLineNumber>0?p.originalEndLineNumber-p.originalStartLineNumber+1:0,i=p.modifiedEndLineNumber>0?p.modifiedEndLineNumber-p.modifiedStartLineNumber+1:0,s=Math.max(p.originalStartLineNumber,p.originalEndLineNumber),a=Math.max(p.modifiedStartLineNumber,p.modifiedEndLineNumber)):(n+=1e7+o,r+=1e7+i,s=n,a=r);var g=[],m=[];while(u.current&&u.current.afterLineNumber<=a){var _=void 0;_=u.current.afterLineNumber<=r?n-r+u.current.afterLineNumber:s;var v=null;p&&p.modifiedStartLineNumber<=u.current.afterLineNumber&&u.current.afterLineNumber<=p.modifiedEndLineNumber&&(v=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),g.push({afterLineNumber:_,heightInLines:u.current.height/this.modifiedLineHeight,domNode:null,marginDomNode:v}),u.advance()}while(c.current&&c.current.afterLineNumber<=s){_=void 0;_=c.current.afterLineNumber<=n?r-n+c.current.afterLineNumber:a,m.push({afterLineNumber:_,heightInLines:c.current.height/this.originalLineHeight,domNode:null}),c.advance()}if(null!==p&&ge(p)){var y=this._produceOriginalFromDiff(p,o,i);y&&g.push(y)}if(null!==p&&me(p)){y=this._produceModifiedFromDiff(p,o,i);y&&m.push(y)}var w=0,D=0;g=g.sort(d),m=m.sort(d);while(w<g.length&&D<m.length){var C=g[w],b=m[D],S=C.afterLineNumber-n,L=b.afterLineNumber-r;S<L?(l(t.original,C),w++):L<S?(l(t.modified,b),D++):C.shouldNotShrink?(l(t.original,C),w++):b.shouldNotShrink?(l(t.modified,b),D++):C.heightInLines>=b.heightInLines?(C.heightInLines-=b.heightInLines,D++):(b.heightInLines-=C.heightInLines,w++)}while(w<g.length)l(t.original,g[w]),w++;while(D<m.length)l(t.modified,m[D]),D++}return{original:e._ensureDomNodes(t.original),modified:e._ensureDomNodes(t.modified)}},e._ensureDomNodes=function(e){return e.map((function(e){return e.domNode||(e.domNode=_e()),e}))},e}();function le(e,t,i,o,n){return{range:new W["a"](e,t,i,o),options:n}}var ue={charDelete:H["a"].register({className:"char-delete"}),charDeleteWholeLine:H["a"].register({className:"char-delete",isWholeLine:!0}),charInsert:H["a"].register({className:"char-insert"}),charInsertWholeLine:H["a"].register({className:"char-insert",isWholeLine:!0}),lineInsert:H["a"].register({className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:H["a"].register({className:"line-insert",linesDecorationsClassName:"insert-sign codicon codicon-add",marginClassName:"line-insert",isWholeLine:!0}),lineDelete:H["a"].register({className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:H["a"].register({className:"line-delete",linesDecorationsClassName:"delete-sign codicon codicon-remove",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:H["a"].register({marginClassName:"line-delete"})},ce=function(e){function t(t,i){var o=e.call(this,t)||this;return o._disableSash=!1===i,o._sashRatio=null,o._sashPosition=null,o._startSashPosition=null,o._sash=o._register(new s["a"](o._dataSource.getContainerDomNode(),o)),o._disableSash&&(o._sash.state=0),o._sash.onDidStart((function(){return o.onSashDragStart()})),o._sash.onDidChange((function(e){return o.onSashDrag(e)})),o._sash.onDidEnd((function(){return o.onSashDragEnd()})),o._sash.onDidReset((function(){return o.onSashReset()})),o}return ee(t,e),t.prototype.setEnableSplitViewResizing=function(e){var t=!1===e;this._disableSash!==t&&(this._disableSash=t,this._sash.state=this._disableSash?0:3)},t.prototype.layout=function(e){void 0===e&&(e=this._sashRatio);var i=this._dataSource.getWidth(),o=i-re.ENTIRE_DIFF_OVERVIEW_WIDTH,n=Math.floor((e||.5)*o),r=Math.floor(.5*o);return n=this._disableSash?r:n||r,o>2*t.MINIMUM_EDITOR_WIDTH?(n<t.MINIMUM_EDITOR_WIDTH&&(n=t.MINIMUM_EDITOR_WIDTH),n>o-t.MINIMUM_EDITOR_WIDTH&&(n=o-t.MINIMUM_EDITOR_WIDTH)):n=r,this._sashPosition!==n&&(this._sashPosition=n,this._sash.layout()),this._sashPosition},t.prototype.onSashDragStart=function(){this._startSashPosition=this._sashPosition},t.prototype.onSashDrag=function(e){var t=this._dataSource.getWidth(),i=t-re.ENTIRE_DIFF_OVERVIEW_WIDTH,o=this.layout((this._startSashPosition+(e.currentX-e.startX))/i);this._sashRatio=o/i,this._dataSource.relayoutEditors()},t.prototype.onSashDragEnd=function(){this._sash.layout()},t.prototype.onSashReset=function(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()},t.prototype.getVerticalSashTop=function(e){return 0},t.prototype.getVerticalSashLeft=function(e){return this._sashPosition},t.prototype.getVerticalSashHeight=function(e){return this._dataSource.getHeight()},t.prototype._getViewZones=function(e,t,i,o,n){var r=new he(e,t,o.getOption(49),i,n.getOption(49));return r.getViewZones()},t.prototype._getOriginalEditorDecorations=function(e,t,i,o,n){for(var r=String(this._removeColor),s={decorations:[],overviewZones:[]},a=o.getModel(),d=0,l=e.length;d<l;d++){var u=e[d];if(me(u)&&(s.decorations.push({range:new W["a"](u.originalStartLineNumber,1,u.originalEndLineNumber,1073741824),options:i?ue.lineDeleteWithSign:ue.lineDelete}),ge(u)&&u.charChanges||s.decorations.push(le(u.originalStartLineNumber,1,u.originalEndLineNumber,1073741824,ue.charDeleteWholeLine)),s.overviewZones.push(new U["a"](u.originalStartLineNumber,u.originalEndLineNumber,r)),u.charChanges))for(var c=0,h=u.charChanges.length;c<h;c++){var f=u.charChanges[c];if(me(f))if(t)for(var p=f.originalStartLineNumber;p<=f.originalEndLineNumber;p++){var g=void 0,m=void 0;g=p===f.originalStartLineNumber?f.originalStartColumn:a.getLineFirstNonWhitespaceColumn(p),m=p===f.originalEndLineNumber?f.originalEndColumn:a.getLineLastNonWhitespaceColumn(p),s.decorations.push(le(p,g,p,m,ue.charDelete))}else s.decorations.push(le(f.originalStartLineNumber,f.originalStartColumn,f.originalEndLineNumber,f.originalEndColumn,ue.charDelete))}}return s},t.prototype._getModifiedEditorDecorations=function(e,t,i,o,n){for(var r=String(this._insertColor),s={decorations:[],overviewZones:[]},a=n.getModel(),d=0,l=e.length;d<l;d++){var u=e[d];if(ge(u)&&(s.decorations.push({range:new W["a"](u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824),options:i?ue.lineInsertWithSign:ue.lineInsert}),me(u)&&u.charChanges||s.decorations.push(le(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824,ue.charInsertWholeLine)),s.overviewZones.push(new U["a"](u.modifiedStartLineNumber,u.modifiedEndLineNumber,r)),u.charChanges))for(var c=0,h=u.charChanges.length;c<h;c++){var f=u.charChanges[c];if(ge(f))if(t)for(var p=f.modifiedStartLineNumber;p<=f.modifiedEndLineNumber;p++){var g=void 0,m=void 0;g=p===f.modifiedStartLineNumber?f.modifiedStartColumn:a.getLineFirstNonWhitespaceColumn(p),m=p===f.modifiedEndLineNumber?f.modifiedEndColumn:a.getLineLastNonWhitespaceColumn(p),s.decorations.push(le(p,g,p,m,ue.charInsert))}else s.decorations.push(le(f.modifiedStartLineNumber,f.modifiedStartColumn,f.modifiedEndLineNumber,f.modifiedEndColumn,ue.charInsert))}}return s},t.MINIMUM_EDITOR_WIDTH=100,t}(se),he=function(e){function t(t,i,o,n,r){return e.call(this,t,i,o,n,r)||this}return ee(t,e),t.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){return null},t.prototype._produceOriginalFromDiff=function(e,t,i){return i>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i-t,domNode:null}:null},t.prototype._produceModifiedFromDiff=function(e,t,i){return t>i?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-i,domNode:null}:null},t}(de),fe=function(e){function t(t,i){var o=e.call(this,t)||this;return o.decorationsLeft=t.getOriginalEditor().getLayoutInfo().decorationsLeft,o._register(t.getOriginalEditor().onDidLayoutChange((function(e){o.decorationsLeft!==e.decorationsLeft&&(o.decorationsLeft=e.decorationsLeft,t.relayoutEditors())}))),o}return ee(t,e),t.prototype.setEnableSplitViewResizing=function(e){},t.prototype._getViewZones=function(e,t,i,o,n,r){var s=new pe(e,t,i,o,n,r);return s.getViewZones()},t.prototype._getOriginalEditorDecorations=function(e,t,i,o,n){for(var r=String(this._removeColor),s={decorations:[],overviewZones:[]},a=0,d=e.length;a<d;a++){var l=e[a];me(l)&&(s.decorations.push({range:new W["a"](l.originalStartLineNumber,1,l.originalEndLineNumber,1073741824),options:ue.lineDeleteMargin}),s.overviewZones.push(new U["a"](l.originalStartLineNumber,l.originalEndLineNumber,r)))}return s},t.prototype._getModifiedEditorDecorations=function(e,t,i,o,n){for(var r=String(this._insertColor),s={decorations:[],overviewZones:[]},a=n.getModel(),d=0,l=e.length;d<l;d++){var u=e[d];if(ge(u))if(s.decorations.push({range:new W["a"](u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824),options:i?ue.lineInsertWithSign:ue.lineInsert}),s.overviewZones.push(new U["a"](u.modifiedStartLineNumber,u.modifiedEndLineNumber,r)),u.charChanges)for(var c=0,h=u.charChanges.length;c<h;c++){var f=u.charChanges[c];if(ge(f))if(t)for(var p=f.modifiedStartLineNumber;p<=f.modifiedEndLineNumber;p++){var g=void 0,m=void 0;g=p===f.modifiedStartLineNumber?f.modifiedStartColumn:a.getLineFirstNonWhitespaceColumn(p),m=p===f.modifiedEndLineNumber?f.modifiedEndColumn:a.getLineLastNonWhitespaceColumn(p),s.decorations.push(le(p,g,p,m,ue.charInsert))}else s.decorations.push(le(f.modifiedStartLineNumber,f.modifiedStartColumn,f.modifiedEndLineNumber,f.modifiedEndColumn,ue.charInsert))}else s.decorations.push(le(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824,ue.charInsertWholeLine))}return s},t.prototype.layout=function(){return Math.max(5,this.decorationsLeft)},t}(se),pe=function(e){function t(t,i,o,n,r,s){var a=e.call(this,t,i,n.getOption(49),o,r.getOption(49))||this;return a.originalModel=n.getModel(),a.modifiedEditorOptions=r.getOptions(),a.modifiedEditorTabSize=r.getModel().getOptions().tabSize,a.renderIndicators=s,a}return ee(t,e),t.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){var e=document.createElement("div");return e.className="inline-added-margin-view-zone",e},t.prototype._produceOriginalFromDiff=function(e,t,i){var o=document.createElement("div");return o.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:o}},t.prototype._produceModifiedFromDiff=function(e,t,i){var o=[];if(e.charChanges)for(var n=0,r=e.charChanges.length;n<r;n++){var s=e.charChanges[n];me(s)&&o.push(new S["a"](new W["a"](s.originalStartLineNumber,s.originalStartColumn,s.originalEndLineNumber,s.originalEndColumn),"char-delete",0))}for(var a=Object(F["a"])(1e4),d=[],l=this.modifiedEditorOptions.get(107),u=this.modifiedEditorOptions.get(34),h=l.decorationsWidth,f=this.modifiedEditorOptions.get(49),p=u.typicalHalfwidthCharacterWidth,g=0,m=[],_=e.originalStartLineNumber;_<=e.originalEndLineNumber;_++)if(g=Math.max(g,this._renderOriginalLine(_-e.originalStartLineNumber,this.originalModel,this.modifiedEditorOptions,this.modifiedEditorTabSize,_,o,a)),m.push(this.originalModel.getLineContent(_)),this.renderIndicators){var v=_-e.originalStartLineNumber;d=d.concat(['<div class="delete-sign codicon codicon-remove" style="position:absolute;top:'+v*f+"px;width:"+h+"px;height:"+f+'px;right:0;"></div>'])}g+=this.modifiedEditorOptions.get(79);var y=document.createElement("div");y.className="view-lines line-delete",y.innerHTML=a.build(),c["a"].applyFontInfoSlow(y,u);var w=document.createElement("div");return w.className="inline-deleted-margin-view-zone",w.innerHTML=d.join(""),c["a"].applyFontInfoSlow(w,u),{shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:g*p,domNode:y,marginDomNode:w,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalContent:m}}},t.prototype._renderOriginalLine=function(e,t,i,o,n,r,s){var a=t.getLineTokens(n),d=a.getLineContent(),l=i.get(34),u=j["a"].filter(r,n,1,d.length+1);s.appendASCIIString('<div class="view-line'),0===r.length&&s.appendASCIIString(" char-delete"),s.appendASCIIString('" style="top:'),s.appendASCIIString(String(e*i.get(49))),s.appendASCIIString('px;width:1000000px;">');var c=S["d"].isBasicASCII(d,t.mightContainNonBasicASCII()),h=S["d"].containsRTL(d,c,t.mightContainRTL()),f=Object(b["d"])(new b["c"](l.isMonospace&&!i.get(23),l.canUseHalfwidthRightwardsArrow,d,!1,c,h,0,a,u,o,0,l.spaceWidth,l.middotWidth,i.get(88),i.get(74),i.get(69),i.get(35)!==y["d"].OFF,null),s);s.appendASCIIString("</div>");var p=f.characterMapping.getAbsoluteOffsets();return p.length>0?p[p.length-1]:0},t}(de);function ge(e){return e.modifiedEndLineNumber>0}function me(e){return e.originalEndLineNumber>0}function _e(){var e=document.createElement("div");return e.className="diagonal-fill",e}Object(N["e"])((function(e,t){var i=e.getColor(E["j"]);i&&(t.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { background-color: "+i+"; }"),t.addRule(".monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: "+i+"; }"),t.addRule(".monaco-editor .inline-added-margin-view-zone { background-color: "+i+"; }"));var o=e.getColor(E["l"]);o&&(t.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { background-color: "+o+"; }"),t.addRule(".monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: "+o+"; }"),t.addRule(".monaco-editor .inline-deleted-margin-view-zone { background-color: "+o+"; }"));var n=e.getColor(E["k"]);n&&t.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+n+"; }");var r=e.getColor(E["m"]);r&&t.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+r+"; }");var s=e.getColor(E["rb"]);s&&t.addRule(".monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px "+s+"; }");var a=e.getColor(E["i"]);a&&t.addRule(".monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid "+a+"; }")}))}}]);